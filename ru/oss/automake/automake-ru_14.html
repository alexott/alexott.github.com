<HTML>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- Created on February, 19  2004 by texi2html 1.64 -->
<!-- 
Written by: Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Olaf Bachmann <obachman@mathematik.uni-kl.de>
Send bugs and suggestions to <texi2html@mathematik.uni-kl.de>
 
-->
<HEAD>
<TITLE>automake: Тесты</TITLE>

<META NAME="description" CONTENT="automake: Тесты">
<META NAME="keywords" CONTENT="automake: Тесты">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META NAME="Generator" CONTENT="texi2html 1.64">

</HEAD>

<BODY LANG="" BGCOLOR="#FFFFFF" TEXT="#000000" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">

<A NAME="SEC54"></A>
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="automake-ru_13.html#SEC53"> &lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="automake-ru_15.html#SEC55"> &gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="automake-ru_13.html#SEC53"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="automake-ru.html#SEC_Top"> Up </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="automake-ru_15.html#SEC55"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="automake-ru.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="automake-ru_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="automake-ru_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<H1> 14. Поддержка комплектов тестирования </H1>
<!--docid::SEC54::-->
<P>

<A NAME="IDX433"></A>
<A NAME="IDX434"></A>
</P><P>

Automake поддерживает два вида комплектов тестирования.
</P><P>

Если определена переменная <CODE>TESTS</CODE>, то ее значение является списком
программ, которые надо запустить для проведения тестирования. Программы
могут быть либо унаследованными объектами, либо исходными объектами;
сгенерированное правило будет искать их и в <CODE>srcdir</CODE>, и в
<TT>`.'</TT>. Программы, которые нуждаются в файлах данных должны искать их
в каталоге <CODE>srcdir</CODE> (который указан в одноименных переменных среды
и make), так что они будут работать при построении в отдельном каталоге
(see section `Каталоги сборки' in <CITE>Руководство Autoconf</CITE>), и в частности для цели <CODE>distcheck</CODE>
(see section <A HREF="automake-ru_13.html#SEC53">13. Что войдет в дистрибутив</A>).
</P><P>

<A NAME="IDX435"></A>
</P><P>

Количество сбоев будет напечатано в конце запуска. Если заданная
тестовая программа заканчивает работу с кодом 77, то ее результаты
игнорируется в завершающем подсчете. Это свойство позволяет
игнорировать непереносимые тесты, в тех случаях когда они не имеют
значения. 
</P><P>

Переменная <CODE>TESTS_ENVIRONMENT</CODE> может быть использована для
установки переменных среды для запускаемых тестов; при выполнении этого
правила переменная среды <CODE>srcdir</CODE> устанавливается. Если все ваши
тестовые программы являются скриптами, то вы также можете установить
переменную <CODE>TESTS_ENVIRONMENT</CODE> для вызова командного процессора
(например, <SAMP>`$(SHELL) -x'</SAMP>); это свойство может быть полезно при
отладке тестов.
<A NAME="IDX436"></A>
<A NAME="IDX437"></A>
</P><P>

Если в переменной <CODE>AUTOMAKE_OPTIONS</CODE> указано
<A HREF="ftp://prep.ai.mit.edu/pub/gnu/dejagnu-1.3.tar.gz"><SAMP>`dejagnu'</SAMP></A>,
то предполагается использования комплекта тестов на базе
<CODE>dejagnu</CODE>. Значение переменной <CODE>DEJATOOL</CODE> передается как
аргумент ключа <CODE>--tool</CODE> программы <CODE>runtest</CODE>; по умолчанию это
имя пакета.
</P><P>

Переменная <CODE>RUNTESTDEFAULTFLAGS</CODE> содержит флаги для ключей
<CODE>--tool</CODE> и <CODE>--srcdir</CODE>, которые по умолчанию передаются
dejagnu; в случае необходимости это поведение может быть изменено.
<A NAME="IDX438"></A>
</P><P>

Переменные <CODE>EXPECT</CODE>, <CODE>RUNTEST</CODE> и <CODE>RUNTESTFLAGS</CODE> могут
быть переопределены для подстановки специфичных для проекта
значений. Например, если вам необходимо сделать это для тестирования
toolchain компилятора, поскольку значения по умолчанию не должны
содержать имена машины и цели.
<A NAME="IDX439"></A>
<A NAME="IDX440"></A>
<A NAME="IDX441"></A>
<A NAME="IDX442"></A>
<A NAME="IDX443"></A>
</P><P>

В других случаях тестирование производится через цель <SAMP>`make check'</SAMP>.
</P><P>

<A NAME="Ключи"></A>
<HR SIZE="6">
<TABLE CELLPADDING=1 CELLSPACING=1 BORDER=0>
<TR><TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="automake-ru_13.html#SEC53"> &lt;&lt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="automake-ru_15.html#SEC55"> &gt;&gt; </A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT"> &nbsp; <TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="automake-ru.html#SEC_Top">Top</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="automake-ru_toc.html#SEC_Contents">Contents</A>]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[Index]</TD>
<TD VALIGN="MIDDLE" ALIGN="LEFT">[<A HREF="automake-ru_abt.html#SEC_About"> ? </A>]</TD>
</TR></TABLE>
<BR>  
<FONT SIZE="-1">
This document was generated
on <I>February, 19  2004</I>
using <A HREF="http://www.mathematik.uni-kl.de/~obachman/Texi2html
"><I>texi2html</I></A>

</BODY>
</HTML>
