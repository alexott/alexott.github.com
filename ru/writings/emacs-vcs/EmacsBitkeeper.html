<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html><head>
<title>Поддержка BitKeeper</title>
<meta name="generator" content="muse.el" />
<meta name="author" content="Alex Ott" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="alex ott, emacs, bitkeeper" />
    
    
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen,projection" href="../../../web.css" />
<link rel="stylesheet" type="text/css" href="../../../print.css" media="print" />
<link rel="alternate" type="application/atom+xml" title="Alex Ott's Russian Blog" href="http://feeds.feedburner.com/alexott-ru" />
<link rel="alternate" type="application/atom+xml" title="Alex Ott's English Blog" href="http://feeds.feedburner.com/alexott" />
<link rel="alternate" type="application/atom+xml" title="Alex Ott's German Blog" href="http://feeds.feedburner.com/alexott-de" />
</head><body>
<div id="wrap"><div id="header"><h1>Поддержка BitKeeper</h1>
<p><a href="../../../ru/index.html">Russian</a>
&middot; <a href="../../../en/index.html">English</a></p></div>

<div id="leftside"><h2 class="hide">Меню:</h2><ul class="avmenu"><li><a href="../../index.html">Главная</a></li><li><a href="../../cf/">Информационная безопасность</a></li><li><a href="../../fp/">Функциональное программирование</a></li><li><a href="../../lisp/">Lisp</a></li><li><a href="../../clojure/">Clojure</a></li><li><a href="../../scheme/">Scheme</a></li><li><a href="../../erlang/">Erlang</a></li><li><a href="../../cpp/">C++</a></li><li><a href="../../oss/">Open Source Projects</a></li><li><a href="../../emacs/">Emacs</a></li><li><a href="../../writings/" class="current">Статьи</a></li></ul>
<div class="announce"><br><form action="http://www.google.com/cse" id="searchbox_006849776194404728512:q7vjogjzehm">  
<input type="hidden" name="cx" value="006849776194404728512:q7vjogjzehm">  
<input type="text" name="q" size="17">  <input type="submit" name="sa" value="Search"> </form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=searchbox_006849776194404728512%3Aq7vjogjzehm&lang=ru">
</script>
<p>Баннер для <a href="http://users.livejournal.com/_darkus_/615051.html">фонда поддержки ФП</a></p></p>
<script type="text/javascript">google_ad_client = "ca-pub-3939516554853109"; google_ad_slot = "1719545528"; google_ad_width = 120; google_ad_height = 240;</script><script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></div>
</div> <!-- leftside -->

<div id="contentwide">
<div class="contents">
<dl>
<dt>
<a href="#sec1">Установка пакета</a>
</dt>
<dt>
<a href="#sec2">Использование пакета</a>
</dt>
<dt>
<a href="#sec3">Настраиваем пакет</a>
</dt>
</dl>
</div>


<p><em>BitKeeper</em> &mdash; это коммерческая реализация системы контроля версий.  Однако ее можно
использовать и в свободных проектах, без уплаты каких-либо отчислений.  Наиболее
масштабным проектом с открытым исходным кодом, использующим данную систему, являлась
разработка ядра Linux (сейчас для этого используется <em>Git</em>).</p>

<h2><a name="sec1" id="sec1"></a>
Установка пакета</h2>

<p class="first">Для установки пакета <em>bk</em> вам нужно получить его копию с
<a href="http://www.emacswiki.org/elisp/bk.el">http://www.emacswiki.org/elisp/bk.el</a>, или использовать репозиторий <em>BitKeeper</em> по адресу
<code>bk://bk-emacs.bkbits.net/emacs</code>.  Полученный файл необходимо поместить в доступное для
Emacs место и выполнить команду загрузки.  Для работы пакета необходимо наличие библиотеки
<em>x-migrant</em>, но если ее у вас нет, то вы можете закомментировать ее загрузку в исходном коде
пакета.</p>


<h2><a name="sec2" id="sec2"></a>
Использование пакета</h2>

<p class="first">По большей части, работа с пакетом <em>bk</em> похожа на работу с пакетом <em>VC</em>.  Так, что если вы
знакомы с ним, то привязки клавиш и принципы работы, будут вам знакомы.</p>

<p>Команды пакета могут выполняться через стандартный механизм выполнения команд доступный
через сочетание клавиш <code>M-x</code>, через глобальные и локальные привязки клавиш, а также через
меню <code>BitKeeper</code>, доступное при работе в режиме <em>bk-mode</em>.</p>

<p>Для привязки клавиш данный пакет использует два префикса.  <code>C-x v</code> &mdash; это префикс
используемый пакетом <em>VC</em>, и так что команды пакета <em>bk</em> перекрывают часть команд <em>VC</em>
применимых к конкретным файлам.  <code>C-c b</code> является глобальным префиксом, и с его помощью
применяются команды, которые применимы не только к конкретным файлам.</p>

<p>Следует помнить что только часть команд доступна через глобальные привязки клавиш.  Обычно
это команды, привязки которых начинаются с префиксов <code>C-x v</code> или <code>C-c b</code>.  Остальные команды
доступны только при работе с файлами, которые зарегистрированы в системе <em>BitKeeper</em>.</p>

<p>При работе с файлами, которые находятся под контролем <em>BitKeeper</em>, в строке состояния может
отображаться либо значение <em>BKL</em>, для случая, когда репозиторий лицензирован в терминах <em>BKL</em>
(стандартная коммерческая лицензия) или <em>BKCL</em>, когда используется лицензия <em>BKCL</em> (лицензия
для проектов с открытым исходным кодом).  Для получения более подробной информации об
этом, просто наберите <code>M-x bk-help licensing</code>.</p>

<p>Регистрация файлов в репозитории производится с помощью команды <code>bk-register</code> привязанной к
сочетанию клавиш <code>C-x v i</code>.  Работа с зарегистрированными файлами по принципу похожа на
работу с файлами в пакете <em>VC</em>.  Получение файла из репозитория для редактирования, и
освобождение его и помещение в репозиторий производится с помощью команды
<code>vc-toggle-read-only</code> (сочетание <code>C-x C-q</code>).  Вы также можете отменить сделанные вами
изменения и вернуться к версии в репозитории с помощью <code>vc-revert-buffer</code> (сочетание клавиш
<code>C-x v u</code>).</p>

<p>Просмотр информации о конкретной ревизии файла производится с помощью команды
<code>bk-print-revision-summary</code> (сочетание <code>C-x v l</code>).  Для просмотра истории ревизий в
графическом виде, пользователь может использовать команду <code>bk-revtool</code> (она привязана к <code>C-c
b r</code>), которая запускает графический браузер ревизий из поставки <em>BitKeeper</em>.  Пользователь
может также просмотреть конкретную ревизию файла с помощью команды <code>bk-print-rev</code> (сочетание
клавиш <code>C-x v ~</code>), или аннотированную версию файла, используя команду <code>bk-annotate</code>,
привязанную к сочетанию клавиш <code>C-x v g</code>.  Просмотр осуществляется с использованием
<code>view-mode</code>.</p>

<p>Работа с изменениями в <em>BitKeeper</em> основана на концепции набора изменений (changeset).  Для
работы с наборами изменений, пакет <em>bk</em> определяет несколько команд.  Для внесения
изменений, и создания набора изменений, используется команда <code>bk-citool</code>, которая привязана
к сочетанию клавиш <code>C-c b c</code>.  Данная команда запускает графическую утилиту из состава
<em>BitKeeper</em> для подтверждения изменений в репозиторий.</p>

<p>Для обмена наборами изменений между разными репозиториями, пакет <em>bk</em> определяет две
команды.  Команда <code>bk-push</code> (она привязана к <code>C-c b .</code>) используется для передачи набора
изменений в родительский репозиторий.  А команда <code>bk-pull</code> (сочетание <code>C-c b ,</code>) используется
для втягивания наборов изменений, имеющихся в родительском репозитории.  Обе эти команды
имеют глобальные привязки клавиш, так что ими можно пользоваться из любого места.</p>

<p>Для получения изменений между вашим файлом и файлом в репозитории, может использоваться
команда <code>bk-diffs</code>, которая привязана к сочетанию клавиш <code>C-x v =</code>.  А для
рекурсивного выполнения сравнения файлов в каталоге, с их версиями в репозитории,
используется команда <code>bk-recursive-diffs</code> (сочетание <code>C-c b =</code>).  Команда
<code>bk-interesting-diffs</code> (сочетание <code>C-c b i</code>) рекурсивно выполняет сравнение для некоторых
файлов.  К этим файлам относятся, те которые заблокированы и изменены, или те, которые
были помещены в репозиторий, но еще не были подтверждены в набор изменений.</p>

<p>Для показа списка файлов, которые были заблокированы и изменены, или которые были помещены
в репозиторий, но еще не были подтверждены в набор изменений, используется команда
<code>bk-sfiles</code> (сочетание клавиш <code>C-c b s</code>).</p>

<p>Для получения короткого описания пакета и основных команд работы с ним, пользователь может
использовать команду <code>bk-help-overview</code> (сочетание клавиш <code>C-c b h</code>).  Пользователь также
может получать справку по работе с <em>BitKeeper</em> с помощью следующих команд: команда <code>bk-help</code>
(сочетание <code>C-c b m</code>) отображает справочную страницу <em>BitKeeper</em>, команда <code>bk-apropos</code>
(сочетание <code>C-c b a</code>) осуществляет поиск по документации <em>BitKeeper</em>, а команда <code>bk-helptool</code>
запускает графическое средство для работы со справочной системой <em>BitKeeper</em>.</p>


<h2><a name="sec3" id="sec3"></a>
Настраиваем пакет</h2>

<p class="first">Для настройки пакета <em>bk</em> можно использовать стандартный механизм настройки Emacs.  С
помощью команды <code>M-x customize-group bk</code>, пользователь может задать пути к исполняемым
файлам <em>BitKeeper</em>, аргументы для этих команд, а также сочетание клавиш, которое будет
использоваться в качестве префикса для команд пакета.</p>

<div id="rule"><a href="index.html">На главную страницу</a></div>


<!-- Page published by Emacs Muse ends here -->
<div id="lastchange"><p><em>Last change: 09.03.2012 14:36</em></p></div>

<div id="rule"><div id="disqus_thread"></div>
<script type="text/javascript">
var disqus_shortname = 'alexottnet';
var disqus_identifier = '/ru/writings/emacs-vcs/EmacsBitkeeper.html';
var disqus_url = 'http://alexott.net/ru/writings/emacs-vcs/EmacsBitkeeper.html';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
</div></div><!-- div-contentwide -->

<div id="footer"><p>Copyright &copy; 1997-2011<a href="../../../copyright.html">Alex Ott</a> &middot; Design by <a href="http://andreasviklund.com/">Andreas Viklund</a>&nbsp;&middot;&nbsp; <a href="http://mwolson.org/projects/EmacsMuse.html"><img alt="muse logo" src="../../../muse-grey-bar.png" /></a></p></div></div> <!-- div-wrap -->

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
try {var pageTracker = _gat._getTracker("UA-78697-10");pageTracker._trackPageview();} catch(err) {}</script>
</body></html>