<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Работа с ClearCase</title><link rel="stylesheet" href="web.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.73.2"><meta name="keywords" content="Emacs, GNU Emacs, XEmacs, version control, configuration management, "><link rel="start" href="index.html" title="Использование Emacs совместно с системами контроля версий"><link rel="up" href="index.html" title="Использование Emacs совместно с системами контроля версий"><link rel="prev" href="ar01s09.html" title="Работа с Aegis"><link rel="next" href="ar01s11.html" title="Интеграция с Perforce"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Работа с <span class="application">ClearCase</span></th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s09.html">Пред.</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s11.html">След.</a></td></tr></table><hr></div><div class="section" lang="ru"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="emacs.vcs.clearcase"></a>Работа с <span class="application">ClearCase</span></h2></div></div></div><p>Для системы <span class="application">ClearCase</span> имеется как модуль для пакета <span class="application">VC</span>, так и специализированный модуль —  <span class="application">clearcase</span>.  Специализированный модуль
  имеет больше возможностей, и пользователям рекомендуется использовать
  именно его.  Данный пакет поддерживает следующие возможности:

  </p><div class="itemizedlist"><ul type="disc"><li><p>просмотр и работа со снапшотами;</p></li><li><p>режимы для редактирования комментарием и настроек;</p></li><li><p>контекстное меню;</p></li><li><p>запуск стандартных графических утилит
    <span class="application">ClearCase</span>;</p></li><li><p>выполнение большинства действий напрямую из
    <span class="application">Emacs</span>.</p></li></ul></div><p>
  </p><div class="section" lang="ru"><div class="titlepage"><div><div><h3 class="title"><a name="id2586148"></a>Установка пакета</h3></div></div></div><p>Пакет <span class="application">clearcase</span> доступен для загрузки со <a class="ulink" href="http://members.verizon.net/~vze24fr2/EmacsClearCase" target="_top">страницы автора</a>.  Он может использоваться и с <span class="application">GNU Emacs</span> версии 20.4
    или выше, и с достаточно свежими версиями <span class="application">XEmacs</span>. Пакет может работать в разных операционных системах —  как семейства Windows,
    так и семейства Unix.  Для использования пакета, лишь поместите файлы в
    доступное для <span class="application">Emacs</span> место, и выполните команду

    </p><pre class="screen">(require 'clearcase)
</pre><p>Пакет имеет проблемы при совместном использовании со старой версией
    пакета <span class="application">vc-hooks</span>, в которой используются
    несовместимые версии пакета <span class="application">tq</span>.  Но сейчас это
    встречается достаточно редко.</p></div><div class="section" lang="ru"><div class="titlepage"><div><div><h3 class="title"><a name="id2586235"></a>Использование пакета <span class="application">clearcase</span></h3></div></div></div><p>Пакет <span class="application">clearcase</span> пытается по возможности сохранять
    совместимость с <span class="application">VC</span> по части привязок клавиш.  Но предоставляемый
    интерфейс является более мощным, и лучше отражает идеологию <span class="application">ClearCase</span>,
    чем модуль для пакета <span class="application">VC</span>.</p><p>Работа с пакетом может осуществляться через выполнение команд
    напрямую, используя привязки клавиш, или через меню
    <code class="literal">ClearCase</code>, которое появляется при редактировании
    файлов с использованием вспомогательного режима <span class="application">ClearCase</span>.  Кроме
    выполнения действий прямо из <span class="application">Emacs</span>, пользователь может использовать и
    внешние программы из состава <span class="application">ClearCase</span>.  Сюда относятся утилиты для
    просмотра дерева версий и работы с проектами, а также менеджер слияний,
    и прочие утилиты.</p><p>Многие операции пакет позволяет производить используя режим
    <span class="application">dired</span>. Сюда относятся операции просмотр дерева версий, массовая работа с файлами —  извлечение и помещение их в
    репозиторий.  Для обработки каталогов, находящихся под управлением
    <span class="application">ClearCase</span>, при использовании dired, пакет <span class="application">clearcase</span> определяет специальный режим —  <code class="function">clearcase-dired-mode</code>.
    Кроме этого, пакет определяет еще несколько вспомогательных режимов,
    например, режим для редактирования комментариев.</p><p>Для своих привязок клавиш, пакет <span class="application">clearcase</span> использует префиксное
    сочетание клавиш <span class="keysym">C</span>+<span class="keysym">x</span> <span class="keysym">v</span>.  Для того, чтобы
    команды <span class="application">clearcase</span> не пересекались с командами пакета <span class="application">VC</span>, пакет
    <span class="application">clearcase</span> удаляет неиспользуемые привязки, при работе с данными,
    находящимися под контролем <span class="application">ClearCase</span>.</p><p>Команды работы с данными можно разделить на несколько логических групп —  работа с файлами, работа с изменениями, использование
    внешних утилит <span class="application">ClearCase</span>, получение информации, и прочие команды.
    Практически для каждой команды, которая работает с текущим буфером (они
    оканчиваются на суффикс <code class="function">-current-buffer</code>) существует
    аналогичная команда, которая работает с текущим файлом в буфере
    <span class="application">dired</span>.  Такие команды имеют суффикс
    <code class="function">-dired-file</code>.</p><div class="section" lang="ru"><div class="titlepage"><div><div><h4 class="title"><a name="id2586484"></a>Работа с версиями</h4></div></div></div><p>Пакет <span class="application">clearcase</span> старается в своей работе поддерживать логику
      операций, которые предоставляются пакетом <span class="application">VC</span>.  Для этого, определены
      команды <code class="function">clearcase-next-action-current-buffer</code> и
      <code class="function">clearcase-next-action-dired-files</code>, которые выполняют
      следующую операцию в цепочке действий над текущим буфером, или над
      выбранными файлами.  Изменение состояния текущего буфера производится с
      помощью команды <code class="function">clearcase-toggle-read-only</code> (сочетание
      клавиш <span class="keysym">C</span>+<span class="keysym">x</span>
      <span class="keysym">C</span>+<span class="keysym">q</span>), что приводит
      к переводу его либо в состояние доступности для внесения изменений, либо в
      состояние доступности только для чтения.</p><p>Пакет поддерживает массовое выполнение операций получения данных из
      репозитория и подтверждения данных в репозиторий.  Для получения данных из
      репозитория могут использоваться команды
      <code class="function">clearcase-checkout-current-buffer</code>,
      <code class="function">clearcase-checkout-dired-files</code> и
      <code class="function">clearcase-dired-checkout-current-dir</code>, которые приводят к получению версий из репозитория для текущего буфера, отмеченных файлов и текущего каталога. А задачи по подтверждению данных производятся с помощью команд, имеющих аналогичные имена — 
      <code class="function">clearcase-checkin-current-buffer</code>,
      <code class="function">clearcase-checkin-dired-files</code> и
      <code class="function">clearcase-dired-checkin-current-dir</code>.  Отмена получения
      данных производится с помощью команд
      <code class="function">clearcase-uncheckout-current-buffer</code> (она привязана к
      сочетаниям <span class="keysym">C</span>+<span class="keysym">x</span> <span class="keysym">v</span> <span class="keysym">c</span>
      и <span class="keysym">C</span>+<span class="keysym">x</span> <span class="keysym">v</span> <span class="keysym">u</span>),
      <code class="function">clearcase-uncheckout-dired-files</code> (она имеет те же
      привязки, что и предыдущая команда, но они определены только при
      работе в режиме <code class="function">clearcase-dired-mode</code>) и команды
      <code class="function">clearcase-dired-uncheckout-current-dir</code>.</p><p>Регистрация файлов в системе контроля версий <span class="application">ClearCase</span>
      производится с помощью команды
      <code class="function">clearcase-mkelem-current-buffer</code> (сочетание клавиш
      <span class="keysym">C</span>+<span class="keysym">x</span> <span class="keysym">v</span> <span class="keysym">i</span>),
      которая регистрирует текущий буфер, или с помощью команды
      <code class="function">clearcase-mkelem-dired-files</code>, которая регистрирует
      выбранные файлы.</p><p>Обновление данных в текущем буфере, каталоге или файлах в буфере
      <span class="application">dired</span> производится с помощью команд
      <code class="function">clearcase-update-current-buffer</code>,
      <code class="function">clearcase-update-default-directory</code>,
      <code class="function">clearcase-update-dired-files</code> и
      <code class="function">clearcase-update-view</code>.  А получить конкретную
      версию файла можно с помощью команды
      <code class="function">clearcase-version-other-window</code>, которая привязана
      к сочетанию клавиш <span class="keysym">C</span>+<span class="keysym">x</span> <span class="keysym">v</span> <span class="keysym">~</span>.</p><p>Создание новой ветки производится с помощью команды
      <code class="function">clearcase-mkbrtype</code>, которая привязана к сочетанию
      клавиш <span class="keysym">C</span>+<span class="keysym">x</span> <span class="keysym">v</span> <span class="keysym">m</span>.</p></div><div class="section" lang="ru"><div class="titlepage"><div><div><h4 class="title"><a name="id2586845"></a>Работа с изменениями</h4></div></div></div><p>Команды работы с изменениями можно разделить на две группы.
      Первая группа для получения списков изменений использует команду
      <span class="command"><strong>diff</strong></span> (они имеют название начинающееся с
      <code class="function">clearcase-diff</code>), а вторая группа команд, для
      этого использует пакет <span class="application">ediff</span> (для них
      используется префикс <code class="function">clearcase-ediff</code>).  Ниже
      перечислены только команды первой группы, команды второй группы имеют
      аналогичные имена, с учетом вышеуказанных отличий.
      </p><div class="itemizedlist"><ul type="disc"><li><p><code class="function">clearcase-diff-pred-current-buffer</code>
        (сочетание клавиш <span class="keysym">C</span>+<span class="keysym">x</span> <span class="keysym">v</span> <span class="keysym">=</span>)
        и <code class="function">clearcase-diff-pred-dired-file</code> — 
        сравнивает текущий буфер или отмеченные файлы с их предыдущими
        версиями;</p></li><li><p><code class="function">clearcase-diff-branch-base-current-buffer</code>
        и <code class="function">clearcase-diff-branch-base-dired-file</code> — 
        сравнивают текущий буфер или отмеченные файлы с базовыми версиями их
        ветки;</p></li><li><p><code class="function">clearcase-diff-named-version-current-buffer</code>
        и
        <code class="function">clearcase-diff-named-version-dired-file</code> — 
        сравнивают текущий буфер или отмеченные файлы с указанной
        версией.</p></li></ul></div><p>
      </p></div><div class="section" lang="ru"><div class="titlepage"><div><div><h4 class="title"><a name="id2586997"></a>Получение информации</h4></div></div></div><p>Для получения описания файлов используются две команды.  Команда
      <code class="function">clearcase-describe-current-buffer</code> (сочетание
      клавиш <span class="keysym">C</span>+<span class="keysym">x</span> <span class="keysym">v</span> <span class="keysym">?</span>)
      используется для получения описания файла в текущем буфере, а команда
      <code class="function">clearcase-describe-dired-file</code> используется для
      получения описания файлов, выбранных в буфере dired.</p><p>Пользователи также могут получить аннотированную версию текущего
      буфера или отмеченных файлов с помощью команд
      <code class="function">clearcase-annotate-current-buffer</code> (сочетание
      клавиш <span class="keysym">C</span>+<span class="keysym">x</span> <span class="keysym">v</span> <span class="keysym">g</span>)
      и <code class="function">clearcase-annotate-dired-file</code>.  А для получения
      истории текущего буфера или файла в буфере dired используются команды
      <code class="function">clearcase-list-history-current-buffer</code>
      (привязанная к <span class="keysym">C</span>+<span class="keysym">x</span> <span class="keysym">v</span> <span class="keysym">l</span>)
      и <code class="function">clearcase-list-history-dired-file</code>.</p><p>Пакет <span class="application">clearcase</span> поддерживает работу со свойствами файлов
      <span class="application">ClearCase</span>, которые связываются с зарегистрированными файлами.
      Пользователь может просматривать эти свойства с помощью команды
      <code class="function">clearcase-fprop-display-properties</code>, а также
      вставлять их в текущий буфер с помощью команды
      <code class="function">clearcase-fprop-dump-to-current-buffer</code>.</p></div><div class="section" lang="ru"><div class="titlepage"><div><div><h4 class="title"><a name="id2587165"></a>Использование внешних утилит <span class="application">ClearCase</span></h4></div></div></div><p>Пакет <span class="application">clearcase</span> позволяет использовать множество утилит,
      входящих в состав <span class="application">ClearCase</span>, не покидая удобную среду <span class="application">Emacs</span>.
      </p><div class="itemizedlist"><ul type="disc"><li><p><code class="function">clearcase-gui-clearexplorer</code> — 
        запускает <span class="command"><strong>ClearExplorer</strong></span>;</p></li><li><p><code class="function">clearcase-gui-deliver</code> — 
        ;</p></li><li><p><code class="function">clearcase-gui-merge-manager</code> — 
        запускает менеджер слияний;</p></li><li><p><code class="function">clearcase-gui-project-explorer</code> — 
        запускает утилиту работы с проектами;</p></li><li><p><code class="function">clearcase-gui-rebase</code> — 
        запускает ;</p></li><li><p><code class="function">clearcase-gui-snapshot-view-updater</code> — 
        ;</p></li><li><p><code class="function">clearcase-gui-vtree-browser-current-buffer</code> — 
        запускает браузер дерева проекта для текущего
        буфера;</p></li><li><p><code class="function">clearcase-gui-vtree-browser-dired-file</code> — 
        запускает браузер дерева проекта для файла в
        <span class="application">dired</span>.</p></li></ul></div><p>
      </p><p>Пакет также определяет набор команд для просмотра изменений с помощью
      внешних утилит:
      </p><div class="itemizedlist"><ul type="disc"><li><p><code class="function">clearcase-gui-diff-branch-base-current-buffer</code> — 
        использует графический интерфейс для сравнения данных в текущем
        буфере;</p></li><li><p><code class="function">clearcase-gui-diff-branch-base-dired-file</code> — 
        использует графический интерфейс для сравнения выбранных версий с их
        базовыми версиями;</p></li><li><p><code class="function">clearcase-gui-diff-pred-current-buffer</code> — 
        использует графический интерфейс для сравнения текущего буфера с
        предыдущей версией;</p></li><li><p><code class="function">clearcase-gui-diff-pred-dired-file</code> — 
        использует графический интерфейс для сравнения выбранных версий с их
        базовыми версиями.</p></li></ul></div><p>
      </p></div><div class="section" lang="ru"><div class="titlepage"><div><div><h4 class="title"><a name="id2587380"></a>Прочие команды</h4></div></div></div><p>Редактирование конфигурации <span class="application">ClearCase</span> производится с помощью
      команд, которые начинаются с <code class="function">clearcase-edcs</code>. Для редактирования конфигурации определен специальный режим — 
      <code class="function">clearcase-edcs-mode</code>, который включается одноименной
      командой.  Редактирование конфигурации производится с помощью команды
      <code class="function">clearcase-edcs-edit</code>, которая привязана к сочетанию
      клавиш <span class="keysym">C</span>+<span class="keysym">x</span> <span class="keysym">v</span> <span class="keysym">e</span>.
      Для сохранения изменений используется команда
      <code class="function">clearcase-edcs-save</code>.  Для завершения работы с
      конфигурацией <span class="application">ClearCase</span> используется команда
      <code class="function">clearcase-edcs-finish</code>. </p><p>Пакет <span class="application">clearcase</span> обеспечивает возможность отслеживания состояния
      самого себя с помощью трассировки выполняемых команд. Для включения и
      выключения трассировки используются команды
      <code class="function">clearcase-enable-tracing</code> и
      <code class="function">clearcase-disable-tracing</code>.  Кроме этого, пользователь
      может получить данные о внутреннем состоянии пакета с помощью команды
      <code class="function">clearcase-dump</code>.  Но эти возможности в основном нужны
      в тех случаях, когда пакет работает не так как нужно.  Если вы нашли
      ошибку в работе пакета, то вы можете сообщить о ней используя команду
      <code class="function">clearcase-submit-bug-report</code>, которая соберет данные о
      значениях переменных, версии <span class="application">Emacs</span> и прочую информацию, необходимую для
      воссоздания ошибки и ее исправления.</p><p>Команды <code class="function">clearcase-integrate</code> и
      <code class="function">clearcase-unintegrate</code> явно устанавливают или удаляют
      хуки и команды, которые обеспечивают интеграцию с системой контроля версий
      <span class="application">ClearCase</span>.</p></div></div><div class="section" lang="ru"><div class="titlepage"><div><div><h3 class="title"><a name="id2587565"></a>Настройка</h3></div></div></div><p>Также как и другие пакеты, пакет <span class="application">clearcase</span> поддерживает
    стандартный механизм настройки <span class="application">Emacs</span>.  Для настройки надо всего лишь
    выполнить команду <code class="function"><span class="keysym">M</span>+<span class="keysym">x</span> customize-group clearcase</code>.  С его
    помощью пользователь может задать множество параметров, например, что
    использовать в качестве программы <span class="command"><strong>diff</strong></span>, а также другие
    параметры.  Надо лишь внимательно читать описания переменных и
    сопоставлять их с концепциями <span class="application">ClearCase</span>.</p></div></div><script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
      _uacct = "UA-78697-3";
      urchinTracker();
    </script><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s09.html">Пред.</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s11.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">Работа с <span class="application">Aegis</span> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> Интеграция с <span class="application">Perforce</span></td></tr></table></div></body></html>
