<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Работа с TeXом с использованием пакета AUCTeX</title><meta name="generator" content="DocBook XSL Stylesheets V1.73.2"><meta name="keywords" content="Emacs, GNU Emacs, XEmacs, TeX, LaTeX, BibTeX, RefTeX"><link rel="start" href="index.html" title="Использование Emacs для работы с TeX и LaTeX"><link rel="up" href="index.html" title="Использование Emacs для работы с TeX и LaTeX"><link rel="prev" href="ar01s01.html" title="Пакет TeX-mode"><link rel="next" href="ar01s03.html" title="Пакет RefTeX"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Работа с TeXом с использованием пакета AUCTeX</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s01.html">Пред.</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s03.html">След.</a></td></tr></table><hr></div><div class="section" lang="ru"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="emacs.tex.auctex"></a>Работа с TeXом с использованием пакета AUCTeX</h2></div></div></div><p>TeX-mode не обеспечивает в полной мере полноценной работы с
 исходными текстами TeX/LaTeX.  Для обеспечения более комфортабельной
 работы с этими файлами, был разработан пакет AUCTeX который обеспечивает
 следующие возможности:

 </p><div class="itemizedlist"><ul type="disc"><li><p>поддержку работы с TeX/LaTeX/ConTeXt, с автоматическим выбором соотвествующего набора команд;</p></li><li><p>подстветку синтаксиса команд TeX;</p></li><li><p>ввод команд, названий разделов и окружений, с использованием дополнения имен и парамаетров;</p></li><li><p>быстрый ввод команд изменения шрифтов;</p></li><li><p>правильный ввод TeX'вских кавычек;</p></li><li><p>вставку математических команд с помощью меню и клавиатуры;</p></li><li><p>запуск внешних команд для обработки исходных текстов и просмотра результатов;</p></li><li><p>показ ошибок компиляции и переход на соответствующее место в исходных текстах;</p></li><li><p>поддержка документов, состоящих из нескольких файлов;</p></li><li><p>скрытие частей документа (fold);</p></li><li><p>поддержка макросов и окружений, предоставляемых специальными стилевыми файлами;</p></li><li><p>возможность создания поддержки для стилевых файлов пользователя.</p></li></ul></div><p>
 
 Это только основные возможности пакета. Более подробную информацию вы
 можете найти в справочных страницах пакета или на сайте <a class="ulink" href="http://www.emacswiki.org/cgi-bin/wiki/AUCTeX" target="_top">Emacs WiKi</a>.
 </p><div class="section" lang="ru"><div class="titlepage"><div><div><h3 class="title"><a name="id2571210"></a>Установка пакета</h3></div></div></div><p>Для установки пакета требуется наличие относительно свежих
  версий <span class="application">GNU Emacs</span> (как минимум версия 21), или <span class="application">XEmacs</span>
  версии 21.  Для обработки файлов с исходными текстами
  требуется наличие работающего LaTeX.  А для сборки пакета также
  потребуется наличие пакета
  <span class="application">texinfo</span>.</p><p>Сборка пакета производится с помощью стандартных скриптов
  <span class="command"><strong>configure</strong></span>.  Тонкая настройка параметров
  производится с помощью опций <span class="command"><strong>configure</strong></span>.  После
  настройки пакета нужно выполнить лишь две команды:
  <span class="command"><strong>make</strong></span> —  для сборки, и <span class="command"><strong>make install</strong></span> —  для установки.</p><p>Загрузка пакета производится с помощью следующих команд,
  помещенных в файл инициализации Emacs:

  </p><pre class="screen">(setq load-path (cons "~/elisp" load-path))
(require 'tex-site)  </pre><p>

  первая строка нужна лишь в том случае, если вы установили пакет в
  нестандартное место, а всю работу по загрузке пакета выполняет
  функция, указанная во второй строке.  Кроме этого, вы можете
  указать команды установки переменных, которые позволят производить
  более тонкую настройку пакета.  Эти переменные будут обсуждаться в
  разделе <a class="xref" href="ar01s02.html#emacs.tex.auctex.customize" title="Настройка">Настройка</a></p></div><div class="section" lang="ru"><div class="titlepage"><div><div><h3 class="title"><a name="id2571438"></a>Работа с пакетом</h3></div></div></div><p>Работа с пакетом может осуществляться разными способами —  через меню, с помощью сочетаний клавиш и используя именованные команды. Команды пакета можно разделить на две группы — команды работы с текстом, и команды обработки исходных текстов.</p><p>Команды работы с текстом, такие как команды вставки окружений, макросов и т.п., сосредоточены в меню LaTeX, а команды обработки исходных текстов сосредоточены в меню Command.</p><div class="section" lang="ru"><div class="titlepage"><div><div><h4 class="title"><a name="id2571475"></a>Редактирование исходных текстов</h4></div></div></div><p>AUCTeX очень сильно помогает пользователю при вводе команд разметки TeX и LaTeX. Это и использование стандартных механизмов дополнений при вводе названий команд, а также генерация имен меток, и многие другие вещи.</p><p>Пакет AUCTeX позволяет пользователю вводить команды
   разметки TeX удобным способом.  Для ввода названий команд
   TeX могут использоваться стандартные механизмы дополнений
   <span class="application">Emacs</span>.  И кроме того, для многих команд пакет знает какие
   аргументы им требуются, и запрашивает нужные значения у
   пользователя.  Он даже может различать обязательные и
   необязательные аргументы.  Вставка команды разметки производится
   с помощью сочетания клавиш <span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">C</span>+<span class="keysym">m</span> или <span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">RET</span>, которые
   вызывают функцию <code class="function">TeX-insert-macro</code>.  При
   вводе имени команды, и аргументов, пользователь может
   использовать стандартные клавиши работы с дополнениями, такие
   как <span class="keysym">TAB</span>.  В качестве имени команды, пакет
   обычно предлагает имя последней введенной команды.  Пользователь
   может также переопределить клавишу <span class="keysym">\</span>, так,
   чтобы она вызывала нужную команду для ввода имени макроса,
   например с помощью следующего кода, помещенного в файл
   инициализации:

   </p><pre class="screen">(add-hook 'TeX-mode-hook
 '(lambda ()
   (local-set-key "\\" 'TeX-electric-macro)))   </pre><p>

   Кроме этого, пользователь может вводить имена макросов используя
   сочетание клавиш <span class="keysym">M</span>+<span class="keysym">TAB</span>, что позволяет избежать запроса
   аргументов. </p><p>Для ввода команд секционирования пользователь может
   воспользоваться командой <code class="function">LaTeX-section</code>,
   привязанной к сочетанию клавиш <span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">C</span>+<span class="keysym">s</span>.  При выполнении этой команды, у
   пользователя запросят имя соответствующей команды, обозначающей
   раздел документа (при вводе имени, пользователь может
   использовать механизмы дополнений), заголовок раздела, и имя
   метки, которая будет связанна с данным разделом.  При этом, имя
   раздела может быть автоматически сгенерировано на основании
   имени раздела (правда это работает только для латинских названий
   разделов).  При вставке нового раздела, пакет выполняет команды,
   хранящиеся в переменной <code class="varname">LaTeX-section-hook</code>,
   что позволяет выполнить тонкую настройку поведения данной
   команды.  О том, как можно настроить поведение данной команды,
   вы можете прочитать в разделе "Inserting chapters, sections,
   etc." руководства по AUCTeX.</p><p>Пакет AUCTeX также позволяет пользователю более удобно
   вводить команды для обозначения окружений LaTeX, вставляя пару
   команд <code class="literal">\begin{}</code> и <code class="literal">\end{}</code>,
   и также запрашивая параметры для данного окружения, в том
   случае, если он про него знает.  Для вставки команд окружения
   используется команда <code class="function">LaTeX-environment</code>,
   привязанная к сочетанию клавиш <span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">C</span>+<span class="keysym">e</span>.  Также, как и для предыдущих
   команд, при вводе имени окружения, пакет позволяет использовать
   механизмы дополнения, а также использовать историю ввода
   предыдущих имен.  Пакет позволяет работать не только со
   стандартными окружениями LaTeX, но и учитывает текущий класс
   документа, а также список загруженных пакетов (это происходит в
   том случае, если переменная <code class="varname">TeX-parse-self</code>
   имеет истинное значение).</p><p>Для вставки команд изменения шрифтов текста, пакет
   AUCTeX предлагает большое количество функций.  Для ускорения
   ввода, они все привязаны к сочетаниям клавиш, начинающимся с
   префикса <span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">C</span>+<span class="keysym">f</span>, после которого идет сочетание
   клавиши <span class="keysym">Control</span> и буквы, которая обозначает
   нужный шрифт.  Эти команды вставляют соотвествующую команду
   разметки и помещают курсор между фигурными скобками.  В том
   случае, если вы хотите изменить шрифт для уже написанного
   текста, то просто выделите область и выполните соотвествующую
   команду.  При работе в математическом режиме, эти команды
   вставляют соотвестсвующие аналоги.  Пакет определяет следующие
   команды для изменения шрифтов:

   </p><div class="glosslist"><dl><dt>
              <span class="keysym">C</span>+<span class="keysym">c</span>
              <span class="keysym">C</span>+<span class="keysym">f</span>
              <span class="keysym">C</span>+<span class="keysym">b</span>
            </dt><dd><p>вставляет команду жирного шрифта
     <code class="literal">\textbf{-!-}</code></p></dd><dt>
              <span class="keysym">C</span>+<span class="keysym">c</span>
              <span class="keysym">C</span>+<span class="keysym">f</span>
              <span class="keysym">C</span>+<span class="keysym">i</span>
            </dt><dd><p>вставляет команду  шрифта italics <code class="literal">\textit{-!-}</code></p></dd><dt>
              <span class="keysym">C</span>+<span class="keysym">c</span>
              <span class="keysym">C</span>+<span class="keysym">f</span>
              <span class="keysym">C</span>+<span class="keysym">e</span>
            </dt><dd><p>вставляет команду  акцентирования (emphasized) <code class="literal">\emph{-!-}</code></p></dd><dt>
              <span class="keysym">C</span>+<span class="keysym">c</span>
              <span class="keysym">C</span>+<span class="keysym">f</span>
              <span class="keysym">C</span>+<span class="keysym">s</span>
            </dt><dd><p>вставляет команду  наклонного шрифта  <code class="literal">\textsl{-!-}</code></p></dd><dt>
              <span class="keysym">C</span>+<span class="keysym">c</span>
              <span class="keysym">C</span>+<span class="keysym">f</span>
              <span class="keysym">C</span>+<span class="keysym">r</span>
            </dt><dd><p>вставляет команду  шрифта roman <code class="literal">\textrm{-!-}</code></p></dd><dt>
              <span class="keysym">C</span>+<span class="keysym">c</span>
              <span class="keysym">C</span>+<span class="keysym">f</span>
              <span class="keysym">C</span>+<span class="keysym">f</span>
            </dt><dd><p>вставляет команду  шрифта sans serif <code class="literal">\textsf{-!-}</code></p></dd><dt>
              <span class="keysym">C</span>+<span class="keysym">c</span>
              <span class="keysym">C</span>+<span class="keysym">f</span>
              <span class="keysym">C</span>+<span class="keysym">t</span>
            </dt><dd><p>вставляет команду  шрифта печатной  машинки <code class="literal">\texttt{-!-}</code></p></dd><dt>
              <span class="keysym">C</span>+<span class="keysym">c</span>
              <span class="keysym">C</span>+<span class="keysym">f</span>
              <span class="keysym">C</span>+<span class="keysym">c</span>
            </dt><dd><p>вставляет команду  шрифта SMALL CAPS <code class="literal">\textsc{-!-}</code></p></dd><dt>
              <span class="keysym">C</span>+<span class="keysym">c</span>
              <span class="keysym">C</span>+<span class="keysym">f</span>
              <span class="keysym">C</span>+<span class="keysym">d</span>
            </dt><dd><p>удаляет окружающую команду изменения шрифта.</p></dd></dl></div><p>

   </p><p>В процессе работы с исходными текстами, пакет пытается сделать их более читаемыми за счет использования некоторых вещей —  подсветки ключевых слов TeX и LaTeX в тексте, а
   также за счет вставки отступов для показа отношения между
   частями текстов.  Для вставки нужного отступа может
   испльзоваться клавиша <span class="keysym">TAB</span>, или это может быть
   сделано автоматически при заполнении параграфа с помощью
   <span class="keysym">M</span>+<span class="keysym">q</span>, или
   для всего буфера, с помощью команды
   <code class="function">LaTeX-fill-buffer</code>.</p><p>Часто неободимо закомментировать область исходного кода
   TeX или LaTeX.  Это можно сделать с помощью команд
   <span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">;</span> и
   <span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">%</span>.
   <span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">;</span>
   закомментирует все строки в выделенной области, а
   <span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">%</span>
   закомментирует строки текущего параграфа.  Наберите
   <span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">;</span> для того,
   чтобы раскомментировать все строки выделенной области, или
   <span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">%</span> для
   раскомментирования всех закомментированных строк параграфа.  Эти
   команды всталяют или удаляют
   знаки <span class="keysym">%</span>.</p><p>Кроме указанных выше команд, пакет старается вставлять правильные знаки кавычек, знаки доллара для обозначение математического режима, а также пары скобок для того, чтобы избежать проблем с непарными скобками.</p></div><div class="section" lang="ru"><div class="titlepage"><div><div><h4 class="title"><a name="id2572559"></a>Обработка исходных текстов</h4></div></div></div><p>Все действия по обработке текста в AUCTeX приведены к одному сочетанию клавиш —  <span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">C</span>+<span class="keysym">c</span> в зависимости от контекста, данная комманда приводит в вызову LaTeX (или TeX), программы просмотра или печати. Во многих случаях, пакет предлагает правильную команду: если текст изменялся, то предлагается команда компиляции текста —  <span class="command"><strong>latex</strong></span> или
   <span class="command"><strong>tex</strong></span> в зависимости от контекста; если текст
   был скомпилирован нормально, то вызывается программа просмотра
   и т.д.  Это же самое касается программ создания индексов и
   библиографий.  Пакет AUCTeX может определить достаточно точно,
   нужно ли еще раз запускать программу компиляции, но это может
   происходить не всегда.</p><p>В качестве выходого формата вы можете выбрать либо DVI или
   PDF.  Вы можете определять эти и другие параметры выходного
   файла с помощью нескольких сочетаний клавиш, перечисленных ниже:

   </p><div class="glosslist"><dl><dt>
              <span class="keysym">C</span>+<span class="keysym">c</span>
              <span class="keysym">C</span>+<span class="keysym">t</span>
              <span class="keysym">C</span>+<span class="keysym">p</span>
            </dt><dd><p>Переключает между выводом в форматах DVI и PDF;</p></dd><dt>
              <span class="keysym">C</span>+<span class="keysym">c</span>
              <span class="keysym">C</span>+<span class="keysym">t</span>
              <span class="keysym">C</span>+<span class="keysym">i</span>
            </dt><dd><p>Включает и выключает интерактивный режим;</p></dd><dt>
              <span class="keysym">C</span>+<span class="keysym">c</span>
              <span class="keysym">C</span>+<span class="keysym">t</span>
              <span class="keysym">C</span>+<span class="keysym">s</span>
            </dt><dd><p>Включает и выключение поддержки специальных тагов исходных текстов;</p></dd><dt>
              <span class="keysym">C</span>+<span class="keysym">c</span>
              <span class="keysym">C</span>+<span class="keysym">t</span>
              <span class="keysym">C</span>+<span class="keysym">o</span>
            </dt><dd><p>Включает и выкулючает использование
     <span class="application">Omega/lambda</span>.</p></dd></dl></div><p>При обработке исходного текста, создается временный буфер,
   в который выводится результат компиляции.  Если в файле
   находится ошибка, то пользователь может переместиться на первую
   найденную ошибку с помощью сочетания клавиш
   <span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">`</span>. При этом, окно разбивается на два: в верхнем отображается исходный текст, а в нижнем —  результат компиляции.  После
   исправления ошибки, можно переместиться на следующую ошибку,
   используя это же сочетание клавиш.  Используя команду
   <code class="function">TeX-toggle-debug-boxes</code>, привязанную к
   сочетанию клавиш <span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">C</span>+<span class="keysym">w</span>, можно отображать также
   предупреждения о переполнение или недополнении боксов.</p><p>Если вы хотите обработать только некоторые части
   документа, то вы можете отметить нужную область и использовать
   сочетание клавиш <span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">C</span>+<span class="keysym">r</span> для обработки выделенных данных.
   Выделенная область обрабатывается точно также как и весь
   документ.  При обработке области будет использоваться преамбула
   основного документа.  В том случае, если ваш документ состоит из
   нескольких файлов, то вы можете обработать текущий буфер с
   помощью сочетания клавиш <span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">C</span>+<span class="keysym">b</span>.  При этом, при компиляции буфера
   будет использоваться преамбула главного документа. </p><p>В том случае, если команда входит в бесконечный цикл, или
   вы просто хотите завершить ее выполнение, то вы можете
   исполльзовать сочетание клавиш <span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">C</span>+<span class="keysym">k</span> для ее завершения.  Для просмотра
   вывода команды, который добавляется в конец буфера команды, вы
   можете использовать сочетание клавиш
   <span class="keysym">C</span>+<span class="keysym">c</span>
   <span class="keysym">C</span>+<span class="keysym">l</span>. </p><p>AUCTeX позволяет запустить внешнюю программу для
   просмотра вашего документа.  Обычно это происходит когда
   пользователь набирает <span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">C</span>+<span class="keysym">c</span> после того, как документ
   отформатирован, или используя соответствующий пункт меню
   <code class="literal">Command</code>.  Команда
   <code class="function">TeX-view</code>, привязаная к сочетанию клавиш
   <span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">C</span>+<span class="keysym">v</span>, запускает программу просмотра без
   подтверждения.  Программа просмотра запускается либо для области
   текста, либо для основного файла, в зависимости от последней
   использованной команды.  Это особенно полезно если вы хотите
   перейти к точке текста, соответствующей точке в программе
   просмотра DVI при использовании режима
   <code class="function">TeX-source-specials-mode</code>.</p><p>AUCTeX старается угадать какой тип программы просмотра
   (DVI, PostScript или PDF) будет использоваться и какие опции
   должны быть переданы ей.  Это решение основывается на файлах
   результатов, присутствующих в рабочем каталоге, а также на
   классе документа и используемых стилевых файлах.  Например, если
   в рабочем каталоге находится файл DVI, то будет запущена
   программа просмотра DVI.  А при наличии PDF файла будет запущена
   программа просмотра PDF.  Если пользователь указывает
   специальный формат бумаги, такой как
   <span class="application">a5paper</span> или использует опцию
   <span class="application">landscape</span>, то программе просмотра
   будут переданы соответствующие опции.  Некоторые программы
   просмотра DVI особенно нуждаются в такой информации для того,
   чтобы корректно отображать документ.  Если используются пакеты
   <span class="application">pstricks</span> или
   <span class="application">psfrag</span>, то программа просмотра DVI не
   сможет корректно отобразить его содержимое, и вместо него будет
   запущена программа просмотра PostScript.</p><p>Информация о типах файлов и стилевых опциях и связанных с
   ними программах просмотра и соответсвующих опциях хранится в
   переменных <code class="varname">TeX-output-view-style</code> и
   <code class="varname">TeX-view-style</code>.</p><p>При обработке исходных текстов с помощью TeX или LaTeX
   пользователь сможет найти только общие ошибки, но не примеры
   плохого стиля.  Для нахождения стилевых ошибок, таких как потерю
   пробела после сокращения, или использования
   <code class="literal">...</code> вместо <code class="literal">\ldots</code> и т.п.,
   может использоваться утилита <span class="command"><strong>lacheck</strong></span>.  Вы
   можете запустить <span class="command"><strong>lacheck</strong></span> с помощью команды
   <span class="keysym">C</span>+<span class="keysym">c</span>
   <span class="keysym">C</span>+<span class="keysym">c</span>
   <code class="literal">Check</code>.  В качестве результата, пользователь
   получит список ошибок в буфере <code class="literal">*compilation*</code>.
   Вы можете использовать теже приемы что и при обработке ошибок
   компиляции.  Кроме <span class="command"><strong>lacheck</strong></span>, пользователи
   могут использовать программу <span class="command"><strong>chktex</strong></span>, которая
   является более настраиваемой, но может не находить всех ошибок,
   которые находит <span class="command"><strong>lacheck</strong></span>. </p></div><div class="section" lang="ru"><div class="titlepage"><div><div><h4 class="title"><a name="id2573383"></a>Работа с частями документа</h4></div></div></div><p>Пакет AUCTeX предоставляет пользователю мозможность работы с частями документа. Существует два метода работы с частями документов — свертывание (folding) и ранжирование (outlining).</p><p>Используя возможности свертывания, предоставляемые AUCTeX, вы можете свертывать части документа, и они будут отображаться как фиксированная строка, или будут использовать для отображения часть свернутых данных. Эта функциональность полезна в том случае, если вы часто используете цитаты и сноски, и не хотите загромождать ими текст. Свернутые части будут автоматически разворачиваться когда вы будете перемещаться в них.</p><p>Для использования данной возможности, вы должны
   активизировать <code class="function">TeX-fold-mode</code>, который
   предоставляет необходимые команды для свертывания и
   развертывания макросов и окружений.  Данный режим можно включить
   с помощью команды <code class="function">M-x TeX-fold-mode</code> или
   сочетания клавиш <span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">C</span>+<span class="keysym">o</span> <span class="keysym">C</span>+<span class="keysym">f</span>.  Вы можете включать этот режим
   автоматически, воспользовавшись хуками. Например, вот так:

   </p><pre class="screen">(add-hook 'TeX-mode-hook '(lambda ()
  (TeX-fold-mode 1)))   </pre><p>
   </p><p>После активации данного режима, пользователю становятся доступны команда свертывания всех макросов и окружений в документе —  <code class="function">TeX-fold-buffer</code>
   (<span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">C</span>+<span class="keysym">o</span> <span class="keysym">C</span>+<span class="keysym">b</span>), свертывания текущего макроса —  <code class="function">TeX-fold-macro</code>
   (<span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">C</span>+<span class="keysym">o</span> <span class="keysym">C</span>+<span class="keysym">m</span>) и свертывания текущего окружения —  <code class="function">TeX-fold-env</code>
   (<span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">C</span>+<span class="keysym">o</span> <span class="keysym">C</span>+<span class="keysym">e</span>).  Для того, чтобы развернуть все
   свернутые объекты может использоваться команда
   <code class="function">TeX-fold-clearout-buffer</code>
   (<span class="keysym">C</span>+<span class="keysym">c</span> <span class="keysym">C</span>+<span class="keysym">o</span> <span class="keysym">C</span>+<span class="keysym">x</span>), а для развертывания текущего объекта —  команда
   <code class="function">TeX-fold-clearout-item</code>
   (<span class="keysym">C</span>+<span class="keysym">c</span>
   <span class="keysym">C</span>+<span class="keysym">o</span>
   <span class="keysym">C</span>+<span class="keysym">c</span>).
   Все команды свертывания используют переменные
   <code class="varname">TeX-fold-macro-spec-list</code> и
   <code class="varname">TeX-fold-env-spec-list</code> для того, чтобы
   определить какие макросы и окружения необходимо сворачивать, и
   что отображать вместо свернутых объектов.  Если макросы или
   окружения не перечисленны в указанных переменных, то
   используются значения переменных
   <code class="varname">TeX-fold-unspec-macro-display-string</code> и
   <code class="varname">TeX-fold-unspec-env-display-string</code>.  Все эти
   переменные доступны для изменения через стандартные механизмы
   настройки Emacs.</p><p>AUCTeX реализует поддержку вспомогательного режима
   <span class="application">outline</span>, используя команды
   секционирования LaTeX/ConTeXt в качестве строк заголовков.
   Просто включите <code class="function">outline-minor-mode</code> и вы
   сможете скрывать разделы используя стандартные команды.
   Дополнительные заголовки секционирования могут быть добавлены с
   помощью переменной <code class="varname">TeX-outline-extra</code>. Каждый из элементов списка является списком из двух элементов — 
   регулярного выражения и уровня, которому соотвествует данное
   выражение.  Знак <code class="literal">^</code> автоматически добавляется
   в начало каждого регулярного выражения.  Для лучшей поддержки
   режима <span class="application">outline</span> вы можете
   воспользоваться пакетом <span class="application">out-xtra</span>,
   который доступен через архив кода Emacs Lisp.</p></div></div><div class="section" lang="ru"><div class="titlepage"><div><div><h3 class="title"><a name="emacs.tex.auctex.customize"></a>Настройка</h3></div></div></div><p>Настройка пакета может осуществляться с помощью стандартных
  средств настройки <span class="application">Emacs</span> —  с помощью команды
  <code class="function">customize-group</code>.  Группа настройки называется
  <code class="literal">AUCTeX</code>.  В этой группе определено множество
  переменных, которые будут описаны далее.</p><p>Для того, чтобы обеспечить поддержку многих пакетов LaTeX,
  которые вы хотите использовать в ваших документах, вы должны
  разрешить парсинг документов, что можно сделать с помощью
  следующих команд:

  </p><pre class="screen">(setq TeX-auto-save t)
(setq TeX-parse-self t)  </pre><p>Если вы часто используете команды `\include' или `\input',
  то вы должны предупредить AUCTeX о том, что вы используете
  документы из нескольких файлов.  Это можно сделать с помощью
  команды:

  </p><pre class="screen">(setq-default TeX-master nil) </pre><p>

  Так что каждый раз, когда вы будете открывать новый файл, то
  AUCTeX будет запрашивать у вас имя главного файла.
  </p><div class="section" lang="ru"><div class="titlepage"><div><div><h4 class="title"><a name="id2573942"></a>Поддержка разных языков</h4></div></div></div><p>В настоящее время <span class="application">Emacs</span> и TeX вполне нормально
   поддерживают языки отличные от английского, но все таки для
   работы с корейским, китайским и японским, вам могут понадобиться
   специальные версии <span class="application">Emacs</span> и TeX.  Пакет AUCTeX распознает
   использование пакета <span class="application">inputenc</span>, что
   позволяет более корректно обрабатывать работу с разными
   кодировками.  </p><p>Для более удобной работы с европейскими языками существует
   несколько пакетов, которые позволяют преобразовывать символы в
   макросы TeX и обратно, при чтении и записи редактируемых
   файлов.  Сюда относятся пакеты
   <span class="application">iso-cvt.el</span>, который поставляется
   вместе с <span class="application">GNU Emacs</span>, <span class="application">x-compose.el</span>,
   который поставляется с <span class="application">XEmacs</span>, и пакет
   <span class="application">X-Symbol</span>, который позволяет корректно
   отображать большое количество математических и других символов
   (пакет может работать и с <span class="application">GNU Emacs</span> и с <span class="application">XEmacs</span>).</p><p>AUCTeX имеет в своем составе поддержку для разных
   языков. Поддержка каждого из языков реализуется в виде отдельных
   стилевых файлов, которые улучшают работу AUCTeX.  Например,
   пользователь может добавить автоматическую смену словаря при
   работе с файлами, которые включают в себя, например, файл
   <span class="application">dk.sty</span>.  Чтобы это работало, вам
   необходимо включить поддержку разбора файлов.  Для каждого из
   поддерживаемых языков, определяется хук с именем
   <code class="function">TeX-language-XX-hook</code>, где
   <code class="function">XX</code> —  двух-символьный код языка.  В
   настоящее время поддерживаются датский, голландский, немецкий,
   итальянский и польский языки. </p></div><div class="section" lang="ru"><div class="titlepage"><div><div><h4 class="title"><a name="id2574108"></a>Автоматическая настройка</h4></div></div></div><p>AUCTeX пытается произвести самонастройку путем сканирования файлов TeX, выделения из них символов, окружений и т.п. данных. Эта информация позволяет сделать редактирование текстов более удобным. Автоматическая настройка может производиться на трех уровнях. Самый главный уровень — 
   данные, которые используются всеми пользователями системы, и
   содержащий все стилевые файлы TeX.  Вторым уровнем являются
   файлы, принадлежащие конкретному пользователю, но которые
   используются в разных проектах.  К третьему уровню относятся
   файлы расположенные в рабочем каталоге.  По умолчанию, AUCTeX
   производит поиск файлов на всех трех уровнях, но вы можете явно
   задать пути поиска с помощью переменной
   <code class="varname">TeX-style-path</code>. По умолчанию AUCTeX
   обрабатывает каталоги рекурсивно, но вы можете настроить это
   поведение с помощью переменной
   <code class="varname">TeX-file-recurse</code>.  AUCTeX игнорирует
   некоторые имена файлов (<code class="filename">.</code>,
   <code class="filename">..</code>, <code class="filename">SCCS</code>,
   <code class="filename">RCS</code> и <code class="filename">CVS</code>), которые
   определены в переменной
   <code class="varname">TeX-ignore-file</code>.</p><p>Настройка для глобального уровня производится с помощью
   переменных <code class="varname">TeX-macro-global</code>, которая содержит
   список каталогов со стилевыми файлами TeX;
   <code class="varname">TeX-style-global</code>, которая содержит название
   каталога с информацией, созданной вручную; и
   <code class="varname">TeX-auto-global</code>, в которой хранится
   информация автоматически выделенная из стилевых файлов.</p><p>Настройки для уровня пользователя хранятся в переменных
   <code class="varname">TeX-macro-private</code>, в которой указывается
   список каталогов со стилями TeX;
   <code class="varname">TeX-auto-private</code>, в которой указывается
   каталог для хранения выделенной информации; и
   <code class="varname">TeX-style-private</code>, в которой указывается
   список каталогов со стилями AUCTeX, написанными вручную.  Для
   перегенерации автоматически выделяемых данных используется
   фукнция <code class="function">TeX-auto-generate</code>.  </p><p>Настройка для локального использования проводится с
   помощью переменных <code class="varname">TeX-auto-local</code>, в которой
   указывается каталог для сохранения автоматически выделенной
   инфомации (по умолчанию она имеет значение
   <code class="filename">auto</code>) и <code class="varname">TeX-style-local</code>,
   в которой хранится имя каталога со стилевыми файлами.  По
   умолчанию, автоматически выделяемая информация сохраняется
   каждый раз, когда вы сохраняете ваши файлы.</p></div><div class="section" lang="ru"><div class="titlepage"><div><div><h4 class="title"><a name="id2574307"></a>Создание стилевых файлов</h4></div></div></div><p>Пользователь AUCTeX может улучшить свою работу с помощью дополнительных стилевых файлов, которые позволяют лучше настроить AUCTeX при использовании конкретных стилевых файлов TeX/LaTeX и/или конкретных команд и окружений.</p><p>Функция <code class="function">TeX-add-style-hook</code> позволяет
   пользователю задать код, который будет выполнен при
   использовании определенного стилевого файла TeX.  Например,

   </p><pre class="screen">(TeX-add-style-hook "book"
  (function (lambda ()
    (setq LaTeX-largest-level
       (LaTeX-section-level ("chapter"))))))  </pre><p>

   
   устанавливает самый главный уровень секционирования равным
   chapter при использовании стиля <span class="application">book</span>.
   Аналогичным образом, может добавляться поддержка и других
   стилевых файлов. Достаточно большое их количество уже определено
   и поставляется в дистрибутиве AUCTeX (в подкаталоге
   <code class="filename">style</code>).</p><p>Основным предназначением стилевого хука является
   объявление новых макросов и окружений, которые существуют в
   стилевом файле.  Явные объявления используются для указания
   аргументов макросов, а сами макросы определяются автоматически.
   Добавление новых макросов выполняется с помощью функции
   <code class="function">TeX-add-symbols</code>, которой передается список,
   который в свою очередь состоит из списка первым в котором идет
   название макроса, а затем идет описание аргументов данного
   объекта.  Если у объекта нет аргументов, то он просто
   вставляется и точка вставки помещается между фигурными скобками.
   Если у объекта есть аргументы, то AUCTeX запрашивает их у
   пользователя.</p><p>Для указания аргументов используется некоторое количество
   функций вида <code class="function">TeX-arg-TYPE</code>, где
   <code class="function">TYPE</code> указывает на соответствующий тип, и
   AUCTeX будет проверять вводимые пользователем данные.
   Описания этих функций смотрите в документации по
   AUCTeX.</p><p>Добавление окружений происходит аналогично добавлению
   макроса.  Добавление новых окружений производится с помощью
   функции <code class="function">LaTeX-add-environments</code>, которой
   передаются список списков из имени окружения и описания
   аргуметов.  Для детального описания аргументов, также смотрите в
   документации по AUCTeX.</p><p>Кроме добавления информации о макросах и окружениях,
   AUCTeX позволяет добавить информацию о библиографиях и метках.
   Это выполняется с помощью функций
   <code class="function">LaTeX-add-bibliographies</code> и
   <code class="function">LaTeX-add-labels</code> соответственно. </p><p>AUCTeX пытается автоматически выделить информацию об
   объектах при разборе стилевых файлов.  Он делает это с помощью
   набора регулярных выражений.  Эти выражения хранятся в
   переменной <code class="varname">TeX-auto-regexp-list</code>, которую вы
   можете изменять, добавляя собственные регулярные выражения.
   Кроме этого, AUCTeX определяет два хука, которые вызываются
   перед и после парсинга файла TeX.  Они называются
   <code class="function">TeX-auto-prepare-hook</code> и
   <code class="function">TeX-auto-cleanup-hook</code>.  Вы можете
   использовать эти хуки для выполнения вашего кода.</p></div></div><div class="section" lang="ru"><div class="titlepage"><div><div><h3 class="title"><a name="id2574550"></a>Пакеты, расширяющие функциональность AUCTeX</h3></div></div></div><p>Существует некоторое количество дополнительныз пакетов,
  которые позволяют улучшить работу с TeX/LaTeX при использовании
  AUCTeX.  Некоторые из этих пакетов могут работать отдельно, но
  наилучшие результаты дает их совместное использование с AUCTeX:

  </p><div class="glosslist"><dl><dt>Preview-LaTeX</dt><dd><p>В настоящее время, пакет
    <span class="application">preview-latex</span> (описанный в разделе
    <a class="xref" href="ar01s05.html#emacs.tex.previewlatex" title="Пакет Preview-LaTeX">Пакет Preview-LaTeX</a>) стал частью пакета
    AUCTeX, значительно улучшив возможности пакета по визуальной
    работе с исходными текстами TeX и LaTeX.</p></dd><dt>RefTeX и BibTeX</dt><dd><p>Пакеты RefTeX и BibTeX, описанные в следующих разделах умеют интегрироваться с пакетом AUCTeX, позволяя существенно улучшить работу с ссылками и библиографиями.</p></dd><dt>latex-units</dt><dd><p>Данный пакет добавляет еще одно меню, с помощью которого можно вставлять объявления единиц измерения (например, kg и т.п.). Этот пакет работает только в математическом режиме, когда для корректного отображения текста требуется вставка нескольких команд TeX, что может сильно раздражать.</p><p>Для установки пакета скачайте его с <a class="ulink" href="http://people.debian.org/~psg/elisp/latex-units.el" target="_top">домашней страницы</a> и загрузите его, также как и другие пакеты, с
    помощью функции require.</p></dd></dl></div><p>
  </p></div><div class="section" lang="ru"><div class="titlepage"><div><div><h3 class="title"><a name="id2574685"></a>Дополнительная информация</h3></div></div></div><p>Дополнительную информацию о пакете AUCTeX вы можете найти
  на страницах проекта, находящихся по адресам
  http://www.gnu.org/software/auctex/ и
  http://savannah.gnu.org/projects/auctex.  Кроме этого, большое
  количество информации можно найти на страницах <a class="ulink" href="http://www.emacswiki.org/cgi-bin/wiki/AUCTeX" target="_top">Emacs WiKi</a>.</p></div></div><script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">
      _uacct = "UA-78697-3";
      urchinTracker();
    </script><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s01.html">Пред.</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s03.html">След.</a></td></tr><tr><td width="40%" align="left" valign="top">Пакет TeX-mode </td><td width="20%" align="center"><a accesskey="h" href="index.html">Начало</a></td><td width="40%" align="right" valign="top"> Пакет RefTeX</td></tr></table></div></body></html>
