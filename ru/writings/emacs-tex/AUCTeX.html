<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html><head>
<title>Работа с TeX/LaTeX с использованием пакета AUCTeX</title>
<meta name="generator" content="muse.el" />
<meta name="author" content="Alex Ott" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="alex ott, auctex, emacs, gnu emacs, xemacs, latex, tex" />
    
    
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen,projection" href="../../../web.css" />
<link rel="stylesheet" type="text/css" href="../../../print.css" media="print" />
<link rel="alternate" type="application/atom+xml" title="Alex Ott's Russian Blog" href="http://feeds.feedburner.com/alexott-ru" />
<link rel="alternate" type="application/atom+xml" title="Alex Ott's English Blog" href="http://feeds.feedburner.com/alexott" />
<link rel="alternate" type="application/atom+xml" title="Alex Ott's German Blog" href="http://feeds.feedburner.com/alexott-de" />
</head><body>
<div id="wrap"><div id="header"><h1>Работа с TeX/LaTeX с использованием пакета AUCTeX</h1>
<p><a href="../../../ru/index.html">Russian</a>
&middot; <a href="../../../en/index.html">English</a></p></div>

<div id="leftside"><h2 class="hide">Меню:</h2><ul class="avmenu"><li><a href="../../index.html">Главная</a></li><li><a href="../../cf/">Информационная безопасность</a></li><li><a href="../../fp/">Функциональное программирование</a></li><li><a href="../../lisp/">Lisp</a></li><li><a href="../../clojure/">Clojure</a></li><li><a href="../../scheme/">Scheme</a></li><li><a href="../../erlang/">Erlang</a></li><li><a href="../../cpp/">C++</a></li><li><a href="../../oss/">Open Source Projects</a></li><li><a href="../../emacs/">Emacs</a></li><li><a href="../../writings/" class="current">Статьи</a></li></ul>
<div class="announce"><br><form action="http://www.google.com/cse" id="searchbox_006849776194404728512:q7vjogjzehm">  
<input type="hidden" name="cx" value="006849776194404728512:q7vjogjzehm">  
<input type="text" name="q" size="17">  <input type="submit" name="sa" value="Search"> </form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=searchbox_006849776194404728512%3Aq7vjogjzehm&lang=ru">
</script>
<p>Баннер для <a href="http://users.livejournal.com/_darkus_/615051.html">фонда поддержки ФП</a></p></p>
<script type="text/javascript">google_ad_client = "ca-pub-3939516554853109"; google_ad_slot = "1719545528"; google_ad_width = 120; google_ad_height = 240;</script><script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script></div>
</div> <!-- leftside -->

<div id="contentwide">
<div class="contents">
<dl>
<dt>
<a href="#sec1">Установка пакета</a>
</dt>
<dt>
<a href="#sec2">Работа с пакетом</a>
</dt>
<dd>
<dl>
<dt>
<a href="#sec3">Редактирование исходных текстов</a>
</dt>
<dt>
<a href="#sec4">Обработка исходных текстов</a>
</dt>
<dt>
<a href="#sec5">Работа с частями документа</a>
</dt>
</dl>
</dd>
<dt>
<a href="#sec6">Настройка</a>
</dt>
<dd>
<dl>
<dt>
<a href="#sec7">Поддержка разных языков</a>
</dt>
<dt>
<a href="#sec8">Автоматическая настройка</a>
</dt>
<dt>
<a href="#sec9">Создание стилевых файлов</a>
</dt>
</dl>
</dd>
<dt>
<a href="#sec10">Пакеты, расширяющие функциональность <em>AUCTeX</em></a>
</dt>
<dt>
<a href="#sec11">Дополнительная информация</a>
</dt>
</dl>
</div>


<p><em>TeX-mode</em> не обеспечивает в полной мере полноценной работы с исходными текстами TeX/LaTeX.
Для обеспечения более комфортабельной работы с этими файлами, был разработан пакет <em>AUCTeX</em>
который обеспечивает следующие возможности:</p>

<ul>
<li>поддержку работы с TeX/LaTeX/ConTeXt;, с автоматическим выбором соотвествующего набора
команд;</li>
<li>подстветку синтаксиса команд TeX;</li>
<li>ввод команд, названий разделов и окружений, с использованием дополнения имен и
парамаетров;</li>
<li>быстрый ввод команд изменения шрифтов;</li>
<li>правильный ввод TeX'вских кавычек;</li>
<li>вставку математических команд с помощью меню и клавиатуры;</li>
<li>запуск внешних команд для обработки исходных текстов и просмотра результатов;</li>
<li>показ ошибок компиляции и переход на соответствующее место в исходных текстах;</li>
<li>поддержка документов, состоящих из нескольких файлов;</li>
<li>скрытие частей документа (fold);</li>
<li>поддержка макросов и окружений, предоставляемых специальными стилевыми файлами;</li>
<li>возможность создания поддержки для стилевых файлов пользователя.</li>
</ul>

<p>Это только основные возможности пакета. Более подробную информацию вы можете найти в
справочных страницах пакета или на сайте <a href="http://www.emacswiki.org/cgi-bin/wiki/AUCTeX">Emacs WiKi</a>.</p>

<h2><a name="sec1" id="sec1"></a>
Установка пакета</h2>

<p class="first">Для установки пакета требуется наличие относительно свежих версий GNU Emacs (как минимум
версия 21), или XEmacs версии 21.  Для обработки файлов с исходными текстами требуется
наличие работающего LaTeX.  А для сборки пакета также потребуется наличие пакета <em>texinfo</em>.</p>

<p>Сборка пакета производится с помощью стандартных скриптов <code>configure</code>.  Тонкая настройка
параметров производится с помощью опций <code>configure</code>.  После настройки пакета нужно выполнить
лишь две команды: <code>make</code> &mdash; для сборки, и <code>make install</code> &mdash; для установки.</p>

<p>Загрузка пакета производится с помощью следующих команд, помещенных в файл инициализации
Emacs:</p>

<pre class="src">
(setq load-path (cons <span style="color: #008b00;">"~/elisp"</span> load-path))
(<span style="color: #a020f0;">require</span> '<span style="color: #00008b;">tex-site</span>)
</pre>

<p>первая строка нужна лишь в том случае, если вы установили пакет в нестандартное место, а
всю работу по загрузке пакета выполняет функция, указанная во второй строке.  Кроме этого,
вы можете указать команды установки переменных, которые позволят производить более тонкую
настройку пакета.  Эти переменные будут обсуждаться в разделе <a href="#customize">Настройка</a>.</p>


<h2><a name="sec2" id="sec2"></a>
Работа с пакетом</h2>

<p class="first">Работа с пакетом может осуществляться разными способами &mdash; через меню, с помощью сочетаний
клавиш и используя именованные команды.  Команды пакета можно разделить на две группы &mdash;
команды работы с текстом, и команды обработки исходных текстов.</p>

<p>Команды работы с текстом, такие как команды вставки окружений, макросов и т.п.,
сосредоточены в меню LaTeX, а команды обработки исходных текстов сосредоточены в меню
Command.</p>

<h3><a name="sec3" id="sec3"></a>
Редактирование исходных текстов</h3>

<p><em>AUCTeX</em> очень сильно помогает пользователю при вводе команд разметки TeX и LaTeX.  Это и
использование стандартных механизмов дополнений при вводе названий команд, а также
генерация имен меток, и многие другие вещи.</p>

<p>Пакет <em>AUCTeX</em> позволяет пользователю вводить команды разметки TeX удобным способом.  Для
ввода названий команд TeX могут использоваться стандартные механизмы дополнений Emacs.  И
кроме того, для многих команд пакет знает какие аргументы им требуются, и запрашивает
нужные значения у пользователя.  Он даже может различать обязательные и необязательные
аргументы.  Вставка команды разметки производится с помощью сочетания клавиш <code>C-c C-m</code> или
<code>C-c RET</code>, которые вызывают функцию <code>TeX-insert-macro</code>.  При вводе имени команды, и
аргументов, пользователь может использовать стандартные клавиши работы с дополнениями,
такие как <code>TAB</code>.  В качестве имени команды, пакет обычно предлагает имя последней введенной
команды.  Пользователь может также переопределить клавишу <code>\</code>, так, чтобы она вызывала
нужную команду для ввода имени макроса, например с помощью следующего кода, помещенного в
файл инициализации:</p>

<pre class="src">
(add-hook 'TeX-mode-hook
 '(<span style="color: #a020f0;">lambda</span> ()
   (local-set-key <span style="color: #008b00;">"\\"</span> 'TeX-electric-macro)))
</pre>

<p>Кроме этого, пользователь может вводить имена макросов используя сочетание клавиш <code>M-TAB</code>,
что позволяет избежать запроса аргументов.</p>

<p>Для ввода команд секционирования пользователь может воспользоваться командой
<code>LaTeX-section</code>, привязанной к сочетанию клавиш <code>C-c C-s</code>.  При выполнении этой команды, у
пользователя запросят имя соответствующей команды, обозначающей раздел документа (при
вводе имени, пользователь может использовать механизмы дополнений), заголовок раздела, и
имя метки, которая будет связанна с данным разделом.  При этом, имя раздела может быть
автоматически сгенерировано на основании имени раздела (правда это работает только для
латинских названий разделов).  При вставке нового раздела, пакет выполняет команды,
хранящиеся в переменной <code>LaTeX-section-hook</code>, что позволяет выполнить тонкую настройку
поведения данной команды.  О том, как можно настроить поведение данной команды, вы можете
прочитать в разделе &quot;Inserting chapters, sections, etc.&quot; руководства по <em>AUCTeX</em>.</p>

<p>Пакет <em>AUCTeX</em> также позволяет пользователю более удобно вводить команды для обозначения
окружений LaTeX, вставляя пару команд <code>\begin{}</code> и <code>\end{}</code>, и также запрашивая параметры для
данного окружения, в том случае, если он про него знает.  Для вставки команд окружения
используется команда <code>LaTeX-environment</code>, привязанная к сочетанию клавиш <code>C-c C-e</code>.  Также,
как и для предыдущих команд, при вводе имени окружения, пакет позволяет использовать
механизмы дополнения, а также использовать историю ввода предыдущих имен.  Пакет позволяет
работать не только со стандартными окружениями LaTeX, но и учитывает текущий класс
документа, а также список загруженных пакетов (это происходит в том случае, если
переменная <code>TeX-parse-self</code> имеет истинное значение).</p>

<p>Для вставки команд изменения шрифтов текста, пакет <em>AUCTeX</em> предлагает большое количество
функций.  Для ускорения ввода, они все привязаны к сочетаниям клавиш, начинающимся с
префикса <code>C-c C-f</code>, после которого идет сочетание клавиши Control и буквы, которая
обозначает нужный шрифт.  Эти команды вставляют соотвествующую команду разметки и помещают
курсор между фигурными скобками.  В том случае, если вы хотите изменить шрифт для уже
написанного текста, то просто выделите область и выполните соотвествующую команду.  При
работе в математическом режиме, эти команды вставляют соотвестсвующие аналоги.  Пакет
определяет следующие команды для изменения шрифтов:</p>

<ul>
<li><code>C-c C-f C-b</code> вставляет команду жирного шрифта <code>\textbf{-!-}</code></li>
<li><code>C-c C-f C-i</code> вставляет команду шрифта italics <code>\textit{-!-}</code></li>
<li><code>C-c C-f C-e</code> вставляет команду акцентирования (emphasized) <code>\emph{-!-}</code></li>
<li><code>C-c C-f C-s</code> вставляет команду наклонного шрифта <code>\textsl{-!-}</code></li>
<li><code>C-c C-f C-r</code> вставляет команду шрифта roman <code>\textrm{-!-}</code></li>
<li><code>C-c C-f C-f</code> вставляет команду шрифта sans serif <code>\textsf{-!-}</code></li>
<li><code>C-c C-f C-t</code> вставляет команду шрифта печатной машинки <code>\texttt{-!-}</code></li>
<li><code>C-c C-f C-c</code> вставляет команду шрифта SMALL CAPS <code>\textsc{-!-}</code></li>
<li><code>C-c C-f C-d</code> удаляет окружающую команду изменения шрифта.</li>
</ul>

<p>В процессе работы с исходными текстами, пакет пытается сделать их более читаемыми за счет
использования некоторых вещей &mdash; подсветки ключевых слов TeX и LaTeX в тексте, а также за
счет вставки отступов для показа отношения между частями текстов.  Для вставки нужного
отступа может испльзоваться клавиша TAB, или это может быть сделано автоматически при
заполнении параграфа с помощью <code>M-q</code>, или для всего буфера, с помощью команды
<code>LaTeX-fill-buffer</code>.</p>

<p>Часто неободимо закомментировать область исходного кода TeX или LaTeX.  Это можно сделать
с помощью команд <code>C-c ;</code> и <code>C-c %</code>.  <code>C-c ;</code> закомментирует все строки в выделенной области, а
<code>C-c %</code> закомментирует строки текущего параграфа.  Наберите <code>C-c ;</code> для того, чтобы
раскомментировать все строки выделенной области, или <code>C-c %</code> для раскомментирования всех
закомментированных строк параграфа.  Эти команды всталяют или удаляют знаки <code>%</code>.</p>

<p>Кроме указанных выше команд, пакет старается вставлять правильные знаки кавычек, знаки
доллара для обозначение математического режима, а также пары скобок для того, чтобы
избежать проблем с непарными скобками.</p>


<h3><a name="sec4" id="sec4"></a>
Обработка исходных текстов</h3>

<p class="first">Все действия по обработке текста в <em>AUCTeX</em> приведены к одному сочетанию клавиш &mdash; 
<code>C-c C-c</code> в
зависимости от контекста, данная комманда приводит в вызову LaTeX (или TeX), программы
просмотра или печати.  Во многих случаях, пакет предлагает правильную команду: если текст
изменялся, то предлагается команда компиляции текста &mdash; 
<code>latex</code> или <code>tex</code> в зависимости от
контекста; если текст был скомпилирован нормально, то вызывается программа просмотра и
т.д.  Это же самое касается программ создания индексов и библиографий.  Пакет <em>AUCTeX</em> может
определить достаточно точно, нужно ли еще раз запускать программу компиляции, но это может
происходить не всегда.</p>

<p>В качестве выходого формата вы можете выбрать либо DVI или PDF.  Вы можете определять эти
и другие параметры выходного файла с помощью нескольких сочетаний клавиш, перечисленных
ниже:</p>

<ul>
<li><code>C-c C-t C-p</code> Переключает между выводом в форматах DVI и PDF;</li>
<li><code>C-c C-t C-i</code> Включает и выключает интерактивный режим;</li>
<li><code>C-c C-t C-s</code> Включает и выключение поддержки специальных тагов исходных текстов;</li>
<li><code>C-c C-t C-o</code> Включает и выкулючает использование <em>Omega/lambda</em>.</li>
</ul>

<p>При обработке исходного текста, создается временный буфер, в который выводится результат
компиляции.  Если в файле находится ошибка, то пользователь может переместиться на первую
найденную ошибку с помощью сочетания клавиш <code>C-c `</code>.  При этом, окно разбивается на два: в
верхнем отображается исходный текст, а в нижнем &mdash; результат компиляции.  После
исправления ошибки, можно переместиться на следующую ошибку, используя это же сочетание
клавиш.  Используя команду <code>TeX-toggle-debug-boxes</code>, привязанную к сочетанию клавиш <code>C-c C-w</code>,
можно отображать также предупреждения о переполнение или недополнении боксов.</p>

<p>Если вы хотите обработать только некоторые части документа, то вы можете отметить нужную
область и использовать сочетание клавиш <code>C-c C-r</code> для обработки выделенных данных.
Выделенная область обрабатывается точно также как и весь документ.  При обработке области
будет использоваться преамбула основного документа.  В том случае, если ваш документ
состоит из нескольких файлов, то вы можете обработать текущий буфер с помощью сочетания
клавиш <code>C-c C-b</code>.  При этом, при компиляции буфера будет использоваться преамбула главного
документа.</p>

<p>В том случае, если команда входит в бесконечный цикл, или вы просто хотите завершить ее
выполнение, то вы можете исполльзовать сочетание клавиш <code>C-c C-k</code> для ее завершения.  Для
просмотра вывода команды, который добавляется в конец буфера команды, вы можете
использовать сочетание клавиш <code>C-c C-l</code>.</p>

<p><em>AUCTeX</em> позволяет запустить внешнюю программу для просмотра вашего документа.  Обычно это
происходит когда пользователь набирает <code>C-c C-c</code> после того, как документ отформатирован,
или используя соответствующий пункт меню <code>Command</code>.  Команда <code>TeX-view</code>, привязаная к
сочетанию клавиш <code>C-c C-v</code>, запускает программу просмотра без подтверждения.  Программа
просмотра запускается либо для области текста, либо для основного файла, в зависимости от
последней использованной команды.  Это особенно полезно если вы хотите перейти к точке
текста, соответствующей точке в программе просмотра DVI при использовании режима
<code>TeX-source-specials-mode</code>.</p>

<p><em>AUCTeX</em> старается угадать какой тип программы просмотра (DVI, PostScript или PDF) будет
использоваться и какие опции должны быть переданы ей.  Это решение основывается на файлах
результатов, присутствующих в рабочем каталоге, а также на классе документа и используемых
стилевых файлах.  Например, если в рабочем каталоге находится файл DVI, то будет запущена
программа просмотра DVI.  А при наличии PDF файла будет запущена программа просмотра PDF.
Если пользователь указывает специальный формат бумаги, такой как <em>a5paper</em> или использует
опцию <em>landscape</em>, то программе просмотра будут переданы соответствующие опции.  Некоторые
программы просмотра DVI особенно нуждаются в такой информации для того, чтобы корректно
отображать документ.  Если используются пакеты <em>pstricks</em> или <em>psfrag</em>, то программа просмотра
DVI не сможет корректно отобразить его содержимое, и вместо него будет запущена программа
просмотра PostScript.</p>

<p>Информация о типах файлов и стилевых опциях и связанных с ними программах просмотра и
соответсвующих опциях хранится в переменных <code>TeX-output-view-style</code> и <code>TeX-view-style</code>.</p>

<p>При обработке исходных текстов с помощью TeX или LaTeX пользователь сможет найти только
общие ошибки, но не примеры плохого стиля.  Для нахождения стилевых ошибок, таких как
потерю пробела после сокращения, или использования <code>...</code> вместо <code>\ldots</code> и т.п., может
использоваться утилита <code>lacheck</code>.  Вы можете запустить <code>lacheck</code> с помощью команды <code>C-c C-c</code>
<code>Check</code>.  В качестве результата, пользователь получит список ошибок в буфере <code>*compilation*</code>.
Вы можете использовать теже приемы что и при обработке ошибок компиляции.  Кроме <code>lacheck</code>,
пользователи могут использовать программу <code>chktex</code>, которая является более настраиваемой, но
может не находить всех ошибок, которые находит <code>lacheck</code>.</p>


<h3><a name="sec5" id="sec5"></a>
Работа с частями документа</h3>

<p class="first">Пакет <em>AUCTeX</em> предоставляет пользователю мозможность работы с частями документа.
Существует два метода работы с частями документов &mdash; свертывание (folding) и ранжирование
(outlining).</p>

<p>Используя возможности свертывания, предоставляемые <em>AUCTeX</em>, вы можете свертывать части
документа, и они будут отображаться как фиксированная строка, или будут использовать для
отображения часть свернутых данных.  Эта функциональность полезна в том случае, если вы
часто используете цитаты и сноски, и не хотите загромождать ими текст.  Свернутые части
будут автоматически разворачиваться когда вы будете перемещаться в них.</p>

<p>Для использования данной возможности, вы должны активизировать <code>TeX-fold-mode</code>, который
предоставляет необходимые команды для свертывания и развертывания макросов и окружений.
Данный режим можно включить с помощью команды <code>M-x TeX-fold-mode</code> или сочетания клавиш <code>C-c
C-o C-f</code>.  Вы можете включать этот режим автоматически, воспользовавшись хуками. Например,
вот так:</p>

<pre class="src">
(add-hook 'TeX-mode-hook '(<span style="color: #a020f0;">lambda</span> ()
  (TeX-fold-mode 1)))
</pre>

<p>После активации данного режима, пользователю становятся доступны команда свертывания всех
макросов и окружений в документе &mdash; 
<code>TeX-fold-buffer</code> (<code>C-c C-o C-b</code>), свертывания текущего
макроса &mdash; 
<code>TeX-fold-macro</code> (<code>C-c C-o C-m</code>) и свертывания текущего окружения &mdash; 
<code>TeX-fold-env</code>
(<code>C-c C-o C-e</code>).  Для того, чтобы развернуть все свернутые объекты может использоваться
команда <code>TeX-fold-clearout-buffer</code> (<code>C-c C-o C-x</code>), а для развертывания текущего объекта &mdash;
команда <code>TeX-fold-clearout-item</code> (<code>C-c C-o C-c</code>).  Все команды свертывания используют
переменные <code>TeX-fold-macro-spec-list</code> и <code>TeX-fold-env-spec-list</code> для того, чтобы определить
какие макросы и окружения необходимо сворачивать, и что отображать вместо свернутых
объектов.  Если макросы или окружения не перечисленны в указанных переменных, то
используются значения переменных <code>TeX-fold-unspec-macro-display-string</code> и
<code>TeX-fold-unspec-env-display-string</code>.  Все эти переменные доступны для изменения через
стандартные механизмы настройки Emacs.</p>

<p><em>AUCTeX</em> реализует поддержку вспомогательного режима <em>outline</em>, используя команды
секционирования LaTeX/ConTeXt в качестве строк заголовков.  Просто включите
<code>outline-minor-mode</code> и вы сможете скрывать разделы используя стандартные команды.
Дополнительные заголовки секционирования могут быть добавлены с помощью переменной
<code>TeX-outline-extra</code>.  Каждый из элементов списка является списком из двух элементов &mdash;
регулярного выражения и уровня, которому соотвествует данное выражение.  Знак <code>^</code>
автоматически добавляется в начало каждого регулярного выражения.  Для лучшей поддержки
режима <em>outline</em> вы можете воспользоваться пакетом <em>out-xtra</em>, который доступен через архив
кода Emacs Lisp.</p>

<h2><a name="sec6" id="sec6"></a>
<a name="customize" id="customize"></a>Настройка</h2>

<p class="first">Настройка пакета может осуществляться с помощью стандартных средств настройки Emacs &mdash; с
помощью команды <code>customize-group</code>.  Группа настройки называется <code>AUCTeX</code>.  В этой группе
определено множество переменных, которые будут описаны далее.</p>

<p>Для того, чтобы обеспечить поддержку многих пакетов LaTeX, которые вы хотите использовать
в ваших документах, вы должны разрешить парсинг документов, что можно сделать с помощью
следующих команд:</p>

<pre class="src">
(setq TeX-auto-save t)
(setq TeX-parse-self t)
</pre>

<p>Если вы часто используете команды <code>\include</code> или <code>\input</code>, то вы должны предупредить <em>AUCTeX</em> о
том, что вы используете документы из нескольких файлов.  Это можно сделать с помощью
команды:</p>

<pre class="src">
(setq-default TeX-master nil)
</pre>

<p>Так что каждый раз, когда вы будете открывать новый файл, то <em>AUCTeX</em> будет запрашивать у
вас имя главного файла.</p>

<h3><a name="sec7" id="sec7"></a>
Поддержка разных языков</h3>

<p class="first">В настоящее время Emacs и TeX вполне нормально поддерживают языки отличные от английского,
но все таки для работы с корейским, китайским и японским, вам могут понадобиться
специальные версии Emacs и TeX.  Пакет <em>AUCTeX</em> распознает использование пакета <em>inputenc</em>,
что позволяет более корректно обрабатывать работу с разными кодировками.</p>

<p>Для более удобной работы с европейскими языками существует несколько пакетов, которые
позволяют преобразовывать символы в макросы TeX и обратно, при чтении и записи
редактируемых файлов.  Сюда относятся пакеты <em>iso-cvt.el</em>, который поставляется вместе с GNU
Emacs, <em>x-compose.el</em>, который поставляется с XEmacs, и пакет <em>X-Symbol</em>, который позволяет
корректно отображать большое количество математических и других символов (пакет может
работать и с GNU Emacs и с XEmacs).</p>

<p><em>AUCTeX</em> имеет в своем составе поддержку для разных языков. Поддержка каждого из языков
реализуется в виде отдельных стилевых файлов, которые улучшают работу <em>AUCTeX</em>.  Например,
пользователь может добавить автоматическую смену словаря при работе с файлами, которые
включают в себя, например, файл <em>dk.sty</em>.  Чтобы это работало, вам необходимо включить
поддержку разбора файлов.  Для каждого из поддерживаемых языков, определяется хук с именем
<code>TeX-language-XX-hook</code>, где <code>XX</code> &mdash; двух-символьный код языка.  В настоящее время
поддерживаются датский, голландский, немецкий, итальянский и польский языки.</p>


<h3><a name="sec8" id="sec8"></a>
Автоматическая настройка</h3>

<p><em>AUCTeX</em> пытается произвести самонастройку путем сканирования файлов TeX, выделения из них
символов, окружений и т.п. данных.  Эта информация позволяет сделать редактирование
текстов более удобным.  Автоматическая настройка может производиться на трех уровнях.
Самый главный уровень &mdash; данные, которые используются всеми пользователями системы, и
содержащий все стилевые файлы TeX.  Вторым уровнем являются файлы, принадлежащие
конкретному пользователю, но которые используются в разных проектах.  К третьему уровню
относятся файлы расположенные в рабочем каталоге.  По умолчанию, <em>AUCTeX</em> производит поиск
файлов на всех трех уровнях, но вы можете явно задать пути поиска с помощью переменной
<code>TeX-style-path</code>. По умолчанию <em>AUCTeX</em> обрабатывает каталоги рекурсивно, но вы можете
настроить это поведение с помощью переменной <code>TeX-file-recurse</code>.  <em>AUCTeX</em> игнорирует
некоторые имена файлов (<code>.</code>, <code>..</code>, <code>SCCS</code>, <code>RCS</code> и <code>CVS</code>), которые определены в переменной
<code>TeX-ignore-file</code>.</p>

<p>Настройка для глобального уровня производится с помощью переменных <code>TeX-macro-global</code>,
которая содержит список каталогов со стилевыми файлами TeX; <code>TeX-style-global</code>, которая
содержит название каталога с информацией, созданной вручную; и <code>TeX-auto-global</code>, в которой
хранится информация автоматически выделенная из стилевых файлов.</p>

<p>Настройки для уровня пользователя хранятся в переменных <code>TeX-macro-private</code>, в которой
указывается список каталогов со стилями TeX; <code>TeX-auto-private</code>, в которой указывается
каталог для хранения выделенной информации; и <code>TeX-style-private</code>, в которой указывается
список каталогов со стилями <em>AUCTeX</em>, написанными вручную.  Для перегенерации автоматически
выделяемых данных используется фукнция <code>TeX-auto-generate</code>.</p>

<p>Настройка для локального использования проводится с помощью переменных <code>TeX-auto-local</code>, в
которой указывается каталог для сохранения автоматически выделенной инфомации (по
умолчанию она имеет значение <code>auto</code>) и <code>TeX-style-local</code>, в которой хранится имя каталога со
стилевыми файлами.  По умолчанию, автоматически выделяемая информация сохраняется каждый
раз, когда вы сохраняете ваши файлы.</p>


<h3><a name="sec9" id="sec9"></a>
Создание стилевых файлов</h3>

<p class="first">Пользователь <em>AUCTeX</em> может улучшить свою работу с помощью дополнительных стилевых файлов,
которые позволяют лучше настроить <em>AUCTeX</em> при использовании конкретных стилевых файлов
TeX/LaTeX и/или конкретных команд и окружений.</p>

<p>Функция <code>TeX-add-style-hook</code> позволяет пользователю задать код, который будет выполнен при
использовании определенного стилевого файла TeX.  Например,</p>

<pre class="src">
(TeX-add-style-hook <span style="color: #008b00;">"book"</span>
  (function (<span style="color: #a020f0;">lambda</span> ()
    (setq LaTeX-largest-level
       (LaTeX-section-level (<span style="color: #008b00;">"chapter"</span>))))))
</pre>

<p>устанавливает самый главный уровень секционирования равным chapter при использовании стиля
<em>book</em>.  Аналогичным образом, может добавляться поддержка и других стилевых
файлов. Достаточно большое их количество уже определено и поставляется в дистрибутиве
<em>AUCTeX</em> (в подкаталоге <code>style</code>).</p>

<p>Основным предназначением стилевого хука является объявление новых макросов и окружений,
которые существуют в стилевом файле.  Явные объявления используются для указания
аргументов макросов, а сами макросы определяются автоматически.  Добавление новых макросов
выполняется с помощью функции <code>TeX-add-symbols</code>, которой передается список, который в свою
очередь состоит из списка первым в котором идет название макроса, а затем идет описание
аргументов данного объекта.  Если у объекта нет аргументов, то он просто вставляется и
точка вставки помещается между фигурными скобками.  Если у объекта есть аргументы, то
<em>AUCTeX</em> запрашивает их у пользователя.</p>

<p>Для указания аргументов используется некоторое количество функций вида <code>TeX-arg-TYPE</code>, где
<code>TYPE</code> указывает на соответствующий тип, и <em>AUCTeX</em> будет проверять вводимые пользователем
данные.  Описания этих функций смотрите в документации по <em>AUCTeX</em>.</p>

<p>Добавление окружений происходит аналогично добавлению макроса.  Добавление новых окружений
производится с помощью функции <code>LaTeX-add-environments</code>, которой передаются список списков
из имени окружения и описания аргуметов.  Для детального описания аргументов, также
смотрите в документации по <em>AUCTeX</em>.</p>

<p>Кроме добавления информации о макросах и окружениях, <em>AUCTeX</em> позволяет добавить информацию
о библиографиях и метках.  Это выполняется с помощью функций <code>LaTeX-add-bibliographies</code> и
<code>LaTeX-add-labels</code> соответственно.</p>

<p><em>AUCTeX</em> пытается автоматически выделить информацию об объектах при разборе стилевых файлов.
Он делает это с помощью набора регулярных выражений.  Эти выражения хранятся в переменной
<code>TeX-auto-regexp-list</code>, которую вы можете изменять, добавляя собственные регулярные
выражения.  Кроме этого, <em>AUCTeX</em> определяет два хука, которые вызываются перед и после
парсинга файла TeX.  Они называются <code>TeX-auto-prepare-hook</code> и <code>TeX-auto-cleanup-hook</code>.  Вы
можете использовать эти хуки для выполнения вашего кода.</p>



<h2><a name="sec10" id="sec10"></a>
Пакеты, расширяющие функциональность <em>AUCTeX</em></h2>

<p class="first">Существует некоторое количество дополнительныз пакетов, которые позволяют улучшить работу
с TeX/LaTeX при использовании <em>AUCTeX</em>.  Некоторые из этих пакетов могут работать отдельно,
но наилучшие результаты дает их совместное использование с <em>AUCTeX</em>:</p>

<dl>
<dt><strong><em>Preview-LaTeX</em></strong></dt>
<dd>В настоящее время, пакет <em>preview-latex</em> (описанный в соответствующем
<a href="PreviewLaTeX.html">разделе</a>) стал частью пакета <em>AUCTeX</em>, значительно улучшив возможности пакета по
визуальной работе с исходными текстами TeX и LaTeX.</dd>

<dt><strong><em>RefTeX</em> и BibTeX</strong></dt>
<dd>Пакеты <em>RefTeX</em> и BibTeX, описанные в следующих разделах умеют
интегрироваться с пакетом <em>AUCTeX</em>, позволяя существенно улучшить работу с ссылками и
библиографиями.</dd>

<dt><strong>latex-units</strong></dt>
<dd>Данный пакет добавляет еще одно меню, с помощью которого можно вставлять
объявления единиц измерения (например, kg и т.п.).  Этот пакет работает только в
математическом режиме, когда для корректного отображения текста требуется вставка
нескольких команд TeX, что может сильно раздражать. Для установки пакета скачайте его с
<a href="http://people.debian.org/~psg/elisp/latex-units.el">домашней страницы</a> и загрузите его, также как и другие пакеты, с помощью функции
<code>require</code>.</dd>
</dl>


<h2><a name="sec11" id="sec11"></a>
Дополнительная информация</h2>

<p class="first">Дополнительную информацию о пакете <em>AUCTeX</em> вы можете найти на страницах проекта,
находящихся по адресам <a href="http://www.gnu.org/software/auctex/">http://www.gnu.org/software/auctex/</a> и
<a href="http://savannah.gnu.org/projects/auctex">http://savannah.gnu.org/projects/auctex</a>.  Кроме этого, большое количество информации можно
найти на страницах <a href="http://www.emacswiki.org/cgi-bin/wiki/AUCTeX">Emacs WiKi</a>.</p>

<div id="rule"><a href="index.html">На главную страницу</a></div>


<!-- Page published by Emacs Muse ends here -->
<div id="lastchange"><p><em>Last change: 09.03.2012 14:36</em></p></div>

<div id="rule"><div id="disqus_thread"></div>
<script type="text/javascript">
var disqus_shortname = 'alexottnet';
var disqus_identifier = '/ru/writings/emacs-tex/AUCTeX.html';
var disqus_url = 'http://alexott.net/ru/writings/emacs-tex/AUCTeX.html';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
</div></div><!-- div-contentwide -->

<div id="footer"><p>Copyright &copy; 1997-2011<a href="../../../copyright.html">Alex Ott</a> &middot; Design by <a href="http://andreasviklund.com/">Andreas Viklund</a>&nbsp;&middot;&nbsp; <a href="http://mwolson.org/projects/EmacsMuse.html"><img alt="muse logo" src="../../../muse-grey-bar.png" /></a></p></div></div> <!-- div-wrap -->

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
try {var pageTracker = _gat._getTracker("UA-78697-10");pageTracker._trackPageview();} catch(err) {}</script>
</body></html>