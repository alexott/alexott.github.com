<HTML>
<HEAD>
<!-- Created by texi2html 1.56k from emacs.texi on 29 October 2002 -->

<TITLE>Руководство по GNU Emacs - Организация экрана</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="emacs_1.html">first</A>, <A HREF="emacs_5.html">previous</A>, <A HREF="emacs_7.html">next</A>, <A HREF="emacs_46.html">last</A> section, <A HREF="emacs_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC12" HREF="emacs_toc.html#TOC12">Организация экрана</A></H1>
<P>
<A NAME="IDX1"></A>
<A NAME="IDX2"></A>


<P>
  На текстовом терминале Emacs занимает весь экран.  В системе X Windows
Emacs создает для себя свои X-окна.  Мы используем термин <EM>фрейм</EM>
для обозначения всего текстового экрана или всего X-окна, используемого
Emacs.  Оба вида фреймов используются в Emacs одинаково для отображения
вашего текста.  Обычно Emacs запускается только с одним фреймом, но при
желании вы можете создать дополнительные.  See section <A HREF="emacs_22.html#SEC176">Фреймы и X Windows</A>.


<P>
  Когда вы запускаете Emacs, весь фрейм, за исключением первой и
последней строки, отводится для редактируемого текста.  Эта область
называется <EM>окном</EM>.  Первая строка называется <EM>полоской меню</EM>, а
последняя -- это особая <EM>эхо-область</EM> или <EM>окно минибуфера</EM>,
где появляются запросы, и куда вы можете ввести ответы.  Дальнейшие
сведения об этих специальных строках смотрите ниже.


<P>
   Текстовое окно может быть поделено по горизонтали или вертикали на
несколько других окон, каждое из которых может быть использовано для
отдельного файла (see section <A HREF="emacs_21.html#SEC169">Множество окон</A>).  В данном руководстве слово "окно"
всегда обозначает часть фрейма внутри Emacs.


<P>
   То окно, в котором находится курсор, называется <EM>выбранным
окном</EM>; в нем идет редактирование.  Большинство команд Emacs неявно
относятся в тексту в выбранном окне (хотя команды мыши как правило
действуют в том окне, в котором вы щелкнули, вне зависимости от того,
выбрано оно или нет).  Остальные окна существуют просто для справки,
пока вы не выберете одно из них.  Если вы используете несколько фреймов
в системе X Windows, то передача фокуса ввода некоторому фрейму выбирает
окно в этом фрейме.


<P>
  Последняя строка каждого текстового окна называется <EM>строкой
режима</EM>, которая описывает происходящее в этом окне.  Она выводится в
инверсном виде, если терминал поддерживает это, и содержит текст,
который начинается при старте Emacs со строки <SAMP>`--:-- 
*scratch*'</SAMP>.  Строка режима показывает сведения о текущем состоянии,
например, какой буфер показан в окне над ней, какие основные и
второстепенные режимы в нем используются, и содержит ли этот буфер
несохраненные изменения.




<H2><A NAME="SEC13" HREF="emacs_toc.html#TOC13">Точка</A></H2>
<P>
<A NAME="IDX3"></A>
<A NAME="IDX4"></A>


<P>
  Курсор терминала внутри Emacs показывает позицию, в которой будет
выполняться команда редактирования.  Это позиция именуется <EM>точкой</EM>.
Многие команды Emacs перемещают точку по тексту, так что вы имеете
возможность редактировать в любом месте.  Вы также можете установить
точку, щелкнув первой кнопкой мыши.


<P>
  Когда курсор указывает <EM>на</EM> знак, то следует думать, что точка
находится <EM>между</EM> двумя знаками; она расположена <EM>перед</EM>
знаком, над которым появляется курсор.  Например, если ваш текст
выглядит как <SAMP>`frob'</SAMP>, а курсор находится над <SAMP>`b'</SAMP>, то точка
расположена между <SAMP>`o'</SAMP> и <SAMP>`b'</SAMP>.  Если вы вставите в этой позиции
знак <SAMP>`!'</SAMP>, то получите <SAMP>`fro!b'</SAMP>, с точкой между <SAMP>`!'</SAMP> и
<SAMP>`b'</SAMP>.  Таким образом, курсор останется над <SAMP>`b'</SAMP>, как и раньше.


<P>
  Иногда говорят "курсор", имея в виду точку, или говорят о командах
движения точки как о командах "движения курсора".


<P>
  Терминалы имеют только один курсор, и когда происходит процесс вывода,
курсор должен находиться там, где идет набор.  Это не означает, что
точка перемещается.  Это значит лишь то, что Emacs может показать вам
позицию точки, только когда терминал не работает.


<P>
  Если вы редактируете в Emacs несколько файлов, каждый в своем буфере,
то всякий буфер имеет свою собственную позицию точки.  Буфер, который не
показывается в данное время, запоминает, где находится точка, на случай,
если вы снова выведете его на экран.


<P>
  Когда фрейм разбит на несколько окон, каждое из них имеет свою
собственную позицию точки.  Курсор же показывает позицию точки в
выбранном окне.  Этим способом вы также можете узнать, которое из окон
выбрано.  Если один и тот же буфер появляется более чем в одном окне, то
каждое из них имеет свою позицию точки.


<P>
  Если есть несколько фреймов, каждый из них может отобразить один
курсор.  Курсор в выбранном фрейме заполнен цветом; курсор в других
фреймах -- это пустая клетка, которая появляется в том окне, которое
было бы выбранным, если бы вы передали фокус ввода этому фрейму.


<P>
  Термин `точка' происходит от названия знака <SAMP>`.'</SAMP>, который был
командой TECO (язык, на котором был написан первоначальный Emacs) для
получения значения величины, называемой теперь `точкой'.




<H2><A NAME="SEC14" HREF="emacs_toc.html#TOC14">Эхо-область</A></H2>
<P>
<A NAME="IDX5"></A>


<P>
  Строка внизу фрейма (под строкой режима) называется
<EM>эхо-областью</EM>.  Она используется для показа небольших фрагментов
текста в нескольких целях.


<P>
  <EM>Эхо</EM> обозначает отображение набираемых вами знаков.  Вне Emacs,
операционная система обычно отображает весь ваш ввод.  Emacs управляет
эхо иначе.


<P>
  Emacs никогда не повторяет команды, состоящие из одиночного знака, а
команды, состоящие из нескольких, повторяются, только если вы
останавливаетесь в процессе их набора.  Как только вы останавливаетесь
более чем на секунду в середине команды, все знаки этой команды сразу же
отображаются.  Это служит <EM>подсказкой</EM> для окончания команды.  Как
только включается эхо, окончание команды отображается немедленно в
процессе набора.  Такое поведение предназначено для того, чтобы
уверенный пользователь получал быстрый результат, в то же время это
позволяет неуверенным пользователям получить максимум обратной связи.
Вы можете изменить это поведение, установив особую переменную
(see section <A HREF="emacs_16.html#SEC88">Переменные управления изображением</A>).


<P>
<A NAME="IDX6"></A>
  Если команда не может быть выполнена, она в печатает эхо-области
<EM>сообщение об ошибке</EM>.  Сообщение об ошибке сопровождается звуковым
сигналом или миганием экрана.  Кроме того, когда произошла ошибка, любой
набранный перед этим ввод сбрасывается.


<P>
  Некоторые команды печатают в эхо-области информационные сообщения.
Они похожи на сообщения об ошибках, но без звукового сигнала, и
набранная ранее информация не сбрасывается.  Иногда эти сообщения
говорят вам, что команда выполнена, в случае, если это явно не
наблюдается при просмотре редактируемого текста.  Иногда единственной
целью команды является печать сообщения, дающего вам специфическую
информацию.  Например, команда <KBD>С-х =</KBD> используется, чтобы
напечатать сообщение, описывающее позицию точки в тексте и ее текущий
столбец в окне.  Команды, требующие для своего выполнения длительное
время, часто выводят во время работы сообщения, заканчивающиеся на
<SAMP>`...'</SAMP>, а в конце, когда они закончились, слово <SAMP>`done'</SAMP>.


<P>
<A NAME="IDX7"></A>
<A NAME="IDX8"></A>
<A NAME="IDX9"></A>
  Информативные сообщения из эхо-области сохраняются в буфере,
называемом <TT>`*Messages*'</TT>.  (Мы еще не объяснили, что такое буфер;
для получения большей информации о них смотрите section <A HREF="emacs_20.html#SEC162">Использование множества буферов</A>.)  Если вы
пропустили сообщение, которое недолго отображалось на экране, вы можете
переключиться в буфер <TT>`*Messages*'</TT> и снова посмотреть его.
(Последовательные сообщения о промежуточных результатах часто
сворачиваются в этом буфере в одно.)


<P>
<A NAME="IDX10"></A>
  Размер буфера <TT>`*Messages*'</TT> ограничен определенным числом строк,
это число задает переменная <CODE>message-log-max</CODE>.  Как только буфер
дорастает до этого размера, каждая новая строка удаляет одну строку из
начала.  See section <A HREF="emacs_36.html#SEC442">Переменные</A>, чтобы узнать, как установить переменные,
такие как <CODE>message-log-max</CODE>.


<P>
  Эхо-область используется также для отображения <EM>минибуфера</EM>: окна,
которое используется для считывания аргументов для команд, например,
имени файла для редактирования.  Когда используется минибуфер,
эхо-область начинается со строки подсказки, которая обычно кончается
двоеточием; кроме того, в этой строке появляется курсор, так как она
становится выбранным окном.  Вы всегда можете выйти из минибуфера,
набрав <KBD>C-g</KBD>.  See section <A HREF="emacs_10.html#SEC36">Минибуфер</A>.




<H2><A NAME="SEC15" HREF="emacs_toc.html#TOC15">Строка режима</A></H2>
<P>
<A NAME="IDX11"></A>
<A NAME="IDX12"></A>


<P>
  Последняя строка в каждом окне называется <EM>строкой режима</EM>, она
описывает происходящее в этом окне.  Когда имеется только одно текстовое
окно, строка режима находится непосредственно над эхо-областью; это
предпоследняя строка фрейма.  Строка режима показывается в инверсном
изображении, если терминал поддерживает это, и начинается и кончается
дефисами.


<P>
  Обычно строка режима выглядит так:



<PRE>
-<VAR>ск</VAR>:<VAR>из</VAR>  <VAR>буф</VAR>      (<VAR>основной</VAR> <VAR>второстепенные</VAR>)--<VAR>стр</VAR>--<VAR>поз</VAR>------
</PRE>

<P>
Это дает информацию о буфере, отображенном в окне: его имя, используемые
основной и второстепенный режимы, изменялся ли текст буфера, и как
далеко вниз по буферу вы сейчас находитесь.


<P>
  <VAR>из</VAR> содержит две звездочки <SAMP>`**'</SAMP>, если текст в буфере
редактировался (буфер "изменен"), или <SAMP>`--'</SAMP>, если буфер не
редактировался.  Для буферов, доступных только для чтения, это
<SAMP>`%*'</SAMP>, если буфер изменен, и <SAMP>`%%'</SAMP> в противном случае.


<P>
  <VAR>буф</VAR> -- это имя <EM>буфера</EM> данного окна.  Чаще всего оно
совпадает с именем файла, который вы редактируете.  See section <A HREF="emacs_20.html#SEC162">Использование множества буферов</A>.


<P>
  Буфер, находящийся в выбранном окне (в том окне, в котором находится
курсор), является также выбранным буфером Emacs -- тем буфером, где
происходит редактирование.  Когда мы говорим, что некоторые команды
выполняются "для буфера", мы говорим о текущем выбранном буфере.


<P>
  <VAR>стр</VAR> -- это <SAMP>`L'</SAMP>, за которой следует текущей номер строки,
где находится точка.  Этот номер выводится, когда включен режим Line
Number (обычно это так).  Вы можете по желанию показать также и номер
текущего столбца, включив режим Column Number (он не включается по
умолчанию, потому что работает несколько медленнее).  See section <A HREF="emacs_16.html#SEC86">Дополнительные возможности строки режима</A>.


<P>
  <VAR>поз</VAR> говорит вам, есть ли еще текст сверху от начала либо ниже
конца окна.  Если буфер небольшой и умещается в окне целиком, то
<VAR>поз</VAR> имеет значение <SAMP>`All'</SAMP>.  Иначе он имеет значение
<SAMP>`Top'</SAMP>, если вы смотрите начало файла, <SAMP>`Bot'</SAMP>, если конец, либо
<SAMP>`<VAR>nn</VAR>%'</SAMP>, где <VAR>nn</VAR> означает количество процентов файла,
находящееся над верхом окна.


<P>
  <VAR>основной</VAR> -- имя <EM>основного режима</EM>, действующего в этом
буфере.  В любой момент каждый буфер находится в одном и только одном из
возможных основных режимов.  Существующие основные режимы включают режим
Fundamental (наименее специализированный), режим Text, режим Lisp, режим
С, режим Texinfo и многие другие.  See section <A HREF="emacs_24.html#SEC211">Основные режимы</A>, чтобы
подробнее узнать о том, чем режимы отличаются, и как выбрать один из
них.


<P>
  Некоторые основные режимы показывают после имени дополнительные
сведения.  Например, буферы Rmail показывают номер текущего сообщения и
общее число сообщений.  Буферы Compilation и Shell отображают состояние
подпроцесса.


<P>
  <VAR>второстепенные</VAR> -- это список некоторых <EM>второстепенных
режимов</EM>, которые включены в данный момент в буфере выбранного окна.
Например, <SAMP>`Fill'</SAMP> значит, что включен режим Auto fill.
<SAMP>`Abbrev'</SAMP> означает, что включен режим Word Abbrev.  <SAMP>`Ovwrt'</SAMP>
означает, что включен режим Overwrite.  See section <A HREF="emacs_36.html#SEC441">Второстепенные режимы</A>,
для более подробной информации.  <SAMP>`Narrow'</SAMP> означает, что область
редактирования отображаемого буфера ограничена только частью его текста.
На самом деле это не второстепенный режим, но действует похоже.
See section <A HREF="emacs_35.html#SEC432">Сужение</A>.  <SAMP>`Def'</SAMP> означает, что сейчас определяется макрос
клавиатуры.  See section <A HREF="emacs_36.html#SEC452">Клавиатурные макросы</A>.


<P>
  Кроме того, если в данный момент Emacs находится внутри уровня
рекурсивного редактирования, то внутри круглых скобок, которые окружают
имена режимов, появляются квадратные скобки (<SAMP>`[...]'</SAMP>).  Если
Emacs находится на некотором уровне рекурсивного редактирования внутри
другого, то появляются двойные квадратные скобки, и так далее.  Так как
уровень рекурсивного редактирования относится ко всему Emacs, а не к
каждому буферу в отдельности, то квадратные скобки появляются или в
строках режима всех окон или ни в одной из них.  See section <A HREF="emacs_35.html#SEC436">Уровни рекурсивного редактирования</A>.


<P>
  Неоконные терминалы могут показать только один фрейм Emacs в одно
время (see section <A HREF="emacs_22.html#SEC176">Фреймы и X Windows</A>).  На таких терминалах строка режима отображает
имя выбранного фрейма, после <VAR>из</VAR>.  Начальный фрейм называется
<SAMP>`F1'</SAMP>.


<P>
  <VAR>ск</VAR> обозначает систему кодирования, которая используется в
редактируемом файле.  Дефис указывает на состояние, устанавливаемое по
умолчанию: отсутствие преобразования, за исключением преобразования
конца строки, если содержимое файла требует этого.  <SAMP>`='</SAMP> обозначает
полное отсутствие преобразований.  Не столь простые преобразования
представляются различными буквами -- например, <SAMP>`1'</SAMP> относится к ISO
Latin-1.  See section <A HREF="emacs_23.html#SEC205">Системы кодирования</A>, для подробной информации.  Если вы
используете метод ввода, к началу <VAR>ск</VAR> добавляется строка в форме
<SAMP>`<VAR>в</VAR>&#62;'</SAMP>; <VAR>в</VAR> идентифицирует метод ввода.  (Некоторые методы
ввода показывают вместо <SAMP>`&#62;'</SAMP> знак <SAMP>`+'</SAMP> или <SAMP>`@'</SAMP>.)
See section <A HREF="emacs_23.html#SEC202">Методы ввода</A>.


<P>
  Когда вы пользуетесь текстовым терминалом (не оконной системой),
<VAR>ск</VAR> использует три знака для описания, соответственно, системы
кодирования для ввода с клавиатуры, системы кодирования для
терминального вывода и системы кодирования, применяемой в редактируемом
файле.


<P>
  Когда выключена поддержка многобайтных знаков, <VAR>ск</VAR> не появляется
совсем.  See section <A HREF="emacs_23.html#SEC200">Включение поддержки многобайтных знаков</A>.


<P>
  Двоеточие после <VAR>ск</VAR> может меняться в некоторых обстоятельствах на
другой знак.  Emacs использует для разделения строк в буфере перевод
строки.  Некоторые файлы используют другое соглашение о разделении
строк: возврат каретки и перевод строки (соглашение MS-DOS) или просто
возврат каретки (соглашение Macintosh).  Если файл в буфере использует
возврат каретки и перевод строки, двоеточие заменяется на обратную косую
черту (<SAMP>`\'</SAMP>) или <SAMP>`(DOS)'</SAMP>, в зависимости от вашей операционной
системы.  Если в этом файле применяется просто возврат каретки, то
двоеточие заменяется на косую черту (<SAMP>`/'</SAMP>) или <SAMP>`(Mac)'</SAMP>.  На
некоторых системах Emacs позывает вместо двоеточия строку <SAMP>`(Unix)'</SAMP>,
даже для файлов, использующих для разделения строк перевод строки.


<P>
<A NAME="IDX13"></A>
<A NAME="IDX14"></A>
<A NAME="IDX15"></A>
<A NAME="IDX16"></A>
  Вы можете настроить способ отображения в строке режима каждого из
форматов разделения строк, устанавливая переменные
<CODE>eol-mnemonic-unix</CODE>, <CODE>eol-mnemonic-dos</CODE>,
<CODE>eol-mnemonic-mac</CODE> и <CODE>eol-mnemonic-undecided</CODE> равными строкам,
которые вы находите подходящими.  See section <A HREF="emacs_36.html#SEC442">Переменные</A>, где объясняется,
как устанавливать переменные.


<P>
  See section <A HREF="emacs_16.html#SEC86">Дополнительные возможности строки режима</A>, подробности о возможностях
добавления в строку режима другой полезной информации, например номера
текущего столбца в точке, текущего времени и сообщения о приходе почты.




<H2><A NAME="SEC16" HREF="emacs_toc.html#TOC16">Полоска меню</A></H2>
<P>
<A NAME="IDX17"></A>


<P>
  Каждый фрейм Emacs обычно имеет сверху <EM>полоску меню</EM>, которую вы
можете использовать для произведения определенных действий.  Нет
необходимости перечислять их здесь, потому что вам проще посмотреть
самим.


<P>
<A NAME="IDX18"></A>
<A NAME="IDX19"></A>
<A NAME="IDX20"></A>
  Когда вы используете оконную систему, вы можете выбирать команды из
полоски меню при помощи мыши.  Направленная вправо стрелка после пункта
меню указывает, что этот пункт ведет ко вторичному меню; <SAMP>`...'</SAMP>  в
конце означает, что до начала работы эта команда считает аргументы с
клавиатуры.


<P>
  Чтобы просмотреть полное имя команды и документацию к пункту меню,
напечатайте <KBD>C-h k</KBD> и затем выберите нужный пункт с помощью мыши
обычным способом.  (see section <A HREF="emacs_12.html#SEC48">Описания для ключей</A>).


<P>
  На текстовых терминалах, где нет мыши, вы можете использовать меню,
напечатав <KBD>M-`</KBD> или <KBD>F10</KBD> (они запускают команду
<CODE>tmm-menubar</CODE>).  Эта команда входит в режим, где вы можете выбрать
пункт меню с помощью клавиатуры.  Предварительный выбор показывается в
эхо-области.  Вы можете использовать правую и левую курсорные стрелки
для движения по меню к разным пунктам.  Когда вы нашли нужный вам пункт,
напечатайте <KBD>RET</KBD>, чтобы выбрать его.


<P>
  К каждому пункту меню также приписывается буква или цифра; обычно это
первая первая буква какого-то слова из имени пункта.  Эта буква или
цифра отделяется от имени значком <SAMP>`=&#62;'</SAMP>.  Для выбора пункта вы
можете напечатать его букву или цифру.


<P>
  Некоторые команды в меню имеют также обычные привязки к ключу; в таком
случае после самого пункта перечисляется один эквивалентный ключ в
круглых скобках.
<P><HR><P>
Go to the <A HREF="emacs_1.html">first</A>, <A HREF="emacs_5.html">previous</A>, <A HREF="emacs_7.html">next</A>, <A HREF="emacs_46.html">last</A> section, <A HREF="emacs_toc.html">table of contents</A>.
</BODY>
</HTML>
