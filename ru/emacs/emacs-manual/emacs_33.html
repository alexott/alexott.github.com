<HTML>
<HEAD>
<!-- Created by texi2html 1.56k from emacs.texi on 29 October 2002 -->

<TITLE>Руководство по GNU Emacs - Dired, редактор каталогов</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="emacs_1.html">first</A>, <A HREF="emacs_32.html">previous</A>, <A HREF="emacs_34.html">next</A>, <A HREF="emacs_46.html">last</A> section, <A HREF="emacs_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC371" HREF="emacs_toc.html#TOC371">Dired, редактор каталогов</A></H1>
<P>
<A NAME="IDX1944"></A>


<P>
  Dired создает буфер Emacs, содержащий распечатку каталога и, возможно,
некоторых его подкаталогов.  Вы можете использовать обычные команды
Emacs, чтобы передвигаться по этому буферу, и специальные команды Dired,
чтобы производить различные действия над файлами.




<H2><A NAME="SEC372" HREF="emacs_toc.html#TOC372">Вход в Dired</A></H2>

<P>
<A NAME="IDX1945"></A>
<A NAME="IDX1946"></A>
<A NAME="IDX1947"></A>
   Чтобы запустить Dired, выполните <KBD>C-x d</KBD> или <KBD>M-x dired</KBD>.
Эта команда считывает имя каталога или шаблон имени файла как аргумент
минибуфера, чтобы определить, какие файлы нужно перечислить.  Команда
<CODE>dired</CODE> отличается от <CODE>list-directory</CODE> тем, что она переводит
буфер в режим Dired, так что в нем становятся доступными специальные
команды Dired.


<P>
  Переменная <CODE>dired-listing-switches</CODE> задает ключи для передачи
@command{ls} при создании распечатки каталога; эта строка <EM>должна</EM>
содержать <SAMP>`-l'</SAMP>.  Если вы используете с командой <CODE>dired</CODE>
числовой аргумент, вы можете указать в минибуфере ключи для @command{ls}
до того, как введете имя каталога.


<P>
<A NAME="IDX1948"></A>
<A NAME="IDX1949"></A>
<A NAME="IDX1950"></A>
<A NAME="IDX1951"></A>
  Чтобы показать буфер Dired в другом окне, а не в выбранном, вместо
<KBD>C-x d</KBD> используется <KBD>C-x 4 d</KBD> (<CODE>dired-other-window</CODE>).
<KBD>C-x 5 d</KBD> (<CODE>dired-other-frame</CODE>) использует для показа буфера
Dired отдельный фрейм.




<H2><A NAME="SEC373" HREF="emacs_toc.html#TOC373">Команды, действующие в буфере Dired</A></H2>

<P>
    Буфер Dired помечен как "предназначенный только для чтения", и
вставлять в него текст бесполезно, так что обычные печатные знаки, такие
как <KBD>d</KBD> и <KBD>x</KBD>, используются для команд Dired.  Одни команды
Dired <EM>устанавливают флаг</EM> на <EM>текущем файле</EM> (это файл на
текущей строке) или <EM>помечают</EM> его; другие команды выполняют
действия над помеченными файлами или файлами с установленным флагом.


<P>
<A NAME="IDX1952"></A>
<A NAME="IDX1953"></A>
  Все обычные команды движения курсора в Emacs доступны и в буферах
Dired.  Также предусмотрены некоторые специальные команды.  Ключи
<KBD>C-n</KBD> и <KBD>С-p</KBD> переопределены так, что они устанавливают курсор в
начало имени файла на строке, а не в начало самой строки.


<P>
<A NAME="IDX1954"></A>
  Для большего удобства, <KBD>SPC</KBD> и <KBD>n</KBD> в Dired эквивалентны
<KBD>C-n</KBD>.  <KBD>p</KBD> эквивалентен <KBD>C-p</KBD>.  (Движение по строкам
делается в Dired настолько часто, что оно заслуживает того, чтобы набор
его был облегчен.)  <KBD>DEL</KBD> (передвинуться вверх и убрать флаг) часто
бывает полезным просто для движения вверх.




<H2><A NAME="SEC374" HREF="emacs_toc.html#TOC374">Удаление файлов с помощью  Dired</A></H2>
<P>
<A NAME="IDX1955"></A>
<A NAME="IDX1956"></A>


<P>
  Прежде всего Dired используется, чтобы <EM>установить флаг</EM> для
удаления на некоторых файлах, а потом удалить файлы, ранее помеченные
флагом.


<DL COMPACT>

<DT><KBD>d</KBD>
<DD>
Установить флаг удаления для этого файла.
<DT><KBD>u</KBD>
<DD>
Убрать флаг удаления на этой строке.
<DT><KBD><KBD>DEL</KBD></KBD>
<DD>
Передвинуть точку на строку выше и убрать на этой строке флаг удаления.
<DT><KBD>x</KBD>
<DD>
Удалить файлы, помеченные флагом удаления.
</DL>

<P>
<A NAME="IDX1957"></A>
<A NAME="IDX1958"></A>
  Вы можете установить на файле флаг, переместившись на строку,
описывающую файл, и набрав на ней <KBD>d</KBD>
(<CODE>dired-flag-file-deletion</CODE>).  Флаг удаления выглядит как <SAMP>`D'</SAMP>
в начале строки.  Эта команда передвигает точку в начало следующей
строки, таким образом, повторение команды <KBD>d</KBD> помечает для удаления
последующие файлы.  Числовой аргумент служит в качестве счетчика
повторов.


<P>
<A NAME="IDX1959"></A>
<A NAME="IDX1960"></A>
  Файлы помечаются для удаления, а не удаляются немедленно, чтобы
уменьшить опасность случайного удаления файла.  До тех пор, пока вы
прямо не укажете Dired удалить помеченный файл, вы можете убрать флаги,
используя команды <KBD>u</KBD> или <KBD>DEL</KBD>.  <KBD>u</KBD> (<CODE>dired-unmark</CODE>
работает точно так же, как <KBD>d</KBD>, но удаляет флаги, а не создает их.
<KBD>DEL</KBD> (<CODE>dired-unmark-backward</CODE>) двигается вверх, убирая флаги;
это подобно <KBD>u</KBD> с аргументом -1.


<P>
<A NAME="IDX1961"></A>
<A NAME="IDX1962"></A>
<A NAME="IDX1963"></A>
  Чтобы удалить файлы с установленным флагом, наберите <KBD>x</KBD>
(<CODE>dired-expunge</CODE>).  Эта команда покажет сначала список всех имен
файлов, помеченных для удаления, и потребует подтверждения вводом
<KBD>yes</KBD>.  Если вы подтверждаете, то все помеченные флагом файлы
уничтожаются и их строки удаляются из текста буфера Dired.  Сокращенный
буфер Dired остается выбранным.


<P>
 Если при запросе подтверждения вы ответите <KBD>no</KBD> или выйдите с
помощью <KBD>C-g</KBD>, вы немедленно вернетесь в Dired; все флаги удаления
останутся в буфере, и файлы не будут удалены.




<H2><A NAME="SEC375" HREF="emacs_toc.html#TOC375">Установка флага на несколько файлов одновременно</A></H2>

<DL COMPACT>

<DT><KBD>#</KBD>
<DD>
Помечает флагом удаления все файлы, которые появились при самосохранении
(файлы, чьи имена начинаются и кончаются на <SAMP>`#'</SAMP>)
(see section <A HREF="emacs_19.html#SEC118">Самосохранение: защита от гибели</A>).

<DT><KBD>~</KBD>
<DD>
Помечает флагом удаления все резервные файлы (файлы, чьи имена кончаются
на <SAMP>`~'</SAMP>) (see section <A HREF="emacs_19.html#SEC112">Резервные файлы</A>).

<DT><KBD>&#38;</KBD>
<DD>
Помечает флагом удаления все файлы с определенными типами имен,
предполагающими, что вы легко сможете их снова создать.

<DT><KBD>. (Точка)</KBD>
<DD>
Помечает флагом удаления излишние резервные файлы.  Сохраняются только
несколько самых старых и самых новых резервных копий; промежуточные
помечаются флагом.

<DT><KBD>% d <VAR>регулярное-выражение</VAR> <KBD>RET</KBD></KBD>
<DD>
Помечает флагом удаления все файлы, чьи имена соответствуют заданному
<VAR>регулярному-выражению</VAR>.
</DL>

<P>
  Команды <KBD>#</KBD>, <KBD>~</KBD>, <KBD>&#38;</KBD> и <KBD>.</KBD> устанавливают флаг для
нескольких файлов, основываясь на их именах.  Эти команды полезны именно
потому, что сами по себе они не удаляют файлы; вы можете убрать флаги
удаления с любых помеченных файлов, которые вы в действительности хотите
сохранить.


<P>
<A NAME="IDX1964"></A>
<A NAME="IDX1965"></A>
<A NAME="IDX1966"></A>
  <KBD>&#38;</KBD> (<CODE>dired-flag-garbage-files</CODE>) устанавливает флаг удаления
для файлов, чьи имена соответствуют регулярному выражению, заданному
переменной <CODE>dired-garbage-files-regexp</CODE>.  По умолчанию ей
соответствуют определенные файлы, производимые TeX, и файлы
<SAMP>`.orig'</SAMP> и <SAMP>`.rej'</SAMP>, производимые программой @command{patch}.


<P>
<A NAME="IDX1967"></A>
<A NAME="IDX1968"></A>
<A NAME="IDX1969"></A>
<A NAME="IDX1970"></A>
  <KBD>#</KBD> (<CODE>dired-flag-auto-save-files</CODE>) устанавливает флаг
удаления для всех файлов, чьи имена выглядят как имена самосохраненных
файлов (see section <A HREF="emacs_19.html#SEC118">Самосохранение: защита от гибели</A>) -- это файлы с именами, начинающимися и
заканчивающимися на <SAMP>`#'</SAMP>.  <KBD>~</KBD> (<CODE>dired-flag-backup-files</CODE>)
устанавливает флаг удаления для всех файлов, чьи имена говорят, что это
резервные копии (see section <A HREF="emacs_19.html#SEC112">Резервные файлы</A>) -- это файлы с
именами, заканчивающимися на <SAMP>`~'</SAMP>.


<P>
<A NAME="IDX1971"></A>
<A NAME="IDX1972"></A>
<A NAME="IDX1973"></A>
  <KBD>.</KBD> (точка, <CODE>dired-clean-directory</CODE>) устанавливает флаг
удаления лишь для некоторых резервных копий: для всех, кроме самых
старых и самых новых резервных копий одного файла.  Обычно
<CODE>dired-kept-versions</CODE> (<STRONG>не</STRONG> <CODE>kept-new-versions</CODE>; эта
переменная применяется при сохранении) задает число самых новых
сохраняемых версий каждого файла, а <CODE>kept-old-versions</CODE> задает
число самых старых сохраняемых версий.


<P>
  Точка с положительным числовым аргументом, как в <KBD>C-u 3 .</KBD>,
указывает число оставляемых новых версий, перекрывая значение
<CODE>dired-kept-versions</CODE>.  Отрицательный числовой аргумент перекрывает
<CODE>kept-old-versions</CODE>, используя число, противоположное заданному,
для указания числа оставляемых старых версий каждого файла.


<P>
<A NAME="IDX1974"></A>
<A NAME="IDX1975"></A>
  Команда <KBD>% d</KBD> устанавливает флаг удаления для всех файлов, чьи
имена соответствуют заданному регулярному выражению
(<CODE>dired-flag-files-regexp</CODE>).  При поиске используется имя файла с
исключенной частью, определяющей каталог.  Для привязки регулярного
выражения к началу или концу имени вы можете использовать <SAMP>`^'</SAMP> и
<SAMP>`$'</SAMP>.  Подкаталоги вы можете исключить, скрыв их (see section <A HREF="emacs_33.html#SEC384">Скрывание подкаталогов</A>).




<H2><A NAME="SEC376" HREF="emacs_toc.html#TOC376">Обращение к файлам в Dired</A></H2>

<P>
  Есть несколько команд Dired для обращения к файлам, перечисленным в
буфере Dired, или просмотра их содержимого.  Все они применяются к файлу
на текущей строке; если этот файл на самом деле является каталогом, эти
команды вызывают в нем Dired (создавая отдельный буфер Dired).


<DL COMPACT>

<DT><KBD>f</KBD>
<DD>
<A NAME="IDX1976"></A>
<A NAME="IDX1977"></A>
Обращается к файлу, описанному на текущей строке; подобна вводу <KBD>C-x
C-f</KBD> и заданию имени этого файла (<CODE>dired-find-file</CODE>).
See section <A HREF="emacs_19.html#SEC110">Обращение к файлам</A>.

<DT><KBD><KBD>RET</KBD></KBD>
<DD>
<A NAME="IDX1978"></A>
Эквивалент <KBD>f</KBD>.

<DT><KBD>o</KBD>
<DD>
<A NAME="IDX1979"></A>
<A NAME="IDX1980"></A>
Как <KBD>f</KBD>, но использует для отображения буфера этого файла отдельное
окно (<CODE>dired-find-file-other-window</CODE>).  Буфер Dired остается
видимым в первом окне.  Это подобно использованию <KBD>C-x 4 C-f</KBD> для
обращения к этому файлу.  See section <A HREF="emacs_21.html#SEC169">Множество окон</A>.

<DT><KBD>C-o</KBD>
<DD>
<A NAME="IDX1981"></A>
<A NAME="IDX1982"></A>
Обращается к файлу, описанному на текущей строке, и отображает его
буфер в отдельном окне, но не выбирает это окно
(<CODE>dired-display-file</CODE>).

<DT><KBD>Mouse-2</KBD>
<DD>
<A NAME="IDX1983"></A>
Обращается к файлу в строке, на которой вы щелкнули
(<CODE>dired-mouse-find-file-other-window</CODE>).  Эта команда использует для
показа файла другое окно, как команда <KBD>o</KBD>.

<DT><KBD>v</KBD>
<DD>
<A NAME="IDX1984"></A>
<A NAME="IDX1985"></A>
Обращается к файлу, описанному на текущей строке, в режиме просмотра,
как <KBD>M-x view-file</KBD> (<CODE>dired-view-file</CODE>).

Просмотр файла похож на обращение к нему, но этот режим делает акцент на
предоставление большего удобства для перемещения по файлу и не позволяет
изменять его.  See section <A HREF="emacs_19.html#SEC158">Разнообразные действия над файлами</A>.
</DL>



<H2><A NAME="SEC377" HREF="emacs_toc.html#TOC377">Пометки Dired vs. флаги</A></H2>

<P>
<A NAME="IDX1986"></A>
  Вместо установки для файла флага с помощью <SAMP>`D'</SAMP> вы можете
установить на этом файле <EM>метку</EM> с помощью какого-либо другого
знака (обычно <SAMP>`*'</SAMP>).  Большинство команд Dired для работы с
файлами, кроме "вычеркивания" (<KBD>x</KBD>), действуют на файлы,
помеченные звездочкой <SAMP>`*'</SAMP>.


<P>
  Вот некоторые команды для пометки с помощью <SAMP>`*'</SAMP>, для снятия метки
или для произведения каких-либо действий над метками.  (See section <A HREF="emacs_33.html#SEC374">Удаление файлов с помощью  Dired</A>, для получения информации о командах для установки и снятия
флагов на файлах.)


<DL COMPACT>

<DT><KBD>m</KBD>
<DD>
<DT><KBD>* m</KBD>
<DD>
<A NAME="IDX1987"></A>
<A NAME="IDX1988"></A>
<A NAME="IDX1989"></A>
Помечает текущий файл звездочкой <SAMP>`*'</SAMP> (<CODE>dired-mark</CODE>).  С
числовым аргументом <VAR>n</VAR>, помечает следующие <VAR>n</VAR> файлов начиная
от текущего.  (Если <VAR>n</VAR> отрицателен, помечает -<VAR>n</VAR>
предыдущих файлов.)

<DT><KBD>* *</KBD>
<DD>
<A NAME="IDX1990"></A>
<A NAME="IDX1991"></A>
Помечает все исполняемые файлы звездочкой <SAMP>`*'</SAMP>
(<CODE>dired-mark-executables</CODE>).  С числовым аргументом, убирает метки
со всех таких файлов.

<DT><KBD>* @</KBD>
<DD>
<A NAME="IDX1992"></A>
<A NAME="IDX1993"></A>
Помечает все символьные ссылки звездочкой (<CODE>dired-mark-symlinks</CODE>).
С числовым аргументом, убирает метки со всех таких файлов.

<DT><KBD>* /</KBD>
<DD>
<A NAME="IDX1994"></A>
<A NAME="IDX1995"></A>
Помечает звездочкой все файлы, которые являются в действительности
каталогами, исключая <TT>`.'</TT> и <TT>`..'</TT>
(<CODE>dired-mark-directories</CODE>).  С числовым аргументом, убирает метки
со всех этих файлов.

<DT><KBD>* s</KBD>
<DD>
<A NAME="IDX1996"></A>
<A NAME="IDX1997"></A>
Помечает все файлы в текущем подкаталоге, кроме <TT>`.'</TT>  и <TT>`..'</TT>
(<CODE>dired-mark-subdir-files</CODE>).

<DT><KBD>u</KBD>
<DD>
<DT><KBD>* u</KBD>
<DD>
<A NAME="IDX1998"></A>
<A NAME="IDX1999"></A>
<A NAME="IDX2000"></A>
Убирает любую метку на этой строке (<CODE>dired-unmark</CODE>).

<DT><KBD><KBD>DEL</KBD></KBD>
<DD>
<DT><KBD>* <KBD>DEL</KBD></KBD>
<DD>
<A NAME="IDX2001"></A>
<A NAME="IDX2002"></A>
Перемещает точку на предыдущую строку и убирает любую метку на этой
строке (<CODE>dired-unmark-backward</CODE>).

<DT><KBD>* !</KBD>
<DD>
<A NAME="IDX2003"></A>
<A NAME="IDX2004"></A>
Убирает все метки со всех файлов в этом буфере Dired
(<CODE>dired-unmark-all-files-no-query</CODE>).

<DT><KBD>* ? <VAR>знак-метки</VAR></KBD>
<DD>
<A NAME="IDX2005"></A>
<A NAME="IDX2006"></A>
Убирает все метки, использующие знак <VAR>знак-метки</VAR>
(<CODE>dired-unmark-all-files</CODE>).  Аргументом должен быть один знак ---
не используете для его завершения <KBD>RET</KBD>.

С числовым аргументом, эта команда запрашивает подтверждение на снятие
метки для каждого помеченного файла.  Вы можете ответить <KBD>y</KBD> для
подтверждения, <KBD>n</KBD> для отказа или <KBD>!</KBD> для снятия меток со всех
остальных файлов без запроса о них.

<DT><KBD>* C-n</KBD>
<DD>
<A NAME="IDX2007"></A>
<A NAME="IDX2008"></A>
Перемещает вниз к следующему помеченному файлу
(<CODE>dired-next-marked-file</CODE>).  Файл считается "помеченным", если на
нем есть метки любого вида.

<DT><KBD>* C-p</KBD>
<DD>
<A NAME="IDX2009"></A>
<A NAME="IDX2010"></A>
Перемещает вверх к предыдущему помеченному файлу
(<CODE>dired-prev-marked-file</CODE>)

<DT><KBD>* t</KBD>
<DD>
<A NAME="IDX2011"></A>
<A NAME="IDX2012"></A>
Переключает все метки (<CODE>dired-do-toggle</CODE>): файлы, помеченные
<SAMP>`*'</SAMP> становятся непомеченными, а непомеченные файлы метятся знаком
<SAMP>`*'</SAMP>.  Файлы, помеченные другим способом, не затрагиваются.

<DT><KBD>* c <VAR>старый</VAR> <VAR>новый</VAR></KBD>
<DD>
<A NAME="IDX2013"></A>
<A NAME="IDX2014"></A>
Заменяет все метки, использующие знак <VAR>старый</VAR> на метки со знаком
<VAR>новый</VAR> (<CODE>dired-change-marks</CODE>).  Эта команда дает основной
метод создания или использования меток, отличных от <SAMP>`*'</SAMP> или
<SAMP>`D'</SAMP>.  Аргументами должны быть одиночные знаки -- не используйте
<KBD>RET</KBD> для их завершения.

С помощью этой команды вы можете использовать почти любой знак в
качестве знака метки для разделения различных классов файлов.  Если
<VAR>старый</VAR> знак -- это пробел (<SAMP>` '</SAMP>), то эта команда действует на
все непомеченные файлы; если <VAR>новый</VAR> знак является пробелом, эта
команда убирает метку с файлов, на которые она действует.

Чтобы продемонстрировать мощь этой команды, мы покажем способ установить
метку <SAMP>`D'</SAMP> на все файлы, которые не были помечены, в то же время
снимая метку со всех файлов, имевших метку <SAMP>`D'</SAMP>:


<PRE>
* c D t  * c SPC D  * c t SPC
</PRE>

Здесь предполагается, что ни один из файлов не помечен флагом <SAMP>`t'</SAMP>.

<DT><KBD>% m <VAR>regexp</VAR> <KBD>RET</KBD></KBD>
<DD>
<DT><KBD>* % <VAR>regexp</VAR> <KBD>RET</KBD></KBD>
<DD>
<A NAME="IDX2015"></A>
<A NAME="IDX2016"></A>
<A NAME="IDX2017"></A>
Помечает (знаком <SAMP>`*'</SAMP>) все файлы, чьи имена соответствуют
регулярному выражению <VAR>regexp</VAR> (<CODE>dired-mark-files-regexp</CODE>).
Эта команда похожа на <KBD>% d</KBD>, но она помечает файлы звездочкой
<SAMP>`*'</SAMP>, а не устанавливает флаг <SAMP>`D'</SAMP>.  See section <A HREF="emacs_33.html#SEC375">Установка флага на несколько файлов одновременно</A>.

Для поиска совпадений используется только та часть имени файла, которая
не задает каталог.  Для привязки регулярного выражения к началу или
концу имени вы можете использовать <SAMP>`^'</SAMP> и <SAMP>`$'</SAMP>.  Подкаталоги вы
можете исключить, скрыв их (see section <A HREF="emacs_33.html#SEC384">Скрывание подкаталогов</A>).

<DT><KBD>% g <VAR>regexp</VAR> <KBD>RET</KBD></KBD>
<DD>
<A NAME="IDX2018"></A>
<A NAME="IDX2019"></A>
Помечает (знаком <SAMP>`*'</SAMP>) все файлы, чье <EM>содержимое</EM> включает
совпадения с регулярным выражением <VAR>regexp</VAR>
(<CODE>dired-mark-files-containing-regexp</CODE>).  Эта команда похожа на
<KBD>% m</KBD>, но она просматривает содержимое файлов, а не их имена.

<DT><KBD>C-_</KBD>
<DD>
<A NAME="IDX2020"></A>
<A NAME="IDX2021"></A>
Отменяет изменения в буфере Dired, такие как добавление или снятие меток
(<CODE>dired-undo</CODE>).
</DL>



<H2><A NAME="SEC378" HREF="emacs_toc.html#TOC378">Действия над файлами</A></H2>
<P>
<A NAME="IDX2022"></A>


<P>
  Этот раздел описывает основные команды Dired для произведения
различных действий над несколькими файлами.  Все эти команды являются
заглавными буквами; все они используют минибуфер, либо для считывания
аргументов, либо для запрашивания подтверждения перед совершением
действий.  Все они дают вам некоторые способы указания, какие файлы
должны быть обработаны:



<UL>
<LI>

Если вы даете команде числовой аргумент <VAR>n</VAR>, она действует на
<VAR>n</VAR> следующих файлов, начиная с текущего.  (Если <VAR>n</VAR>
отрицательно, то эта команда действует на -<VAR>n</VAR> файлов,
предшествующих текущей строке.)

<LI>

Иначе, если какие-то файлы помечены с помощью <SAMP>`*'</SAMP>, команда
действует на все эти файлы.

<LI>

Иначе эта команда действует только на текущий файл.
</UL>

<P>
  Вот команды для манипуляций над файлами, действующие таким способом.
(Некоторые другие команды Dired, такие как <KBD>!</KBD> и <SAMP>`%'</SAMP>, также
придерживаются этих соглашений для принятия решения о выборе файлов для
работы.)


<DL COMPACT>

<DT><KBD>C <VAR>новый</VAR> <KBD>RET</KBD></KBD>
<DD>
<A NAME="IDX2023"></A>
 <A NAME="IDX2024"></A>
 
Копирует указанные файлы (<CODE>dired-do-copy</CODE>).  Аргумент <VAR>новый</VAR>
--- это каталог, в который нужно копировать, или (при копировании
единственного файла) новое имя.

<A NAME="IDX2025"></A>
Если <CODE>dired-copy-preserve-time</CODE> не равна <CODE>nil</CODE>, то при
копировании с помощью этой команды время изменения нового файла
устанавливается таким же, как у старого файла.

<DT><KBD>D</KBD>
<DD>
<A NAME="IDX2026"></A>
<A NAME="IDX2027"></A>
Удаляет указанные файлы (<CODE>dired-do-delete</CODE>).  Подобно остальным
командам в этом разделе, эта команда действует на <EM>помеченные</EM>
файлы или на <VAR>n</VAR> следующих файлов.  Напротив, <KBD>x</KBD>
(<CODE>dired-expunge</CODE>) удаляет все файлы с <EM>установленным флагом</EM>.

<A NAME="IDX2028"></A>
<A NAME="IDX2029"></A>
<DT><KBD>R <VAR>новый</VAR> <KBD>RET</KBD></KBD>
<DD>
Переименовывает указанные файлы (<CODE>dired-do-rename</CODE>).  Аргумент
<VAR>новый</VAR> -- это каталог, в который нужно переименовывать, или (при
переименовании единственного файла) новое имя.

Dired автоматически изменяет имена файлов, к которым вы обращаетесь, для
связанных с этими переименованным файлами буферов так, чтобы они
отражали новые имена.

<A NAME="IDX2030"></A>
<A NAME="IDX2031"></A>
<DT><KBD>H <VAR>новый</VAR> <KBD>RET</KBD></KBD>
<DD>
Создает жесткие ссылки на указанные файлы (<CODE>dired-do-hardlink</CODE>).
Аргумент <VAR>новый</VAR> -- это каталог, в котором нужно создавать ссылки,
или (при создании ссылки на единственный файл) имя этой ссылки.

<A NAME="IDX2032"></A>
<A NAME="IDX2033"></A>
<DT><KBD>S <VAR>новый</VAR> <KBD>RET</KBD></KBD>
<DD>
Создает символьные ссылки на указанные файлы (<CODE>dired-do-symlink</CODE>).
Аргумент <VAR>новый</VAR> -- это каталог, в котором нужно создавать ссылки,
или (при создании ссылки на единственный файл) имя этой ссылки.

<A NAME="IDX2034"></A>
<A NAME="IDX2035"></A>
<DT><KBD>M <VAR>режим</VAR> <KBD>RET</KBD></KBD>
<DD>
Изменяет режим (также называемый "битами прав доступа") указанных
файлов (<CODE>dired-do-chmod</CODE>).  Эта команда использует программу
@command{chmod}, потому <VAR>режим</VAR> может быть любым аргументом, который
@command{chmod} способен обработать.

<A NAME="IDX2036"></A>
<A NAME="IDX2037"></A>
<DT><KBD>G <VAR>новая-группа</VAR> <KBD>RET</KBD></KBD>
<DD>
Заменяет группу владельцев указанных файлов на <VAR>новую-группу</VAR>
(<CODE>dired-do-chgrp</CODE>).

<A NAME="IDX2038"></A>
<A NAME="IDX2039"></A>
<DT><KBD>O <VAR>новый-владелец</VAR> <KBD>RET</KBD></KBD>
<DD>
Заменяет владельца указанных файлов на <VAR>нового-владельца</VAR>
(<CODE>dired-do-chown</CODE>).  (На большинстве систем это может делать только
привилегированный пользователь.)

<A NAME="IDX2040"></A>
Переменная <CODE>dired-chown-program</CODE> задает имя программы, используемой
для этих задач (различные системы помещают @command{chown} в разные
места).

<A NAME="IDX2041"></A>
<A NAME="IDX2042"></A>
<DT><KBD>P <VAR>команда</VAR> <KBD>RET</KBD></KBD>
<DD>
Печатает указанные файлы (<CODE>dired-do-print</CODE>).  Вы должны указать
команду печати, но в минибуфере сразу появляется подходящая
предполагаемая строка, полученная с помощью переменных
<CODE>lpr-command</CODE> и <CODE>lpr-switches</CODE> (эти же переменные использует
<CODE>lpr-buffer</CODE> ; see section <A HREF="emacs_35.html#SEC428">Вывод твердой копии</A>).

<A NAME="IDX2043"></A>
<A NAME="IDX2044"></A>
<DT><KBD>Z</KBD>
<DD>
Сжимает указанные файлы (<CODE>dired-do-compress</CODE>).  Если оказывается,
что какой-то файл уже сжат, эта команда наоборот раскрывает его.

<A NAME="IDX2045"></A>
<A NAME="IDX2046"></A>
<DT><KBD>L</KBD>
<DD>
Загружает указанные файлы Emacs Lisp (<CODE>dired-do-load</CODE>).
See section <A HREF="emacs_28.html#SEC322">Библиотеки Лисп-программ для Emacs</A>.

<A NAME="IDX2047"></A>
<A NAME="IDX2048"></A>
<DT><KBD>B</KBD>
<DD>
Байт-компилирует указанные файлы на Emacs Lisp
(<CODE>dired-do-byte-compile</CODE>).  @xref{Byte Compilation,, Byte Compilation, @external{elisp}, The Emacs Lisp Reference Manual}.

<A NAME="IDX2049"></A>
<A NAME="IDX2050"></A>
<DT><KBD>A <VAR>regexp</VAR> <KBD>RET</KBD></KBD>
<DD>
Производит поиск регулярного выражения <VAR>regexp</VAR> во всех указанных
файлах (<CODE>dired-do-search</CODE>).

Эта команда -- вариант команды <CODE>tags-search</CODE>.  Поиск
останавливается при первом найденном совпадении; чтобы продолжить поиск
и найти следующее совпадение, нажмите <KBD>M-,</KBD>.  See section <A HREF="emacs_27.html#SEC281">Поиск и замена при помощи таблиц тегов</A>.

<A NAME="IDX2051"></A>
<A NAME="IDX2052"></A>
<DT><KBD>Q <VAR>старое</VAR> <KBD>RET</KBD> <VAR>новое</VAR> <KBD>RET</KBD></KBD>
<DD>
Производит <CODE>query-replace-regexp</CODE> в каждом из указанных файлов,
заменяя совпадения <VAR>старого</VAR> (регулярного выражения) на строку
<VAR>новое</VAR> (<CODE>dired-do-query-replace</CODE>).

Эта команда -- вариант <CODE>tags-query-replace</CODE>.  Если вы выйдите из
цикла замены с подтверждением, вы можете использовать <KBD>M-,</KBD> для
продолжения поиска и замены дальнейших совпадений.  See section <A HREF="emacs_27.html#SEC281">Поиск и замена при помощи таблиц тегов</A>.
</DL>

<P>
<A NAME="IDX2053"></A>
<A NAME="IDX2054"></A>
  Одна особая команда для работы с файлами -- это <KBD>+</KBD>
(<CODE>dired-create-directory</CODE>).  Она считывает имя каталога и создает
его, если каталог с таким именем еще не существует.




<H2><A NAME="SEC379" HREF="emacs_toc.html#TOC379">Команды оболочки в Dired</A></H2>
<P>
<A NAME="IDX2055"></A>


<P>
<A NAME="IDX2056"></A>
<A NAME="IDX2057"></A>
Команда Dired <KBD>!</KBD> (<CODE>dired-do-shell-command</CODE>) считывает в
минибуфере командную строку оболочки и запускает эту команду оболочки
для всех указанных файлов.  Вы можете задать обрабатываемые файлы
обычными методами, как для команд Dired (see section <A HREF="emacs_33.html#SEC378">Действия над файлами</A>).
Есть два способа применить команду оболочки к нескольким файлам:



<UL>
<LI>

Если вы используете в команде оболочки <SAMP>`*'</SAMP>, то эта команда
запускается один раз, а <SAMP>`*'</SAMP> заменяется списком имен файлов.  Имена
файлов передаются в том же порядке, в каком они появляются в буфере
Dired.

Таким образом, <KBD>! tar cf foo.tar * <KBD>RET</KBD></KBD> запускает
@command{tar} для всего списка имен файлов, помещая их все в один
tar-файл <TT>`foo.tar'</TT>.

<LI>

Если командная строка не содержит <SAMP>`*'</SAMP>, она запускается один раз
<EM>для каждого файла</EM> с добавленным в конце именем этого файла.

Например, <KBD>! uudecode <KBD>RET</KBD></KBD> запускает для каждого файла команду
@command{uudecode}.
</UL>

<P>
Что если вы хотите выполнить команду оболочки один раз для каждого
файла, но с именем файла, вставленным в середине?  Или если вы хотите
использовать имена файлов более сложным образом?  Используйте циклы
оболочки.  Например, такая команда оболочки запустила бы
@command{uuencode} для каждого заданного файла, записывая вывод в
соответствующий <TT>`.uu'</TT>-файл:



<PRE>
for file in *; do uuencode $file $file &#62;$file.uu; done
</PRE>

<P>
Рабочим каталогом команды оболочки служит каталог верхнего уровня буфера
Dired.


<P>
Команда <KBD>!</KBD> не пытается обновить буфер Dired, чтобы показать новые
или измененные файлы, потому что на самом деле она не понимает команд
оболочки и не знает, какие имена изменились.  Для обновления буфера
Dired используйте команду <KBD>g</KBD> (see section <A HREF="emacs_33.html#SEC385">Обновление буфера Dired</A>).




<H2><A NAME="SEC380" HREF="emacs_toc.html#TOC380">Преобразование имен файлов в Dired</A></H2>

<P>
  Вот команды, которые изменяют имена файлов систематическим образом:


<DL COMPACT>

<DT><KBD>% u</KBD>
<DD>
<A NAME="IDX2058"></A>
 <A NAME="IDX2059"></A>
 
Изменяет имя каждого из выбранных файлов на имя, написанное заглавными
буквами (<CODE>dired-upcase</CODE>).  Если старыми именами файлов были
<TT>`Foo'</TT> и <TT>`bar'</TT>, то новыми будут <TT>`FOO'</TT> и <TT>`BAR'</TT>.

<DT><KBD>% l</KBD>
<DD>
<A NAME="IDX2060"></A>
<A NAME="IDX2061"></A>
Изменяет имя каждого из выбранных файлов на имя, написанное строчными
буквами (<CODE>dired-downcase</CODE>).  Если старыми именами файлов были
<TT>`Foo'</TT> и <TT>`bar'</TT>, то новыми будут <TT>`foo'</TT> и <TT>`bar'</TT>.

<DT><KBD>% R <VAR>старое</VAR> <KBD>RET</KBD> <VAR>новое</VAR> <KBD>RET</KBD></KBD>
<DD>
<A NAME="IDX2062"></A>
<A NAME="IDX2063"></A>
<DT><KBD>% C <VAR>старое</VAR> <KBD>RET</KBD> <VAR>новое</VAR> <KBD>RET</KBD></KBD>
<DD>
<A NAME="IDX2064"></A>
<A NAME="IDX2065"></A>
<DT><KBD>% H <VAR>старое</VAR> <KBD>RET</KBD> <VAR>новое</VAR> <KBD>RET</KBD></KBD>
<DD>
<A NAME="IDX2066"></A>
<A NAME="IDX2067"></A>
<DT><KBD>% S <VAR>старое</VAR> <KBD>RET</KBD> <VAR>новое</VAR> <KBD>RET</KBD></KBD>
<DD>
<A NAME="IDX2068"></A>
<A NAME="IDX2069"></A>
Эти четыре команды переименовывают, копируют, создают жесткие и
символьные ссылки, вычисляя в каждом случае новое имя путем подстановки
в регулярном выражении, задающем имя старого файла.
</DL>

<P>
  Эти четыре команды подстановки в регулярном выражении в
действительности производят поиск и замену в именах выбранных файлов в
буфере Dired.  Они принимают два аргумента: регулярное выражение
<VAR>старое</VAR> и образец подстановки <VAR>новое</VAR>.


<P>
  Эти команды сравнивают каждое "старое" имя файла с регулярным
выражением <VAR>старое</VAR> и затем заменяют совпавшую часть на <VAR>новое</VAR>.
Вы можете использовать в строке <VAR>новое</VAR> обозначения <SAMP>`\&#38;'</SAMP> и
<SAMP>`\<VAR>цифра</VAR>'</SAMP>, чтобы сослаться на весь или на часть совпавшего
образца в старом имени файла, как в <CODE>replace-regexp</CODE> (see section <A HREF="emacs_17.html#SEC99">Замена регулярных выражений</A>).  Если в имени файла есть более одного
совпадения с регулярным выражением, заменяется только первое.


<P>
  Например, <KBD>% R ^.*$ <KBD>RET</KBD> x-\&#38; <KBD>RET</KBD></KBD> переименовывает
каждый выбранный файл, добавляя <SAMP>`x-'</SAMP> в начало имени.  Обратная
процедура, удаление <SAMP>`x-'</SAMP> из начала каждого имени файла, также
возможна: один способ -- набрать <KBD>% R ^x-\(.*\)$ <KBD>RET</KBD> \1
<KBD>RET</KBD></KBD>; другой -- это <KBD>% R ^x- <KBD>RET</KBD> <KBD>RET</KBD></KBD>.
(Используйте <SAMP>`^'</SAMP> и <SAMP>`$'</SAMP> для привязки регулярных выражений к
началу или концу имени.)


<P>
  Обычно при замене не затрагиваются имена каталогов, которым
принадлежат файлы; обрабатываются только файлы в этом каталоге.  Если вы
зададите числовой аргумент, равный нулю, при замене будут обрабатываться
полные абсолютные имена файлов, включая имена каталогов.


<P>
  Часто вы можете захотеть выбрать набор обрабатываемых файлов с помощью
того же регулярного выражения <VAR>regexp</VAR>, что будет использоваться для
их обработки.  Чтобы сделать так, пометьте эти файлы командой <KBD>% m
<VAR>regexp</VAR> <KBD>RET</KBD></KBD>, а затем примените это же регулярное выражение в
команде обработки.  Для облегчения этого, команды обработки файлов,
начинающиеся на <KBD>%</KBD>, используют по умолчанию последнее регулярное
выражение, заданное любой команде <KBD>%</KBD>.




<H2><A NAME="SEC381" HREF="emacs_toc.html#TOC381">Сравнение файлов в Dired</A></H2>

<P>
  В Dired есть две команды, которые сравнивают заданные файлы с помощью
программы @command{diff}.


<DL COMPACT>

<DT><KBD>=</KBD>
<DD>
<A NAME="IDX2070"></A>
<A NAME="IDX2071"></A>
Сравнивает текущий файл (файл в позиции точки) с другим файлом (файлом в
позиции метки), используя программу @command{diff} (<CODE>dired-diff</CODE>).
Файл в позиции метки -- это первый аргумент @command{diff}, а файл в
позиции точки -- второй.

<A NAME="IDX2072"></A>
<A NAME="IDX2073"></A>
<DT><KBD>M-=</KBD>
<DD>
Сравнивает текущий файл с его последней резервной копией
(<CODE>dired-backup-diff</CODE>).  Если текущий файл сам является резервной
копией, сравнивает его с оригиналом; таким образом вы можете сравнить
файл с любой его резервной версией по вашему выбору.

Первым аргументом @command{diff} передается резервная копия.
</DL>



<H2><A NAME="SEC382" HREF="emacs_toc.html#TOC382">Подкаталоги в Dired</A></H2>
<P>
<A NAME="IDX2074"></A>
<A NAME="IDX2075"></A>


<P>
  В обычном случае буфер Dired показывает только один каталог; но вы
также можете включить в список и его подкаталоги.


<P>
  Простейший способ включить несколько подкаталогов в один буфер Dired
--- задать для запуска @command{ls} ключи <SAMP>`-lR'</SAMP>.  (Если при вызове
Dired вы зададите числовой аргумент, вы сможете написать эти ключи в
минибуфере.)  Это произведет рекурсивный список каталога, показывающий
все подкаталоги всех уровней.


<P>
  Но обычно всех подкаталогов бывает слишком много; чаще вы предпочли бы
включить только конкретные подкаталоги.  Вы можете сделать это с помощью
команды <KBD>i</KBD>:


<DL COMPACT>

<DT><KBD>i</KBD>
<DD>
<A NAME="IDX2076"></A>
 <A NAME="IDX2077"></A>
 
<A NAME="IDX2078"></A>
<A NAME="IDX2079"></A>
Вставляет содержимое подкаталога ниже в этом буфере.
</DL>

<P>
  Применяйте команду <KBD>i</KBD> (<CODE>dired-maybe-insert-subdir</CODE>) на
строке, описывающей файл, который является каталогом.  Она вставляет
содержимое этого каталога в этот же буфер Dired и перемещает к нему.
Вставленное содержимое подкаталога следует после каталога верхнего
уровня данного буфера Dired, как в выводе <SAMP>`ls -lR'</SAMP>.


<P>
  Если содержимое подкаталога уже находится в этом буфере, команда
<KBD>i</KBD> просто перемещает к нему.


<P>
  В обоих случаях <KBD>i</KBD> до перемещения устанавливает метку Emacs, так
что <KBD>C-u C-<KBD>SPC</KBD></KBD> возвращает вас к предыдущей позиции в буфере
(к строке, описывающей подкаталог).


<P>
  Используйте команду <KBD>l</KBD> (<CODE>dired-do-redisplay</CODE>) для обновления
содержимого подкаталога.  Для удаления подкаталога вы можете применить
команду <KBD>k</KBD>.  See section <A HREF="emacs_33.html#SEC385">Обновление буфера Dired</A>.




<H2><A NAME="SEC383" HREF="emacs_toc.html#TOC383">Перемещение по подкаталогам</A></H2>

<P>
  Когда буфер Dired перечисляет подкаталоги, вы можете использовать
команды перемещения по страницам <KBD>C-x [</KBD> и <KBD>C-x ]</KBD> для перехода
через целые каталоги.


<P>
<A NAME="IDX2080"></A>
<A NAME="IDX2081"></A>
  Следующие команды передвигают в пределах одного уровня, вверх или вниз
по дереву каталогов в одном буфере Dired.  Они перемещают к <EM>строкам
заголовков каталогов</EM>; это строки, сообщающие имя каталога, они
выводятся перед его содержимым.


<DL COMPACT>

<DT><KBD>C-M-n</KBD>
<DD>
<A NAME="IDX2082"></A>
 <A NAME="IDX2083"></A>
 
Переходит к строке заголовка следующего подкаталога, независимо от его
уровня (<CODE>dired-next-subdir</CODE>).

<A NAME="IDX2084"></A>
<A NAME="IDX2085"></A>
<DT><KBD>C-M-p</KBD>
<DD>
Переходит к строке заголовка предыдущего подкаталога, независимо от его
уровня (<CODE>dired-prev-subdir</CODE>).

<A NAME="IDX2086"></A>
<A NAME="IDX2087"></A>
<DT><KBD>C-M-u</KBD>
<DD>
Переходит к строке заголовка родительского подкаталога
(<CODE>dired-tree-up</CODE>).

<A NAME="IDX2088"></A>
<A NAME="IDX2089"></A>
<DT><KBD>C-M-d</KBD>
<DD>
Переходит вниз по дереву каталогов, к строке заголовка первого
подкаталога (<CODE>dired-tree-down</CODE>).

<A NAME="IDX2090"></A>
<A NAME="IDX2091"></A>
<DT><KBD>&#60;</KBD>
<DD>
Перемещает вверх к предыдущей строке файла-каталога
(<CODE>dired-prev-dirline</CODE>).  Это строки, описывающие каталог как файл в
его родительском каталоге.

<A NAME="IDX2092"></A>
<A NAME="IDX2093"></A>
<DT><KBD>&#62;</KBD>
<DD>
Перемещает к следующей строке файла-каталога
(<CODE>dired-prev-dirline</CODE>).
</DL>



<H2><A NAME="SEC384" HREF="emacs_toc.html#TOC384">Скрывание подкаталогов</A></H2>

<P>
<A NAME="IDX2094"></A>
  <EM>Скрыть</EM> подкаталог -- значит сделать невидимым его содержимое,
за исключением строки заголовка, средствами выборочного показа
(see section <A HREF="emacs_16.html#SEC85">Выборочный показ</A>).


<DL COMPACT>

<DT><KBD>$</KBD>
<DD>
<A NAME="IDX2095"></A>
<A NAME="IDX2096"></A>
Скрывает или открывает подкаталог, на котором находится точка, и
перемещает точку к следующему подкаталогу (<CODE>dired-hide-subdir</CODE>).
Числовой аргумент служит в качестве счетчика повторов.

<DT><KBD>M-$</KBD>
<DD>
<A NAME="IDX2097"></A>
<A NAME="IDX2098"></A>
Скрывает все подкаталоги в этом буфере Dired, оставляя только их строки
заголовков (<CODE>dired-hide-all</CODE>).  Или, если какой-нибудь подкаталог
уже скрыт, делает все подкаталоги снова видимыми.  Вы можете
использовать эту команду, чтобы получить обзор очень глубоких деревьев
каталогов или чтобы быстро переместиться к далеким подкаталогам.
</DL>

<P>
  Обычные команды Dired никогда не затрагивают файлы в скрытых
подкаталогах.  Например, команды, работающие с помеченными файлами,
игнорируют файлы в скрытых каталогах, даже если они помечены.
Следовательно, вы можете использовать скрывание, чтобы временно
исключить подкаталоги из области действия различных операций, не убирая
при этом метки.


<P>
  Команды скрывания подкаталогов переключают; это значит, что они
скрывают то, что было видимо, и показывают то, что было скрыто.




<H2><A NAME="SEC385" HREF="emacs_toc.html#TOC385">Обновление буфера Dired</A></H2>

<P>
  Этот раздел описывает команды для обновления буфера Dired, чтобы он
отражал внешние (сделанные не в Dired) изменения в буферах и файлах, и
для удаления части буфера Dired.


<DL COMPACT>

<DT><KBD>g</KBD>
<DD>
Обновляет все содержимое буфера Dired (<CODE>revert-buffer</CODE>).

<DT><KBD>l</KBD>
<DD>
Обновляет указанные файлы (<CODE>dired-do-redisplay</CODE>).

<DT><KBD>k</KBD>
<DD>
Удаляет заданные <EM>строки файлов</EM> -- не сами файлы, а только строки
в буфере (<CODE>dired-do-kill-lines</CODE>).

<DT><KBD>s</KBD>
<DD>
Переключает между сортировкой в алфавитном порядке и по дате/времени
(<CODE>dired-sort-toggle-or-edit</CODE>).

<DT><KBD>C-u s <VAR>переключатели</VAR> <KBD>RET</KBD></KBD>
<DD>
Обновляет буфер Dired, используя <VAR>переключатели</VAR> в качестве
<CODE>dired-listing-switches</CODE>.
</DL>

<P>
<A NAME="IDX2099"></A>
<A NAME="IDX2100"></A>
  Наберите <KBD>g</KBD> (<CODE>revert-buffer</CODE>), чтобы содержимое буфера Dired
обновилось, основываясь на сделанных в перечисленных файлах и каталогах
изменениях.  Эта команда сохраняет все метки, кроме меток, стоявших на
удаленных файлах.  Скрытые подкаталоги обновляются, но остаются
скрытыми.


<P>
<A NAME="IDX2101"></A>
<A NAME="IDX2102"></A>
  Чтобы обновить только некоторые файлы, наберите <KBD>l</KBD>
(<CODE>dired-do-redisplay</CODE>).  Эта команда применяется к следующим
<VAR>n</VAR> файлам, или к помеченным файлам, если такие есть, или к текущему
файлу.  Обновление их означает считывание нового статуса из файловой
системы и обновление буфера для правильного отображения состояния этих
файлов.


<P>
  Если вы примените <KBD>l</KBD> на строке заголовка подкаталога, она обновит
содержимое этого подкаталога.


<P>
<A NAME="IDX2103"></A>
<A NAME="IDX2104"></A>
  Чтобы удалить заданные <EM>строки файлов</EM> -- не сами файлы, только
их строки -- напечатайте <KBD>k</KBD> (<CODE>dired-do-kill-lines</CODE>).
Запущенная с числовым аргументом <VAR>n</VAR>, эта команда применяется к
следующим <VAR>n</VAR> файлам; иначе она применяется к помеченным файлам.


<P>
  Если вы уничтожите строку для файла, являющегося каталогом, содержимое
этого каталога также будет удалено из буфера.  Другой способ удалить
подкаталог из буфера Dired -- набрать <KBD>C-u k</KBD> на строке заголовка
этого подкаталога.


<P>
  Команда <KBD>g</KBD> возвращает все строки, уничтоженные таким методом, но
не возвращает подкаталоги -- вы должны использовать <KBD>i</KBD>, чтобы
снова вставить каждый подкаталог.


<P>
<A NAME="IDX2105"></A>
<A NAME="IDX2106"></A>
<A NAME="IDX2107"></A>
<A NAME="IDX2108"></A>
  Файлы в буферах Dired обычно перечисляются в алфавитном порядке по
именам.  Или Dired может отсортировать их по дате и времени.  Команда
Dired <KBD>s</KBD> (<CODE>dired-sort-toggle-or-edit</CODE>) переключает между этими
двумя режимами сортировки.  Строка режима в буфере Dired показывает, по
какому признаку в данный момент отсортированы файлы: по имени или по
дате.


<P>
  <KBD>C-u s <VAR>переключатели</VAR> <KBD>RET</KBD></KBD> позволяет вам задать новое
значение для <CODE>dired-listing-switches</CODE>.




<H2><A NAME="SEC386" HREF="emacs_toc.html#TOC386">Dired и @command{find}</A></H2>
<P>
<A NAME="IDX2109"></A>


<P>
  Вы можете задать набор файлов для показа в буфере Dired более гибким
способом, используя для выбора файлов утилиту @command{find}.


<P>
<A NAME="IDX2110"></A>
  Чтобы найти все файлы, чьи имена соответствуют заданному шаблону,
запустите <KBD>M-x find-name-dired</KBD>.  Эта команда считывает аргументы
<VAR>каталог</VAR> и <VAR>образец</VAR> и выбирает все файлы в <VAR>каталоге</VAR> или
его подкаталогах, чьи имена соответствуют <VAR>образцу</VAR>.


<P>
  Выбранные таким способом файлы отображаются в буфере Dired, в котором
доступны обычные команды Dired.


<P>
<A NAME="IDX2111"></A>
  Если вы хотите проверять содержимое файлов, а не их имена, используйте
<KBD>M-x find-grep-dired</KBD>.  Эта команда считывает в минибуфере два
аргумента, <VAR>каталог</VAR> и <VAR>regexp</VAR>; она выбирает все файлы в
<VAR>каталоге</VAR> или его подкаталогах, которые содержат совпадения с
регулярным выражением <VAR>regexp</VAR>.  Для этого она запускает программы
@command{find} и @command{grep}.  Смотрите также <KBD>M-x grep-find</KBD>,
раздел section <A HREF="emacs_28.html#SEC312">Запуск компиляторов в Emacs</A>.  Помните, что регулярное выражение задается для
@command{grep}, а не для Emacs.


<P>
<A NAME="IDX2112"></A>
  Наиболее общая команда в этой серии -- команда <KBD>M-x find-dired</KBD>,
которая позволяет вам указать любое условие, которое может проверить
@command{find}.  Эта команда принимает два аргумента минибуфера,
<VAR>каталог</VAR> и <VAR>аргументы-find</VAR>; она запускает @command{find} в
<VAR>каталоге</VAR>, передавая <VAR>аргументы-find</VAR>, чтобы сообщить, какие
условия должна проверить @command{find}.  Чтобы использовать эту
команду, вы должны уметь пользоваться программой @command{find}.


<P>
<A NAME="IDX2113"></A>
  Формат распечатки, производимой этими командами, управляется
переменной <CODE>find-ls-option</CODE>; ее значение по умолчанию велит
использовать для @command{ls} ключи <SAMP>`-ld'</SAMP>.  Если ваши распечатки
повреждены, вам может понадобиться изменить значение этой переменной.
<P><HR><P>
Go to the <A HREF="emacs_1.html">first</A>, <A HREF="emacs_32.html">previous</A>, <A HREF="emacs_34.html">next</A>, <A HREF="emacs_46.html">last</A> section, <A HREF="emacs_toc.html">table of contents</A>.
</BODY>
</HTML>
