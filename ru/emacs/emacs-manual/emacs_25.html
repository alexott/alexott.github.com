<HTML>
<HEAD>
<!-- Created by texi2html 1.56k from emacs.texi on 29 October 2002 -->

<TITLE>Руководство по GNU Emacs - Отступы</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="emacs_1.html">first</A>, <A HREF="emacs_24.html">previous</A>, <A HREF="emacs_26.html">next</A>, <A HREF="emacs_46.html">last</A> section, <A HREF="emacs_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC213" HREF="emacs_toc.html#TOC213">Отступы</A></H1>
<P>
<A NAME="IDX978"></A>
<A NAME="IDX979"></A>


<P>
  Эта глава описывает команды Emacs, которые создают, убирают или
настраивают отступы.


<DL COMPACT>

<DT><KBD><KBD>TAB</KBD></KBD>
<DD>
Сделать отступ текущей строки, "соответствующий" режиму.
<DT><KBD><KBD>C-j</KBD></KBD>
<DD>
Выполнить <KBD>RET</KBD>, за которым следует <KBD>TAB</KBD>
(<CODE>newline-and-indent</CODE>).
<DT><KBD>M-^</KBD>
<DD>
Слить две строки (<CODE>delete-indentation</CODE>).  Это отменяет действие
<KBD>C-j</KBD>.
<DT><KBD>C-M-o</KBD>
<DD>
Разбить строку в точке; текст на строке после точки становится новой
строкой с отступом до того столбца, с которого он начинается сейчас
(<CODE>split-line</CODE>).
<DT><KBD>M-m</KBD>
<DD>
Передвинуться (вперед или назад) к первому непустому знаку на текущей
строке (<CODE>back-to-indetation</CODE>).
<DT><KBD>C-M-\</KBD>
<DD>
Сделать отступ нескольких строк до одного и того же столбца
(<CODE>indent-region</CODE>).
<DT><KBD>C-x <KBD>TAB</KBD></KBD>
<DD>
Жестко сдвинуть блок строк влево или вправо (<CODE>indent-rigidly</CODE>).
<DT><KBD>M-i</KBD>
<DD>
Сделать отступ от точки к следующему
предопределенному столбцу позиции табуляции (<CODE>tab-to-tab-stop</CODE>).
<DT><KBD>M-x indent-relative</KBD>
<DD>
Сделать отступ от точки к месту под точкой отступа в предыдущей строке.
</DL>

<P>
  Большинство языков программирования имеют некоторое соглашение по
отступам.  Для Лисп-кода отступ строк выполняется согласно их
вложенности в круглые скобки.  Та же самая общая идея используется для
кода на Си, хотя многие детали отличаются.


<P>
<A NAME="IDX980"></A>
  В любом языке для создания отступа в строке используется команда
<KBD>TAB</KBD>.  Каждый основной режим определяет эту команду так, чтобы она
выполняла соответствующий этому языку отступ.  В режиме Lisp <KBD>TAB</KBD>
расставляет строки в соответствии с их глубиной вложенности в круглые
скобки.  Вне зависимости от того, в каком месте строки вы находитесь,
когда набираете <KBD>TAB</KBD>, она выравнивает строку целиком.  В режиме С,
<KBD>TAB</KBD> осуществляет утонченный и сложный стиль отступа, который знает
о многих аспектах синтаксиса Си.


<P>
  В режиме Text, <KBD>TAB</KBD> запускает команду <CODE>tab-to-tab-stop</CODE>,
которая делает отступ к следующему столбцу позиции табуляции.  Вы можете
установить позиции табуляции с помощью <KBD>M-x edit-tab-stops</KBD>.




<H2><A NAME="SEC214" HREF="emacs_toc.html#TOC214">Способы и команды отступа</A></H2>

<P>
<A NAME="IDX981"></A>
<A NAME="IDX982"></A>
  Чтобы передвинуться через отступ на строке, сделайте <KBD>M-m</KBD>
(<CODE>back-to-indentation</CODE>).  Эта команда, данная где угодно на строке,
помещает точку на первый непустой знак в этой строке.


<P>
  Чтобы вставить строку с отступом перед текущей строкой, сделайте
<KBD>C-a C-o <KBD>TAB</KBD></KBD>.  Чтобы сделать строку с отступом после текущей
строки, используйте <KBD>C-e C-j</KBD>.


<P>
  Если вы просто хотите вставить в буфер символ табуляции, то вы можете
набрать <KBD>C-q <KBD>TAB</KBD></KBD>.


<P>
<A NAME="IDX983"></A>
<A NAME="IDX984"></A>
  <KBD>C-M-o</KBD> (<CODE>split-line</CODE>) сдвигает текст от точки до конца
строки вертикально вниз, так что текущая строка становится двумя
строками.  <KBD>C-M-o</KBD> сначала передвигает точку вперед через любое
количество пробелов и табуляций.  Затем она вставляет после точки
ограничитель строки и достаточное количество отступов, чтобы достичь
того же столбца, на котором находится точка.  Точка остается перед
вставляемым переводом строки; с этой точки зрения <KBD>C-M-o</KBD> напоминает
<KBD>C-o</KBD>.


<P>
<A NAME="IDX985"></A>
<A NAME="IDX986"></A>
  Чтобы начисто соединить две строки, используйте команду <KBD>M-^</KBD>
(<CODE>delete-indentation</CODE>).  Она удаляет отступ в начале текущей
строки, а так же ограничитель строки, заменяя их одиночным пробелом.  В
особом случае (полезном для кода на Лиспе) одиночный пробел опускается,
если соединяемыми знаками являются последовательные открывающие или
закрывающие круглые скобки, или если после слияния идет еще одна новая
строка.  Чтобы удалить просто отступ строки, перейдите в начало строки и
используйте <KBD>M-\</KBD> (<CODE>delete-horizontal-space</CODE>), которая удаляет
все пробелы и табуляции около курсора.


<P>
  Если есть префикс заполнения, <KBD>M-^</KBD> убирает его, если он находится
после удаляемого перевода строки.  See section <A HREF="emacs_26.html#SEC225">Префикс заполнения</A>.


<P>
<A NAME="IDX987"></A>
<A NAME="IDX988"></A>
<A NAME="IDX989"></A>
<A NAME="IDX990"></A>
  Имеются также команды для изменения отступов нескольких строк сразу.
<KBD>C-M-\</KBD> (<CODE>indent-region</CODE>) применяется для всех строк, которые
начинаются в данной области; она делает для каждой из этих строк
"обычный" отступ, как если бы вы напечатали <KBD>TAB</KBD> в начале строки.
Числовой аргумент определяет столбец для отступа, и каждая строка
сдвигается влево или вправо так, что ее первый непустой знак
появляется в этом столбце.  <KBD>C-x <KBD>TAB</KBD></KBD> (<CODE>indent-rigidly</CODE>)
cдвигает все строки в области вправо в соответствии со своим аргументом
(влево при отрицательном аргументе).  Вся группа строк жестко сдвигается
в одну сторону, именно поэтому эта команда получила такое имя.


<P>
<A NAME="IDX991"></A>
  <KBD>M-x indent-relative</KBD> выполняет отступ точки, основываясь на
предыдущей строке (фактически, по последней непустой строке).  Она
вставляет пробел в точке, двигая точку до тех пор, пока она не встанет
под точкой отступа в предыдущей строке.  Точка отступа является концом
последовательности пробелов или концом строки.  Если точка находится
дальше вправо, чем любая точка отступа в предыдущей строке, то все
пробельные знаки перед точкой удаляются, и используется первая
применимая теперь точка отступа.  Если даже после этого нет пригодной
точки отступа, <CODE>indent-relative</CODE> запускает <CODE>tab-to-tab-stop</CODE>
(смотрите следующий раздел).


<P>
  <CODE>indent-relative</CODE> -- это определение <KBD>TAB</KBD> в режиме Indented
Text.  See section <A HREF="emacs_26.html#SEC217">Команды для естественных языков</A>.


<P>
  See section <A HREF="emacs_26.html#SEC245">Отступы в форматированном тексте</A>, другой способ
задать отступы для части вашего текста.




<H2><A NAME="SEC215" HREF="emacs_toc.html#TOC215">Позиции табуляции</A></H2>

<P>
<A NAME="IDX992"></A>
<A NAME="IDX993"></A>
<A NAME="IDX994"></A>
<A NAME="IDX995"></A>
  Для набора таблиц вы можете использовать определение <KBD>TAB</KBD> в
режиме Text, <CODE>tab-to-tab-stop</CODE>.  Эта команда вставляет перед точкой
отступ, достаточный для того, чтобы достичь следующего столбца позиции
табуляции.  Если вы находитесь не в режиме Text, эту функцию можно найти
по ключу <KBD>M-i</KBD>.


<P>
<A NAME="IDX996"></A>
<A NAME="IDX997"></A>
<A NAME="IDX998"></A>
<A NAME="IDX999"></A>
  Вы можете произвольно установить используемые в <KBD>M-i</KBD> позиции
табуляции.  Они запоминаются в переменной с именем <CODE>tab-stop-list</CODE>
как список номеров столбцов в возрастающем порядке.


<P>
   Удобный способ установить позиции табуляции -- воспользоваться
командой <KBD>M-x edit-tab-stops</KBD>, которая создает и выбирает буфер,
содержащий описание установленных позиций табуляции.  Вы можете
отредактировать этот буфер для определения других позиций табуляции и
затем набрать <KBD>C-c C-c</KBD>, чтобы сделать эти новые позиции табуляции
действующими.  <CODE>edit-tab-stops</CODE> запоминает, какой буфер был
текущим, когда вы запускали ее, и записывает позиции табуляции обратно в
этот буфер; обычно все буферы разделяют одни и те же позиции табуляции,
и изменение их в одном буфере влияет на все, но если вам случится
сделать <CODE>tab-stop-list</CODE> локальной в одном буфере, то
<CODE>edit-tab-stops</CODE> будет редактировать локальные установки.


<P>
  Покажем, как выглядит представляющий табуляцию текст для обычных
позиций табуляции через каждые восемь столбцов.



<PRE>
        :       :       :       :       :       :
0         1         2         3         4
0123456789012345678901234567890123456789012345678
To install changes, type C-c C-c
</PRE>

<P>
  Первая строка содержит двоеточие в каждой позиции табуляции.
Остальные строки представлены просто для того, чтобы помочь вам понять,
где находится двоеточие, и сообщить, что вы можете делать.


<P>
  Заметим, что позиции табуляции, которые управляют
<CODE>tab-to-tab-stop</CODE>, не имеют ничего общего с показанными символами
табуляции в буфере.  See section <A HREF="emacs_16.html#SEC88">Переменные управления изображением</A>, для более подробной
информации на этот счет.




<H2><A NAME="SEC216" HREF="emacs_toc.html#TOC216">Табуляция по сравнению с пробелами</A></H2>

<P>
<A NAME="IDX1000"></A>
   Обычно Emacs использует для отступа строк как табуляцию, так и
пробелы.  Если вы захотите, то все отступы будут делаться только при
помощи пробелов.  Чтобы потребовать это, установите переменную
<CODE>indent-tab-mode</CODE> равной <CODE>nil</CODE>.  Это переменная буфера;
изменение ее влияет только на текущий буфер, но имеется и значение по
умолчанию, которое вы тоже можете изменить.  See section <A HREF="emacs_36.html#SEC450">Локальные переменные</A>.


<P>
<A NAME="IDX1001"></A>
<A NAME="IDX1002"></A>
   Существуют также команды для превращения табуляции в пробелы и
наоборот, всегда сохраняющие столбцы всего непустого текста.  <KBD>M-x
tabify</KBD> находит в области последовательности пробелов и преобразует в
табуляцию любую последовательность, состоящую по меньшей мере из трех
пробелов, если это можно сделать без изменения отступа.  <KBD>M-x
untabify</KBD> заменяет все табуляции в области на соответствующее число
пробелов.
<P><HR><P>
Go to the <A HREF="emacs_1.html">first</A>, <A HREF="emacs_24.html">previous</A>, <A HREF="emacs_26.html">next</A>, <A HREF="emacs_46.html">last</A> section, <A HREF="emacs_toc.html">table of contents</A>.
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">_uacct = "UA-78697-3"; urchinTracker(); </script></body>
</HTML>
