<HTML>
<HEAD>
<!-- Created by texi2html 1.56k from emacs.texi on 29 October 2002 -->

<TITLE>Руководство по GNU Emacs - Основные команды редактирования</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="emacs_1.html">first</A>, <A HREF="emacs_8.html">previous</A>, <A HREF="emacs_10.html">next</A>, <A HREF="emacs_46.html">last</A> section, <A HREF="emacs_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC24" HREF="emacs_toc.html#TOC24">Основные команды редактирования</A></H1>

<P>
<A NAME="IDX52"></A>
<A NAME="IDX53"></A>
  Здесь мы рассказываем основы о том, как ввести текст, сделать
изменения и записать текст в файл.  Если эти сведения новы для вас, вы
можете изучить это более легким способом, запустив самоучитель по Emacs.
Чтобы сделать так, запустите Emacs и наберите <KBD>Control-h t</KBD>
(<CODE>help-with-tutorial</CODE>).


<P>
  Чтобы очистить экран и перерисовать изображение, напечатайте <KBD>C-l</KBD>
(<CODE>recenter</CODE>).




<H2><A NAME="SEC25" HREF="emacs_toc.html#TOC25">Вставка текста</A></H2>

<P>
<A NAME="IDX54"></A>
<A NAME="IDX55"></A>
  Чтобы вставить печатные знаки в редактируемый вами текст, достаточно
просто набрать их.  Таким образом, вводимые вами знаки вставляются в
буфер в позиции курсора (то есть в <EM>точке</EM>; see section <A HREF="emacs_6.html#SEC13">Точка</A>).  Курсор
двигается вперед, и весь текст после курсора тоже сдвигается вперед.
Если в буфере был текст <SAMP>`FOOBAR'</SAMP>, и курсор стоял перед <SAMP>`B'</SAMP>, то
если вы наберете <KBD>XX</KBD>, вы получите <SAMP>`FOOXXBAR'</SAMP> c курсором,
оставшимся перед <SAMP>`B'</SAMP>.


<P>
  Чтобы <EM>удалить</EM> текст, который вы только что вставили, используйте
<KBD>DEL</KBD>.  <KBD>DEL</KBD> удаляет знак <EM>перед</EM> курсором (а не знак под
курсором; этот знак стоит <EM>после</EM> курсора).  Курсор и все знаки,
стоящие после него, сдвигаются назад.  Поэтому, если вы набрали печатные
знаки и затем набираете <KBD>DEL</KBD>, набранное отменяется.


<P>
<A NAME="IDX56"></A>
<A NAME="IDX57"></A>
  Чтобы закончить строку и начать набирать новую, нажмите <KBD>RET</KBD>.
Это вставит в буфер знак перехода на новую строку.  Если точка находится
в середине строки, <KBD>RET</KBD> разбивает эту строку.  Набор <KBD>DEL</KBD>,
когда курсор находится в начале строки, удаляет предшествующий символ
новой строки, соединяя таким образом эту и предшествующую строки.


<P>
  Emacs может разбивать строки автоматически, когда они становятся
слишком длинными, если вы включите специальный второстепенный режим,
называемый режимом <EM>Auto Fill</EM>.  See section <A HREF="emacs_26.html#SEC222">Заполнение текста</A>, для информации
об использовании режима Auto Fill.


<P>
  Если вы предпочитаете, чтобы знаки текста замещали (перезаписывали)
существующий текст, а не сдвигали его вправо, вы можете включить
второстепенный режим Overwrite.  See section <A HREF="emacs_36.html#SEC441">Второстепенные режимы</A>.


<P>
<A NAME="IDX58"></A>
<A NAME="IDX59"></A>
<A NAME="IDX60"></A>
<A NAME="IDX61"></A>
  Непосредственная вставка работает для печатных знаков и <KBD>SPC</KBD>, но
другие знаки действуют как команды редактирования и не вставляют сами
себя.  Если вам требуется вставить управляющий знак или знак, код
которого превышает восьмиричное 200, вы должны <EM>отменить их особый
смысл</EM>, набрав перед ними <KBD>Control-q</KBD> (<CODE>quoted-insert</CODE>).
(Название этого знака обычно записывается как <KBD>C-q</KBD> для краткости.)
Существует два способа использования <KBD>C-q</KBD>:



<UL>
<LI>

<KBD>C-q</KBD>, за которым следует любой неграфический знак (даже <KBD>C-g</KBD>),
вставляет этот знак.

<LI>

<KBD>C-q</KBD>, за которым идет последовательность восьмиричных цифр,
вставляет знак с заданным знаковым кодом.  Вы можете использовать любое
число восьмиричных цифр; любой знак, не являющийся цифрой, обрывает
последовательность.  Если завершающий знак -- это <KBD>RET</KBD>, он служит
только для завершения последовательности; любой другой нецифровой знак
сам используется в качестве ввода после завершения последовательности.
(Использование восьмиричных последовательностей запрещено в обычном
недвоичном режиме Overwrite, чтобы дать вам удобный способ вставить
цифру вместо замещения ей.)
</UL>

<P>
Когда включена поддержка многобайтных знаков, восьмиричные коды от 0200
до 0377 не являются верными знаками; если вы задаете код из этого
промежутка, <KBD>C-q</KBD> считает, что вы собираетесь использовать какой-то
из наборов знаков ISO Latin-<VAR>n</VAR>, и преобразует заданный код к
соответствующему коду знаков Emacs.  See section <A HREF="emacs_23.html#SEC200">Включение поддержки многобайтных знаков</A>.  <EM>Какой именно</EM> набор знаков ISO Latin следует
использовать, определяется выбранной вами языковой средой
(see section <A HREF="emacs_23.html#SEC201">Языковые среды</A>).


<P>
<A NAME="IDX62"></A>
  Чтобы использовать вместо восьмиричных цифр десятичные или
шестнадцатиричные, установите переменную <CODE>read-quoted-char-radix</CODE>
равной 10 или 16.  Если основание больше десяти, некоторые буквы,
начиная с <KBD>a</KBD>, служат частью знакового кода, так же, как и цифры.


<P>
  Числовой аргумент для <KBD>C-q</KBD> указывает, сколько копий знаков с
отмененным особым смыслом необходимо вставить (see section <A HREF="emacs_9.html#SEC34">Числовые аргументы</A>).


<P>
<A NAME="IDX63"></A>
<A NAME="IDX64"></A>
  Информация для настройки: <KBD>DEL</KBD> в большинстве режимов запускает
команду <CODE>delete-backward-char</CODE>; <KBD>RET</KBD> запускает команду
<CODE>newline</CODE>, а самовставляющиеся печатные знаки запускают команду
<CODE>self-insert</CODE>, которая вставляет тот знак, который был набран при
ее вызове.  Некоторые основные режимы перепривязывают <KBD>DEL</KBD> к другим
командам.




<H2><A NAME="SEC26" HREF="emacs_toc.html#TOC26">Изменение положения точки</A></H2>

<P>
<A NAME="IDX65"></A>
<A NAME="IDX66"></A>
<A NAME="IDX67"></A>
<A NAME="IDX68"></A>
<A NAME="IDX69"></A>
<A NAME="IDX70"></A>
<A NAME="IDX71"></A>
<A NAME="IDX72"></A>
<A NAME="IDX73"></A>
  Чтобы сделать что-то большее, чем просто вставка знаков, вы должны
знать, как двигается точка (see section <A HREF="emacs_6.html#SEC13">Точка</A>).  Простейший способ
переместить точку -- воспользоваться курсорными стрелками или щелкнуть
левой кнопкой мыши в том месте, куда вы хотите передвинуть точку.


<P>
  Есть также Control- и Meta-знаки для перемещения курсора.  Некоторые
из них эквивалентны курсорным стрелкам (они были придуманы в те дни,
когда у терминалов еще не было курсорных стрелок, их можно использовать
на таких терминалах).  Другие делают более сложные вещи.


<P>
<A NAME="IDX74"></A>
<A NAME="IDX75"></A>
<A NAME="IDX76"></A>
<A NAME="IDX77"></A>
<A NAME="IDX78"></A>
<A NAME="IDX79"></A>
<A NAME="IDX80"></A>
<A NAME="IDX81"></A>
<A NAME="IDX82"></A>
<A NAME="IDX83"></A>
<A NAME="IDX84"></A>
<A NAME="IDX85"></A>
<A NAME="IDX86"></A>
<A NAME="IDX87"></A>
<A NAME="IDX88"></A>
<A NAME="IDX89"></A>
<A NAME="IDX90"></A>
<A NAME="IDX91"></A>
<A NAME="IDX92"></A>
<A NAME="IDX93"></A>
<DL COMPACT>

<DT><KBD>C-a</KBD>
<DD>
Передвинуться в начало строки (<CODE>beginning-of-line</CODE>).
<DT><KBD>C-e</KBD>
<DD>
Передвинуться в конец строки (<CODE>end-of-line</CODE>).
<DT><KBD>C-f</KBD>
<DD>
Сдвинуться на один знак вперед (<CODE>forward-char</CODE>).
<DT><KBD>C-b</KBD>
<DD>
Сдвинуться на один знак назад (<CODE>backward-char</CODE>).
<DT><KBD>M-f</KBD>
<DD>
Сдвинуться на одно слово вперед (<CODE>forward-word</CODE>).
<DT><KBD>M-b</KBD>
<DD>
Сдвинуться на одно слово назад (<CODE>backward-word</CODE>).
<DT><KBD>C-n</KBD>
<DD>
Сдвинуться вертикально вниз на одну строку (<CODE>next-line</CODE>).  Эта
команда старается оставить горизонтальную позицию неизменной, чтобы если
вначале вы находились в середине одной строки, то в конце оказались бы в
середине следующей.  В случае, если вы находитесь на последней строке
текста, <KBD>C-n</KBD> создает новую строку и передвигается на нее.
<DT><KBD>C-p</KBD>
<DD>
Сдвинуться вертикально вверх на одну строку (<CODE>previous-line</CODE>).
<DT><KBD>M-r</KBD>
<DD>
Сдвинуть точку к левому краю на строку в середине окна
(<CODE>move-to-window-line</CODE>).  Текст при этом не перемещается по экрану.

Числовой аргумент говорит, на какой строке экрана поместить точку.  Он
отсчитывает экранные строки от верха окна (нуль для самой верхней).
Отрицательный аргумент отсчитывает строки снизу (-1 для нижней
строки).
<DT><KBD>M-&#60;</KBD>
<DD>
Перейти на начало буфера (<CODE>beginning-of-buffer</CODE>).  При аргументе,
равном <VAR>n</VAR>, двигает на <VAR>n</VAR>/10 от начала.  See section <A HREF="emacs_9.html#SEC34">Числовые аргументы</A>, для
более подробной информации о числовых аргументах.
<DT><KBD>M-&#62;</KBD>
<DD>
Перейти в конец буфера (<CODE>end-of-buffer</CODE>).
<DT><KBD>M-x goto-char</KBD>
<DD>
Считывает число <VAR>n</VAR> и сдвигает точку к позиции <VAR>n</VAR> в буфере.
Позиция 1 -- это начало буфера.
<DT><KBD>M-x goto-line</KBD>
<DD>
Считывает число <VAR>n</VAR> и сдвигает точку к строке с номером <VAR>n</VAR>.
Строка 1 -- это начало буфера.
<DT><KBD>C-x C-n</KBD>
<DD>
<A NAME="IDX94"></A>
<A NAME="IDX95"></A>
Велит использовать текущий столбец, в котором находится точка, в
качестве <EM>полупостоянного целевого столбца</EM> для <KBD>C-n</KBD> и
<KBD>C-p</KBD> (<CODE>set-goal-column</CODE>).  В дальнейшем эти команды всегда
переходят на этот столбец в каждой строке, к которой вы передвигаетесь,
или как можно ближе к нему при данном содержимом строки.  Этот целевой
столбец остается в силе, пока его не отменят.
<DT><KBD>C-u C-x C-n</KBD>
<DD>
Отменить целевой столбец.  В дальнейшем <KBD>C-n</KBD> и <KBD>C-p</KBD> снова, как
обычно, пытаются избежать изменения горизонтальной позиции.
</DL>

<P>
<A NAME="IDX96"></A>
  Если вы установите переменную <CODE>track-eol</CODE> не равной <CODE>nil</CODE>,
то если точка находится к конце строки, <KBD>C-n</KBD> и <KBD>C-p</KBD>
передвигают в конец другой строки.  Обычно <CODE>track-eol</CODE> равна
<CODE>nil</CODE>.  See section <A HREF="emacs_36.html#SEC442">Переменные</A>, чтобы узнать, как установить переменные
вроде <CODE>track-eol</CODE>.


<P>
<A NAME="IDX97"></A>
  Обычно <KBD>C-n</KBD>, вызванная на последней строке буфера, добавляет к
буферу новую строку.  Если переменная <CODE>next-line-add-newlines</CODE>
равна <CODE>nil</CODE>, то <KBD>C-n</KBD> вместо этого выдает ошибку (как <KBD>C-p</KBD>
на первой строке).




<H2><A NAME="SEC27" HREF="emacs_toc.html#TOC27">Стирание текста</A></H2>

<DL COMPACT>

<DT><KBD><KBD>DEL</KBD></KBD>
<DD>
Удалить знак перед точкой (<CODE>delete-backward-char</CODE>).
<DT><KBD>C-d</KBD>
<DD>
Удалить знак после точки (<CODE>delete-char</CODE>).
<DT><KBD>C-k</KBD>
<DD>
Уничтожить все до конца строки (<CODE>kill-line</CODE>).
<DT><KBD>M-d</KBD>
<DD>
Уничтожить все знаки вперед до конца следующего слова
(<CODE>kill-word</CODE>).
<DT><KBD>M-<KBD>DEL</KBD></KBD>
<DD>
Уничтожить все знаки в обратном направлении вплоть до начала предыдущего
слова (<CODE>backward-kill-word</CODE>).
</DL>

<P>
<A NAME="IDX98"></A>
<A NAME="IDX99"></A>
<A NAME="IDX100"></A>
  Вы уже знаете о клавише <KBD>DEL</KBD>, которая удаляет знак перед точкой
(то есть перед курсором).  Другой ключ, <KBD>Control-d</KBD> (<KBD>C-d</KBD> для
краткости), удаляет знак после точки (тот знак, на котором курсор).  Это
сдвигает остальной текст на строке влево.  Если вы нажмете <KBD>C-d</KBD> в
конце строки, то эта строка и следующая за ней соединяются.


<P>
  Чтобы стереть больший кусок текста, используйте ключ <KBD>C-k</KBD>,
который удаляет целую строку.  Если вы нажмете <KBD>C-k</KBD> в начале или в
середине строки, то он уничтожает весь текст вплоть до конца этой
строки.  Если вы наберете <KBD>C-k</KBD> в конце строки, то он объединяет эту
строку со следующей.


<P>
  See section <A HREF="emacs_14.html#SEC63">Удаление и уничтожение</A>, для получения информации о более гибких способах
уничтожения текста.




<H2><A NAME="SEC28" HREF="emacs_toc.html#TOC28">Отмена сделанных изменений</A></H2>
<P>
<A NAME="IDX101"></A>
<A NAME="IDX102"></A>


<P>
  Вы можете удалить все недавние изменения в тексте буфера вплоть до
определенного предела.  Каждый буфер записывает изменения отдельно, и
команда отмены всегда относится к текущему буферу.  Обычно каждая
команда редактирования создает отдельное вхождение в записи отмены, но
некоторые команды, как например <CODE>query-replace</CODE>, создают несколько
вхождений, а очень простые команды, например самовставляющиеся знаки,
часто объединяются, чтобы сделать процесс отмены менее утомительным.


<DL COMPACT>

<DT><KBD>C-x u</KBD>
<DD>
Отменить одну группу изменений -- обычно одну стоящую команду
(<CODE>undo</CODE>).
<DT><KBD>C-_</KBD>
<DD>
То же самое.
<DT><KBD>C-u C-x u</KBD>
<DD>
Отменить одну группу изменений в области.
</DL>

<P>
<A NAME="IDX103"></A>
<A NAME="IDX104"></A>
<A NAME="IDX105"></A>
  Вы делаете отмену с помощью команды <KBD>C-x u</KBD> или <KBD>C-_</KBD>.  Когда
вы впервые даете эту команду, она отменяет последнее сделанное
изменение.  Точка возвращается к тому месту, где она была до команды,
сделавшей изменение.


<P>
  Последовательное повторение <KBD>C-_</KBD> или <KBD>C-x u</KBD> отменяет все
более ранние изменения, вплоть до предела доступной информации отмены.
Если все записанные изменения уже были отменены, команда отмены печатает
сообщение об ошибке и ничего не делает.


<P>
  Любая команда, отличная от команды отмены, прерывает
последовательность команд отмены.  Начиная с этого момента предыдущие
команды отмены рассматриваются как простые изменения, которые могут быть
отменены.  Таким образом, чтобы вернуть отмененные вами изменения,
наберите <KBD>C-f</KBD> или любую другую команду, которая не причиняя вреда
прервет последовательность отмен, а затем снова набирайте команды
отмены.


<P>
<A NAME="IDX106"></A>
<A NAME="IDX107"></A>
  Обычная отмена относится ко всем изменениям, сделанным в текущем
буфере.  Вы также можете произвести <EM>выборочную отмену</EM>,
ограниченную текущей областью.  Чтобы сделать это, задайте желаемую
область, а затем запустите команду <CODE>undo</CODE> с префиксным аргументом
(значение не играет роли): <KBD>C-u C-x u</KBD> или <KBD>C-u C-_</KBD>.  Это
отменяет самое последнее изменение в области.  Чтобы отменить более
ранние изменения, повторите команду <CODE>undo</CODE> (префиксный аргумент не
требуется).  В режиме Transient Mark, любое использование <CODE>undo</CODE>,
когда есть активная область, производит выборочную отмену; вам не нужно
задавать префиксный аргумент.


<P>
  Если вы заметили, что буфер был изменен случайно, простейший путь
вернуться в первоначальное состояние -- это набирать <KBD>C-_</KBD>
несколько раз, пока не исчезнут звездочки, стоящие в начале строки
режима.  В этот момент все сделанные вами изменения отменены.  Всякий
раз, когда команды отмены убирают звездочки из строки режима, это
означает, что содержимое буфера стало точно таким же, каким оно было,
когда файл был последний раз считан или сохранен.


<P>
  Если вы не помните, намеренно ли вы изменили буфер, наберите <KBD>C-_</KBD>
один раз.  Когда вы увидите последнее изменение, которое вы сделали
отмененным, вы поймете, было ли это изменение умышленным.  Если это была
случайность, оставьте его отмененным.  Если оно было умышленным,
восстановите изменение, как описано выше.


<P>
  Не все буферы записывают информацию для отмены.  Буферы, чьи имена
начинаются с пробела, этого не делают.  Они используются для внутренних
нужд Emacs и его расширений для хранения текста, который обычно не
редактируется и не просматривается пользователями.


<P>
  Вы не можете отменить простое перемещение курсора; только изменения
содержимого буфера сохраняют информацию для отмены.  Однако, некоторые
команды движения курсора устанавливают метку, так что если вы время от
времени используете эти команды, вы можете вернуться в окрестности, по
которым вы передвигались, с помощью списка пометок (see section <A HREF="emacs_13.html#SEC60">Список пометок</A>).


<P>
<A NAME="IDX108"></A>
<A NAME="IDX109"></A>
<A NAME="IDX110"></A>
<A NAME="IDX111"></A>
  Когда информация отмены для какого-то буфера становится слишком
большой, Emacs время от времени (во время сборки мусора) сбрасывает
самые старые сведения.  Вы можете указать, сколько информации для отмены
необходимо хранить, с помощью двух переменных: <CODE>undo-limit</CODE> и
<CODE>undo-strong-limit</CODE>.  Их значения выражаются в байтах.


<P>
  Переменная <CODE>undo-limit</CODE> устанавливает гибкий предел: Emacs хранит
данные для отмены достаточного числа команд, чтобы оставаться в этих
границах и, возможно, выйти за них, но не хранит данные для более ранних
команд сверх этого предела.  Ее значение по умолчанию равно 20000.
Переменная <CODE>undo-strong-limit</CODE> устанавливает более жесткий предел:
команда, которая увеличивает размер за эту границу, забывается сама.
Значение этой переменной равно по умолчанию 30000.


<P>
  Вне зависимости от значений этих переменных, самое последнее изменение
никогда не сбрасывается, поэтому нет опасности, что сборка мусора,
случившаяся сразу после неумышленного большого изменения, помешает вам
отменить его.


<P>
  Причина того, что для команды <CODE>undo</CODE> определены два запускающих
ключа, <KBD>C-x u</KBD> и <KBD>C-_</KBD>, состоит в том, что эта команда стоит
того, чтобы иметь однознаковый ключ, но на некоторых клавиатурах нет
очевидного способа ввести <KBD>C-_</KBD>.  <KBD>C-x u</KBD> предоставляет
альтернативу, вы можете прямо набрать его на любом терминале.




<H2><A NAME="SEC29" HREF="emacs_toc.html#TOC29">Файлы</A></H2>

<P>
  Описанных выше команд достаточно для создания и изменения текста в
буфере Emacs; более продвинутые команды Emacs лишь позволяют делать это
проще.  Но для того чтобы сохранить любой текст, вы должны поместить его
в <EM>файл</EM>.  Файлы -- это именованные единицы текста, которые
хранятся операционной системой, чтобы вы могли получить их позже по
имени.  Чтобы просмотреть или использовать содержимое файла с любой
целью, включая редактирование с помощью Emacs, вы должны задать его имя.


<P>
  Рассмотрим файл с именем <TT>`/usr/rms/foo.c'</TT>.  Для того чтобы
начать редактирование этого файла в Emacs, наберите



<PRE>
C-x C-f /usr/rms/foo.c <KBD>RET</KBD>
</PRE>

<P>
Здесь имя файла дается как <EM>аргумент</EM> для команды <KBD>C-x C-f</KBD>
(<CODE>find-file</CODE>).  Эта команда использует для считывания аргумента
<EM>минибуфер</EM>, а чтобы завершить аргумент, вы набираете <KBD>RET</KBD>
(see section <A HREF="emacs_10.html#SEC36">Минибуфер</A>).


<P>
  Emacs подчиняется этой команде, <EM>обращаясь</EM> к указанному файлу:
создавая буфер, копируя в него содержимое этого файла и затем показывая
вам буфер для редактирования.  Если вы изменили этот буфер, вы можете
<EM>сохранить</EM> новый текст в файле, напечатав <KBD>C-x C-s</KBD>
(<CODE>save-buffer</CODE>).  Это делает изменения постоянными путем
копирования измененного содержимого буфера снова в файл
<TT>`/usr/rms/foo.c'</TT>.  До этого ваши изменения существуют только внутри
Emacs, а файл <TT>`foo.c'</TT> не изменяется.


<P>
  Чтобы создать файл, надо просто обратиться к нему с помощью <KBD>C-x
C-f</KBD>, как если бы он уже существовал.  Emacs создаст пустой буфер, куда
вы можете вставить текст, который хотите занести в файл.  Реальный файл
создается, когда вы сохраняете этот буфер с помощью <KBD>C-x C-s</KBD>.


<P>
  Конечно, об использовании файлов можно узнать гораздо больше.
See section <A HREF="emacs_19.html#SEC108">Работа с файлами</A>.




<H2><A NAME="SEC30" HREF="emacs_toc.html#TOC30">Справка</A></H2>

<P>
<A NAME="IDX112"></A>
  Если вы забыли, что делает какая-то клавиша, вы можете выяснить это с
помощью знака справки <KBD>C-h</KBD> (или <KBD>F1</KBD>, аналога <KBD>C-h</KBD>).
Наберите <KBD>C-h k</KBD>, а затем имя ключа, о котором вы хотите узнать;
например, <KBD>C-h k C-n</KBD> рассказывает все о том, что делает <KBD>C-n</KBD>.
<KBD>C-h</KBD> -- это префиксная клавиша; <KBD>C-h k</KBD> -- просто одна из ее
подкоманд (а именно, команда <CODE>describe-key</CODE>).  Другие подкоманды
<KBD>C-h</KBD> предоставляют другие виды справки.  Наберите <KBD>C-h</KBD> дважды,
чтобы получить описание всех возможностей справки.  See section <A HREF="emacs_12.html#SEC47">Справка</A>.




<H2><A NAME="SEC31" HREF="emacs_toc.html#TOC31">Пустые строки</A></H2>

<P>
<A NAME="IDX113"></A>
<A NAME="IDX114"></A>
  Здесь рассматриваются специальные команды и приемы создания и удаления
пустых строк.


<DL COMPACT>

<DT><KBD>C-o</KBD>
<DD>
Вставить после курсора одну или несколько пустых строк
(<CODE>open-line</CODE>).
<DT><KBD>C-x C-o</KBD>
<DD>
Уничтожить все последовательные пустые строки, кроме одной
(<CODE>delete-blank-lines</CODE>).
</DL>

<P>
<A NAME="IDX115"></A>
<A NAME="IDX116"></A>
<A NAME="IDX117"></A>
<A NAME="IDX118"></A>
<A NAME="IDX119"></A>
  Когда вы хотите вставить новую строку текста перед уже существующей,
вы можете сделать это, набрав новую строку текста и за ней <KBD>RET</KBD>.
Однако, может оказаться удобнее видеть то, что вы набираете, если перед
этим сперва создать пустую строку, а затем вставить в нее нужный текст.
Это легко сделать, используя клавишу <KBD>C-o</KBD> (<CODE>open-line</CODE>),
которая вставляет новую строку после точки, но оставляет точку перед
этой новой строкой.  После <KBD>С-о</KBD> набирайте текст в новую строку.
<KBD>С-о F O O</KBD> дает тот же результат, что и <KBD>F O O <KBD>RET</KBD></KBD>, за
исключением конечной позиции точки.


<P>
  Вы можете создать несколько пустых строк, набрав <KBD>С-о</KBD> несколько
раз, или задав ей числовой аргумент, чтобы сказать ей, какое количество
строк необходимо создать.  See section <A HREF="emacs_9.html#SEC34">Числовые аргументы</A>, чтобы узать, как это
сделать.  Если определен префикс заполнения, то команда <KBD>C-o</KBD>, когда
вы используете ее в начале строки, вставляет на новой строке этот
префикс заполнения.  See section <A HREF="emacs_26.html#SEC225">Префикс заполнения</A>.


<P>
  Простой способ избавиться от лишних пустых строк -- воспользоваться
командой <KBD>C-x C-o</KBD> (<CODE>delete-blank-lines</CODE>).  Использование
<KBD>C-x C-o</KBD> среди нескольких пустых строк удаляет их все, кроме одной.
<KBD>C-x C-o</KBD> на одиночной пустой строке удаляет эту строку.  Когда
точка находится на непустой строке, <KBD>C-x C-o</KBD> удаляет все пустые
строки после этой непустой строки.




<H2><A NAME="SEC32" HREF="emacs_toc.html#TOC32">Строки продолжения</A></H2>

<P>
<A NAME="IDX120"></A>
<A NAME="IDX121"></A>
  Если вы добавляете слишком много знаков в одну строку, не прерывая ее
нажатием <KBD>RET</KBD>, то эта строка будет расти и займет две (или более)
строки на экране; в крайней правой позиции каждой из занятых строк,
кроме последней, будет расположен знак <SAMP>`\'</SAMP>.  Знак <SAMP>`\'</SAMP> говорит,
что следующая строка экрана не является отдельной строкой в тексте, что
это только <EM>продолжение</EM> строки, слишком длинной для данного экрана.
Продолжение также называется <EM>переносом строк</EM>.


<P>
  Иногда удобно, чтобы Emacs автоматически вставлял знаки перевода
строки, когда строка становится слишком длинной; используйте для этого
режим Auto Fill (see section <A HREF="emacs_26.html#SEC222">Заполнение текста</A>).


<P>
<A NAME="IDX122"></A>
<A NAME="IDX123"></A>
  Вместо продолжения Emacs может отображать длинные строки
<EM>усеченными</EM>.  Это значит, что все знаки, которые не вошли в ширину
экрана или окна, не отображаются совсем.  Они остаются в буфере, но
временно невидимы.  В последнем столбце ставится знак <SAMP>`$'</SAMP>, а не
<SAMP>`\'</SAMP>, чтобы информировать о действии усечения.


<P>
  Усечение вместо продолжения происходит, когда используется
горизонтальная прокрутка, и, возможно, во всех окнах, не занимающих
полную ширину фрейма (see section <A HREF="emacs_21.html#SEC169">Множество окон</A>).  Вы можете включить усечение для
конкретного буфера, установив в нем переменную <CODE>truncate-lines</CODE> не
равной <CODE>nil</CODE>.  (See section <A HREF="emacs_36.html#SEC442">Переменные</A>.)  Изменение значения
<CODE>truncate-lines</CODE> делает его локальным для текущего буфера; до этого
момента действует значение по умолчанию.  Начальное значение по
умолчанию -- <CODE>nil</CODE>.  See section <A HREF="emacs_36.html#SEC450">Локальные переменные</A>.


<P>
  See section <A HREF="emacs_16.html#SEC88">Переменные управления изображением</A>, о других переменных, влияющих на способ
отображения текста.




<H2><A NAME="SEC33" HREF="emacs_toc.html#TOC33">Информация о позиции курсора</A></H2>

<P>
  Это команды для получения информации о размере и позиции частей буфера
и для подсчета числа строк.


<DL COMPACT>

<DT><KBD>M-x what-page</KBD>
<DD>
Напечатать номер страницы, на которой находится точка, и номер строки в
пределах этой страницы.
<DT><KBD>M-x what-line</KBD>
<DD>
Напечатать номер строки, в которой находится точка в буфере.
<DT><KBD>M-x line-number-mode</KBD>
<DD>
Переключить режим автоматического отображения номера текущей строки.
<DT><KBD>M-=</KBD>
<DD>
Напечатать количество строк в текущей области
(<CODE>count-lines-region</CODE>).  See section <A HREF="emacs_13.html#SEC55">Пометка и область</A>, чтобы узнать, что такое
область.
<DT><KBD>C-x =</KBD>
<DD>
Напечатать код знака после точки, знаковое положение точки и столбец
точки (<CODE>what-cursor-position</CODE>).
</DL>

<P>
<A NAME="IDX124"></A>
<A NAME="IDX125"></A>
<A NAME="IDX126"></A>
<A NAME="IDX127"></A>
<A NAME="IDX128"></A>
<A NAME="IDX129"></A>
<A NAME="IDX130"></A>
  Есть две команды для работы с номерами строк.  <KBD>M-x what-line</KBD>
подсчитывает номер текущей строки и показывает его в эхо-области.  Чтобы
перейти к строке с заданным номером, используйте <KBD>M-x goto-line</KBD>;
она спросит у вас номер.  Номера строк отсчитываются от единицы с начала
буфера.


<P>
  Вы также можете видеть номер текущей строки в строке режима;
See section <A HREF="emacs_6.html#SEC15">Строка режима</A>.  Если вы сузили буфер, то номер строки в строке
режима отсчитывается относительно доступной части (see section <A HREF="emacs_35.html#SEC432">Сужение</A>).


<P>
  В противоположность этому, <CODE>what-page</CODE> подсчитывает номер строки
и относительно суженной области, и относительно всего буфера и
показывает оба числа.  See section <A HREF="emacs_26.html#SEC221">Страницы</A>.


<P>
<A NAME="IDX131"></A>
<A NAME="IDX132"></A>
  По этому поводу мы могли бы упомянуть <KBD>М-=</KBD>
(<CODE>count-lines-region</CODE>), которая печатает число строк в области
(see section <A HREF="emacs_13.html#SEC55">Пометка и область</A>).  See section <A HREF="emacs_26.html#SEC221">Страницы</A>, для информации о команде <KBD>C-x
l</KBD>, которая считает строки на текущей странице.


<P>
<A NAME="IDX133"></A>
<A NAME="IDX134"></A>
  Команда <KBD>С-х =</KBD> (<CODE>what-cursor-position</CODE>) может быть
использована для узнавания столбца, в котором находится курсор, а также
другой разнообразной информации о точке.  Она печатает в эхо-области
строку, которая выглядит следующим образом:



<PRE>
Char: c (0143, 99, 0x63) point=24781 of 31832(78%)  column 52
</PRE>

<P>
(На самом деле, это результат, полученный, когда точка была перед словом
<SAMP>`column'</SAMP> в самом примере.)


<P>
  Четыре величины после <SAMP>`Char:'</SAMP> описывают знак, следующий за
точкой; первое показывает его, а остальные дают его восьмиричный,
десятичный и шестнадцатиричный код.  Для многобайтного не-ASCII-знака
после этих чисел следует <SAMP>`ext'</SAMP> и шестнадцатиричное представление в
системе кодирования данного буфера, если эта система кодирования
безопасно может представить этот знак в одном байте (see section <A HREF="emacs_23.html#SEC205">Системы кодирования</A>).  Если код знака больше одного байта, Emacs показывает
<SAMP>`ext ...'</SAMP>.


<P>
  После <SAMP>`point='</SAMP> следует позиция точки, выраженная через количество
знаков.  Началу буфера присваивается позиция 1, следующему знаку 2 и
так далее.  Следующее, большее число означает общее число знаков в
буфере.  Потом в круглых скобках находится позиция, выраженная как
процент от общего размера.


<P>
  После <SAMP>`column'</SAMP> пишется горизонтальная позиция точки, в столбцах
от левого края окна.


<P>
  Если буфер был сужен, и некоторое количество текста в начале и в конце
временно недоступно, то <KBD>С-х =</KBD> печатает дополнительный текст,
описывающий текущие границы доступа.  Например, команда может показать
такое:



<PRE>
Char: C (0103, 67, 0x43)  point=252 of 889(28%) &#60;231 - 599&#62;  column 0
</PRE>

<P>
где два добавленных числа дают наименьшую и наибольшую допустимые для
точки позиции знаков.  Доступными являются знаки между двумя этими
позициями.  See section <A HREF="emacs_35.html#SEC432">Сужение</A>.


<P>
  Если точка находится в конце буфера (или в конце видимой части), в
выводе <KBD>С-х =</KBD> не описывается знак, стоящий после точки.  Вывод
может выглядеть так:



<PRE>
point=26957 of 26956(100%)  column 0
</PRE>

<P>
  <KBD>C-u C-x =</KBD> показывает вместо координат и столбца
дополнительную информацию о знаке: имя набора знаков и коды данного
знака в этом наборе; ASCII-знаки идентифицируются как принадлежащие
набору знаков <CODE>ASCII</CODE>.  Кроме того, после <SAMP>`ext'</SAMP> показывается
полный код знака, даже если он занимает больше одного байта.  Вот пример
для знака A с акцентом грав из Latin-1, в буфере с системой кодирования
iso-2022-7bit<A NAME="DOCF2" HREF="emacs_foot.html#FOOT2">(2)</A>:



<PRE>
Char: `A (04300, 2240, 0x8c0, ext ESC, A @) (latin-iso8859-1 64)
</PRE>



<H2><A NAME="SEC34" HREF="emacs_toc.html#TOC34">Числовые аргументы</A></H2>
<P>
<A NAME="IDX135"></A>
<A NAME="IDX136"></A>
<A NAME="IDX137"></A>
<A NAME="IDX138"></A>


<P>
  В математике и компьютерной практике слово <EM>аргумент</EM> означает
"данные, предоставляемые функции или операции."  Вы можете передать
любой команде Emacs <EM>числовой аргумент</EM> (также называемый
<EM>префиксным аргументом</EM>).  Некоторые команды интерпретируют аргумент
как счетчик повторений.  Например, команда <KBD>C-f</KBD> с аргументом,
равным десяти, передвигает вперед на десять знаков, а не на один.  В
этих командах отсутствие аргумента эквивалентно аргументу, равному
единице.  Отрицательные аргументы говорят большинству таких команд, что
надо двигаться или действовать в противоположном направлении.


<P>
<A NAME="IDX139"></A>
<A NAME="IDX140"></A>
<A NAME="IDX141"></A>
<A NAME="IDX142"></A>
  Если на вашей клавиатуре есть клавиша <KBD>META</KBD>, простейший способ
установить числовой аргумент -- набрать цифры и/или знак минуса, прижав
клавишу META. Например,

<PRE>
M-5 C-n
</PRE>

<P>
передвинула бы на пять строк вниз.  Знаки <KBD>Meta-1</KBD>, <KBD>Meta-2</KBD>, и
так далее, а также <KBD>Meta--</KBD> делают это, так как это ключи,
привязанные к командам (<CODE>digit-argument</CODE> и
<CODE>negative-argument</CODE>), которые определены как передающие аргумент в
следующую команду.  Цифры и <KBD>-</KBD> с модификатором Control или Control
и Meta также задают числовой аргумент.


<P>
<A NAME="IDX143"></A>
<A NAME="IDX144"></A>
  Другой способ задать аргумент -- это использовать команду <KBD>C-u</KBD>
(<CODE>universal-argument</CODE>), за которой следуют цифры аргумента.  С
помощью <KBD>C-u</KBD> вы можете набрать цифры аргумента, не удерживая
клавиши-модификаторы; <KBD>C-u</KBD> работает на всех терминалах.  Чтобы
набрать отрицательный аргумент, введите после <KBD>C-u</KBD> знак минус.
Просто знак минуса без цифр обычно обозначает -1.


<P>
  <KBD>C-u</KBD>, за которой следует знак, не являющийся ни цифрой, ни знаком
минус, имеет специальный смысл, "умножение на четыре".  Она умножает
аргумент последующей команды на четыре.  Две последовательные <KBD>C-u</KBD>
умножают его на шестнадцать.  Таким образом, <KBD>C-u C-u C-f</KBD>
передвигает вперед на шестнадцать знаков.  Это удобный способ
передвигаться вперед "быстро", так как он передвигает вперед примерно
на 1/5 всех строк, умещающихся на экране обычного размера.  Другие
полезные сочетания -- это <KBD>C-u C-n</KBD>, <KBD>C-u C-u C-n</KBD> (двигает
вниз на большой кусок экрана), <KBD>C-u C-u C-o</KBD> (создает "много"
пустых строк) и <KBD>C-u C-k</KBD> (уничтожает четыре строки).


<P>
  Некоторым командам важно только присутствие или отсутствие аргумента,
но не его значение.  Например, команда <KBD>M-q</KBD> (<CODE>fill-paragraph</CODE>)
без аргумента заполняет текст, а с аргументом вдобавок выравнивает текст
по правой границе.  (See section <A HREF="emacs_26.html#SEC222">Заполнение текста</A>, для более подробной информации о
<KBD>M-q</KBD>).  Просто <KBD>C-u</KBD> дает удобный способ предоставления
аргументов для таких команд.


<P>
  Некоторые команды используют аргумент в качестве счетчика повторений,
но их действия с аргументом и без него имеют некоторые специфические
черты.  Например, команда <KBD>C-k</KBD> (<CODE>kill-line</CODE>) с аргументом
<VAR>n</VAR> уничтожает <VAR>n</VAR> строк, включая ограничивающие их знаки новой
строки.  Но <KBD>C-k</KBD> без аргумента действует по-другому: она уничтожает
текст вплоть до перевода строки, или, если точка стоит как раз в конце
строки, уничтожает перевод строки.  Таким образом, две команды <KBD>C-k</KBD>
без аргумента могут уничтожить непустую строку, аналогичные результаты
можно получить, набрав команду <KBD>C-k</KBD> с аргументом, равным единице.
(See section <A HREF="emacs_14.html#SEC63">Удаление и уничтожение</A>, для более подробной информации о <KBD>C-k</KBD>.)


<P>
  Несколько команд трактуют простую <KBD>C-u</KBD> не так, как обыкновенный
аргумент.  Некоторые другие команды могут различать аргумент в виде
просто знака минус и аргумент -1.  Эти необычные случаи будут
описаны, когда придет черед этих команд; они возникают всегда по
причинам удобства использования отдельных команд.


<P>
  Вы можете использовать числовой аргумент для вставки нескольких копий
одного знака.  Это работает прямо, если только знак -- не цифра;
например, <KBD>C-u 6 4 a</KBD> вставляет 64 копии знака <SAMP>`a'</SAMP>.  Но это
не работает для вставки цифр; <KBD>C-u 6 4 1</KBD> задает аргумент 641, а не
вставляет что-либо.  Чтобы отделить цифру от аргумента, наберите еще
один <KBD>C-u</KBD>; например, <KBD>C-u 6 4 C-u 1</KBD> на самом деле вставляет 64
копии знака <SAMP>`1'</SAMP>.


<P>
  Мы используем термин "префиксный аргумент", как и "числовой
аргумент", чтобы подчеркнуть, что вы набираете эти аргументы перед
командой, и чтобы отличить эти аргументы от аргументов минибуфера,
которые пишутся после команды.




<H2><A NAME="SEC35" HREF="emacs_toc.html#TOC35">Повторение команды</A></H2>
<P>
<A NAME="IDX145"></A>


<P>
<A NAME="IDX146"></A>
<A NAME="IDX147"></A>
  Команда <KBD>C-x z</KBD> (<CODE>repeat</CODE>) предоставляет еще один способ
повторить команду Emacs несколько раз.  Эта команда повторяет предыдущую
команду Emacs, какая бы она ни была.  При повторении команда использует
те же аргументы, какие у нее были раньше; она не считывает новые
аргументы каждый раз.


<P>
  Чтобы повторить команду несколько раз, напечатайте еще знаки
<KBD>z</KBD>: каждый знак <KBD>z</KBD> повторит эту команду еще один раз.
Повторение заканчивается, когда вы вводите знак, отличный от <KBD>z</KBD>,
или нажимаете кнопку мыши.


<P>
  Предположим например, что вы напечатали <KBD>C-u 2 0 C-d</KBD>, чтобы
удалить 20 знаков.  Вы можете повторить эту команду (вместе с ее
аргументом) еще три раза, чтобы удалить в общей сложности 80 знаков,
напечатав <KBD>C-x z z z</KBD>.  Первый <KBD>C-x z</KBD> повторяет эту команду
один раз, а каждый последующий <KBD>z</KBD> повторяет еще раз.
<P><HR><P>
Go to the <A HREF="emacs_1.html">first</A>, <A HREF="emacs_8.html">previous</A>, <A HREF="emacs_10.html">next</A>, <A HREF="emacs_46.html">last</A> section, <A HREF="emacs_toc.html">table of contents</A>.
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">_uacct = "UA-78697-3"; urchinTracker(); </script></body>
</HTML>
