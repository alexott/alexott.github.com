<HTML>
<HEAD>
<!-- Created by texi2html 1.56k from emacs.texi on 29 October 2002 -->

<TITLE>Руководство по GNU Emacs - Аргументы командной строки</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="emacs_1.html">first</A>, <A HREF="emacs_37.html">previous</A>, <A HREF="emacs_39.html">next</A>, <A HREF="emacs_46.html">last</A> section, <A HREF="emacs_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC494" HREF="emacs_toc.html#TOC494">Аргументы командной строки</A></H1>
<P>
<A NAME="IDX2723"></A>
<A NAME="IDX2724"></A>
<A NAME="IDX2725"></A>
<A NAME="IDX2726"></A>
<A NAME="IDX2727"></A>


<P>
  GNU Emacs обрабатывает аргументы командной строки, которые запрашивают
различные действия при вызове Emacs.  Они существуют для совместимости с
другими редакторами и для сложных процедур.  Мы не рекомендуем
использовать их для обычного редактирования.


<P>
  Аргументы, начинающиеся со знака <SAMP>`-'</SAMP>, называются <EM>ключами</EM>.
Остальные аргументы задают файлы, к которым нужно обратиться.  Emacs
обращается к указанным файлам во время запуска.  Имя файла, заданное в
командной строке последним, становится текущим буфером; другие файлы
также присутствуют, но в других буферах.  Как обычно, особый аргумент
<SAMP>`--'</SAMP> говорит, что все последующие аргументы являются именами
файлов, а не ключами, даже если начинаются на <SAMP>`-'</SAMP>.


<P>
  Командные ключи Emacs могут задавать многие вещи, например размер и
положение X-окна, используемого Emacs, его цвета и так далее.  Некоторые
ключи поддерживают продвинутое использование, это, например, запуск
лисповских функций для файлов в пакетном режиме.  Разделы в этой главе
описывают доступные ключи, расположенные в соответствии с их
назначением.


<P>
  Есть два способа записи ключей: короткие формы, начинающиеся с одного
знака <SAMP>`-'</SAMP>, и длинные формы, начинающиеся с <SAMP>`--'</SAMP>.  Например,
<SAMP>`-d'</SAMP> -- это короткая форма, а <SAMP>`--display'</SAMP> -- соответствующая
длинная форма.


<P>
  Длинные формы с <SAMP>`--'</SAMP> легче запомнить, но дольше печатать.
Однако, вы не обязаны писать имя ключа полностью, достаточно любого
однозначного сокращения.  Когда длинный ключ принимает аргумент, вы
можете использовать для разделения имени ключа и аргумента либо пробел,
либо знак равенства.  Таким образом, вы можете написать как
<SAMP>`--display sugar-bombs:0.0'</SAMP>, так и
<SAMP>`--display=sugar-bombs:0.0'</SAMP>.  Мы рекомендуем использовать знак
равенства, так как он более четко показывает взаимосвязь, и в
приведенных ниже таблицах всегда используется знак равенства.


<P>
<A NAME="IDX2728"></A>
<A NAME="IDX2729"></A>
<A NAME="IDX2730"></A>
<A NAME="IDX2731"></A>
  Большинство ключей указывают, как инициализировать Emacs, или
устанавливают параметры для всего сеанса Emacs.  Мы называем их
<EM>ключами запуска</EM>.  Немногие ключи указывают, что нужно сделать:
например, загрузить библиотеки, вызвать функции или выйти из Emacs.
Такие ключи называют <EM>ключами действия</EM>.  Их и имена файлов вместе
называют <EM>аргументами действия</EM>.  Emacs обрабатывает все аргументы
действия в том порядке, в котором они были записаны.




<H2><A NAME="SEC495" HREF="emacs_toc.html#TOC495">Аргументы действия</A></H2>

<P>
  Вот таблица аргументов и ключей действия:


<DL COMPACT>

<DT><SAMP>`<VAR>файл</VAR>'</SAMP>
<DD>
Обратиться к <VAR>файлу</VAR> с помощью <CODE>find-file</CODE>.  See section <A HREF="emacs_19.html#SEC110">Обращение к файлам</A>.

<DT><SAMP>`+<VAR>номер-строки</VAR> <VAR>файл</VAR>'</SAMP>
<DD>
Обратиться к <VAR>файлу</VAR> с помощью <CODE>find-file</CODE>, а затем перейти в
нем к строке с номером <VAR>номер-строки</VAR>.

<DT><SAMP>`-l <VAR>файл</VAR>'</SAMP>
<DD>
<DT><SAMP>`--load=<VAR>файл</VAR>'</SAMP>
<DD>
Загрузить лисповскую библиотеку с именем <VAR>файл</VAR> с помощью функции
<CODE>load</CODE>.  See section <A HREF="emacs_28.html#SEC322">Библиотеки Лисп-программ для Emacs</A>.  Библиотека может находиться либо
в текущем каталоге, либо в пути поиска библиотек Emacs, как он задан
переменной <CODE>EMACSLOADPATH</CODE> (see section <A HREF="emacs_38.html#SEC500">Общие переменные</A>).

<DT><SAMP>`-f <VAR>функция</VAR>'</SAMP>
<DD>
<DT><SAMP>`--funcall=<VAR>функция</VAR>'</SAMP>
<DD>
Вызвать лисповскую <VAR>функцию</VAR> без аргументов.

<DT><SAMP>`--eval <VAR>выражение</VAR>'</SAMP>
<DD>
Вычислить лисповское <VAR>выражение</VAR>.

<DT><SAMP>`--insert=<VAR>файл</VAR>'</SAMP>
<DD>
Вставить содержимое <VAR>файла</VAR> в текущий буфер.  Это похоже на действие
<KBD>M-x insert-file</KBD>.  See section <A HREF="emacs_19.html#SEC158">Разнообразные действия над файлами</A>.

<DT><SAMP>`--kill'</SAMP>
<DD>
Прекратить работу Emacs без подтверждения.
</DL>

<P>
<A NAME="IDX2732"></A>
  Файл инициализации может получить доступ к значениям аргументов
действия через список в переменной <CODE>command-line-args</CODE>.  Файл
инициализации может перекрыть обычную обработку аргументов действия или
определить новые путем чтения и установки этой переменной.




<H2><A NAME="SEC496" HREF="emacs_toc.html#TOC496">Ключи запуска</A></H2>

<P>
  Ключи запуска задают параметры для данного сеанса Emacs.  В этом
разделе описаны более общие ключи запуска; некоторые другие ключи,
относящиеся к X Windows, вводятся в следующих разделах.


<P>
  Некоторые ключи запуска влияют на процесс загрузки файлов
инициализации.  Обычно Emacs загружает <TT>`site-start.el'</TT>, если он
существует, затем ваш собственный файл инициализации <TT>`~/.emacs'</TT>,
если он существует, и наконец, <TT>`default.el'</TT>, если он существует;
определенные ключи запрещают загрузку некоторых из этих файлов или
заменяют их другими файлами.


<DL COMPACT>

<DT><SAMP>`-t <VAR>устройство</VAR>'</SAMP>
<DD>
<DT><SAMP>`--terminal=<VAR>устройство</VAR>'</SAMP>
<DD>
Использовать <VAR>устройство</VAR> в качестве терминала для ввода и вывода.

<DT><SAMP>`-d <VAR>дисплей</VAR>'</SAMP>
<DD>
<DT><SAMP>`--display=<VAR>дисплей</VAR>'</SAMP>
<DD>
Использовать систему X Windows и открыть начальный фрейм Emacs на дисплее
с заданным именем.

<DT><SAMP>`-nw'</SAMP>
<DD>
<DT><SAMP>`--no-windows'</SAMP>
<DD>
Не общаться непосредственно с X Windows, не обращая внимания на
переменную среды <CODE>DISPLAY</CODE>, даже если она установлена.

<A NAME="IDX2733"></A>
<DT><SAMP>`-batch'</SAMP>
<DD>
<DT><SAMP>`--batch'</SAMP>
<DD>
Запустить Emacs <EM>пакетном режиме</EM>, что означает, что редактируемый
текст не отображается, а стандартные команды терминала для прерывания,
такие как <KBD>C-z</KBD> и <KBD>C-c</KBD>, продолжают иметь свое обычное значение.
Emacs в пакетном режиме выводит в стандартный поток ошибок <CODE>stderr</CODE>
только то, что в нормальном режиме выводилось бы программами в
эхо-область.

Пакетный режим используется для запуска программ, написанных на языке
Emacs Lisp, из сценариев командного интерпретатора, Make-файлов и так
далее.  Обычно при этом также используются ключи <SAMP>`-l'</SAMP> или
<SAMP>`-f'</SAMP>, чтобы запустить Лисп-программу для пакетной обработки.

Ключ <SAMP>`-batch'</SAMP> подразумевает <SAMP>`-q'</SAMP> (не загружать файл
инициализации).  Он также заставляет Emacs прекратить работу после того,
как обработаны все командные ключи.  Кроме того, самосохранение
производится только в тех буферах, в которых оно было затребовано явно.

<DT><SAMP>`-q'</SAMP>
<DD>
<DT><SAMP>`--no-init-file'</SAMP>
<DD>
Не загружать ваш файл инициализации Emacs, <TT>`~/.emacs'</TT>, а также
<TT>`default.el'</TT>.

<DT><SAMP>`--no-site-file'</SAMP>
<DD>
Не загружать файл <TT>`site-start.el'</TT>.  Ключи <SAMP>`-q'</SAMP>, <SAMP>`-u'</SAMP> и
<SAMP>`-batch'</SAMP> не влияют на загрузку этого файла -- только этот ключ
блокирует ее.

<DT><SAMP>`-u <VAR>пользователь</VAR>'</SAMP>
<DD>
<DT><SAMP>`--user=<VAR>пользователь</VAR>'</SAMP>
<DD>
Загрузить файл инициализации Emacs, принадлежащий <VAR>пользователю</VAR>,
<TT>`~<VAR>пользователь</VAR>/.emacs'</TT>, вместо вашего собственного.

<DT><SAMP>`--debug-init'</SAMP>
<DD>
Включить отладчик Emacs Lisp для обработки ошибок в файле инициализации.

<DT><SAMP>`--unibyte'</SAMP>
<DD>
<A NAME="IDX2734"></A>
Делать практически все с использованием однобайтных буферов и строк.
Все буферы и строки будут однобайтными, если вы (или Лисп-программа)
явно не запросите многобайтный буфер или строку.  Установка переменной
среды @env{EMACS_UNIBYTE} имеет тот же эффект.

<DT><SAMP>`--multibyte'</SAMP>
<DD>
Подавить действие переменной @env{EMACS_UNIBYTE}, чтобы Emacs по
умолчанию использовал многобайтные знаки, как обычно.
</DL>



<H2><A NAME="SEC497" HREF="emacs_toc.html#TOC497">Пример аргументов командной строки</A></H2>

<P>
  Здесь приведен пример использования Emacs с аргументами и ключами.  Он
предполагает, что у вас есть программа на Лиспе, называемая
<TT>`hack-c.el'</TT>, которая будучи загруженной выполняет некоторые
полезные действия над текущим буфером, предположительно программой на
Си.



<PRE>
emacs -batch foo.c -l hack-c -f save-buffer &#62;&#38; log
</PRE>

<P>
Это говорит Emacs обратиться к файлу <TT>`foo.c'</TT>, загрузить
<TT>`hack-c.el'</TT> (которая производит изменения в файле, к которому вы
обратились), сохранить <TT>`foo.c'</TT> (заметьте, что <CODE>save-buffer</CODE>
--- это функция, которая привязана к <KBD>C-x C-s</KBD>), а затем вернуться в
оболочку (из-за <SAMP>`-batch'</SAMP>).  Ключ <SAMP>`-batch'</SAMP> также гарантирует,
что не будет проблем с перенаправлением вывода в файл <TT>`log'</TT>, так
как Emacs не будет предполагать, что он должен работать с терминалом.




<H2><A NAME="SEC498" HREF="emacs_toc.html#TOC498">Возврат в Emacs с аргументами</A></H2>

<P>
  Вы можете задать для Emacs аргументы действия, когда вы возвращаетесь
в него после приостановки.  Чтобы подготовиться к этому, поместите в ваш
файл <TT>`.emacs'</TT> следующий код (see section <A HREF="emacs_36.html#SEC449">Ловушки</A>):



<PRE>
(add-hook 'suspend-hook 'resume-suspend-hook)
(add-hook 'suspend-resume-hook 'resume-process-args)
</PRE>

<P>
  Для дальнейшей подготовки вы должны выполнить сценарий оболочки,
<TT>`emacs.csh'</TT> (если вы используете в качестве оболочки csh) или
<TT>`emacs.bash'</TT> (если вы пользуетесь bash).  Эти сценарии определяют
псевдоним с именем <CODE>edit</CODE>, который будет возвращать в Emacs,
передавая ему новые аргументы командной строки, например файлы для
редактирования.


<P>
  Когда вы возвращаетесь в Emacs, правильно работают только аргументы
действия.  Аргументы запуска не распознаются -- так или иначе, их
слишком поздно исполнять.


<P>
  Обратите внимание, возврат в Emacs (с аргументами или без) должен
производиться из оболочки, являющейся родительским процессом задания
Emacs.  Именно поэтому <CODE>edit</CODE> -- это псевдоним, а не программа или
сценарий.  Невозможно реализовать команду возврата, которую можно было
бы запускать из подзадач этой оболочки; например, невозможно определить
команду, которую можно было бы сделать значением переменной
<CODE>EDITOR</CODE>.  Следовательно, команда возврата не эквивалентна по
возможностям серверу Emacs (see section <A HREF="emacs_35.html#SEC427">Использование Emacs в качестве сервера</A>).


<P>
  Эти псевдонимы используют сервер Emacs, если оказалось, что он уже
запущен.  Однако, они не могут определить это абсолютно точно.  Они
могут полагать, что сервер все еще запущен, Emacs, потому что файл
<TT>`/tmp/.esrv...'</TT> все так же существует, тогда как в
действительности вы уничтожили тот Emacs.  Если такое происходит,
найдите этот файл и удалите его.




<H2><A NAME="SEC499" HREF="emacs_toc.html#TOC499">Переменные среды</A></H2>
<P>
<A NAME="IDX2735"></A>


<P>
  В этом приложении описано, как Emacs использует переменные среды.
Переменная среды -- это строка, передаваемая операционной системой в
Emacs, а все множество переменных среды называется средой.  Имена
переменных среды регистрозависимы, и для них принято использовать только
заглавные буквы.


<P>
  Так как переменные среды исходят от операционной системы, общего
способа для их установки нет; он зависит от используемой вами
операционной системы и в особенности от оболочки.  Например, так можно
установить переменную среды @env{ORGANIZATION} в значение @samp{не
особая} с использованием bash:



<PRE>
export ORGANIZATION="не особая"
</PRE>

<P>
а так это можно сделать в csh или tcsh:



<PRE>
setenv ORGANIZATION "не особая"
</PRE>

<P>
  Когда Emacs настроен для использования оконной системы X, он наследует
большое число переменных среды из библиотеки X.  Для дальнейшей
информации смотрите документацию по X Windows.




<H3><A NAME="SEC500" HREF="emacs_toc.html#TOC500">Общие переменные</A></H3>

<DL COMPACT>

<DT>@env{AUTHORCOPY}
<DD>
Имя файла, используемое для архива статей, посланных с помощью пакета
GNUS.
<DT>@env{CDPATH}
<DD>
Используется командой <CODE>cd</CODE> для поиска указанного вами каталога,
если вы задали относительное имя.
<DT>@env{DOMAINNAME}
<DD>
Имя домена Internet, где находится машина, на которой запускается Emacs.
Используется пакетом GNUS.
<DT>@env{EMACS_UNIBYTE}
<DD>
<A NAME="IDX2736"></A>
Определение этой переменной среды указывает Emacs производить почти все
процедуры над однобайтными буферами и строками.  Это эквивалентно
использованию в командной строке ключа @option{--unibyte} при каждом
вызове.  See section <A HREF="emacs_38.html#SEC496">Ключи запуска</A>.
<DT>@env{EMACSDATA}
<DD>
Используется для начальной установки переменной <CODE>data-directory</CODE>,
необходимой для нахождения не зависящих от архитектуры компьютера
файлов, поставляемых с Emacs.  Установка этой переменной перекрывает
значение, заданное в файле <TT>`paths.h'</TT> во время сборки Emacs.
<DT>@env{EMACSLOADPATH}
<DD>
Разделенный двоеточиями перечень каталогов, из которых будут загружаться
файлы Emacs Lisp.  Установка этой переменной перекрывает значение,
заданное в файле <TT>`paths.h'</TT> во время сборки Emacs.
<DT>@env{EMACSLOCKDIR}
<DD>
Каталог, в котором Emacs будет помещать файлы блокировки; эти файлы
используются для защиты от одновременного редактирования одних и тех же
файлов разными пользователями.  Установка этой переменной перекрывает
значение, заданное в файле <TT>`paths.h'</TT> во время сборки Emacs.
<DT>@env{EMACSPATH}
<DD>
Каталог, где находятся бинарные файлы, необходимые только Emacs.
Установка этой переменной перекрывает значение, заданное в файле
<TT>`paths.h'</TT> во время сборки Emacs.
<DT>@env{ESHELL}
<DD>
Используется для режима shell, перекрывает переменную среды
@env{SHELL}.
<DT>@env{HISTFILE}
<DD>
Имя файла, в котором сохраняются команды оболочки от одного входа в
систему до другого.  По умолчанию эта переменная равна
<TT>`~/.history'</TT>, если вы используете в качестве оболочки (t)csh,
<TT>`~/.bash_history'</TT>, если вы пользуетесь bash, <TT>`~/.sh_history'</TT>,
если вы пользуетесь ksh, и <TT>`~/.history'</TT> в остальных случаях.
<DT>@env{HOME}
<DD>
Положение файлов пользователя в дереве каталогов; используется для
раскрытия имен файлов, начинающихся с тильды (<TT>`~'</TT>).  В MS-DOS это
по умолчанию каталог, откуда Emacs был запущен, исключая завершающий
<SAMP>`/bin'</SAMP>, если он присутствует.
<DT>@env{HOSTNAME}
<DD>
Имя машины, на которой запущен Emacs.
<DT>@env{INCPATH}
<DD>
Разделенный двоеточиями перечень каталогов.  Используется пакетом
<CODE>complete</CODE> для поиска файлов.
<DT>@env{INFOPATH}
<DD>
Разделенный двоеточиями перечень каталогов, содержащих Info-файлы.
Установка этой переменной перекрывает значение, заданное в файле
<TT>`paths.el'</TT> во время сборки Emacs.
<DT>@env{LANG}
<DD>
<DT>@env{LC_ALL}
<DD>
<DT>@env{LC_CTYPE}
<DD>
Предпочитаемый пользователем регион.  Имя региона, содержащее
<SAMP>`8859-<VAR>n</VAR>'</SAMP>, <SAMP>`8859_<VAR>n</VAR>'</SAMP> или <SAMP>`8859<VAR>n</VAR>'</SAMP>, где
<VAR>n</VAR> находится между 1 и 4, автоматически задает при запуске Emacs
языковую среду <SAMP>`Latin-<VAR>n</VAR>'</SAMP>.  Если <VAR>n</VAR> равно 9, это задает
<SAMP>`Latin-5'</SAMP>.
<DT>@env{LOGNAME}
<DD>
Имя пользователя.  Смотрите также @env{USER}.
<DT>@env{MAIL}
<DD>
Имя системного входного почтового ящика для этого пользователя.
<DT>@env{MAILRC}
<DD>
Имя файла почтовых псевдонимов.  По умолчанию это <TT>`~/.mailrc'</TT>.
<DT>@env{MH}
<DD>
Имя файла установок системы mh.  По умолчанию это <TT>`~/.mh_profile'</TT>.
<DT>@env{NAME}
<DD>
Действительное имя пользователя.
<DT>@env{NNTPSERVER}
<DD>
Имя сервера новостей.  Используется пакетами mh и GNUS.
<DT>@env{ORGANIZATION}
<DD>
Название организации, к которой вы принадлежите.  Используется пакетом
GNUS для установки поля `Organization:' в заголовках ваших
сообщений.
<DT>@env{PATH}
<DD>
Разделенный двоеточиями перечень каталогов, в которых находятся
исполняемые файлы. (В MS-DOS этот перечень разделяется точками с
запятой.)  Это значение используется для установки переменной Emacs Lisp
<CODE>exec-path</CODE>; лучше использовать именно эту переменную.
<DT>@env{PWD}
<DD>
Если эта переменная установлена, то она задает каталог по умолчанию при
запуске Emacs.
<DT>@env{REPLYTO}
<DD>
Если эта переменная установлена, то она задает первоначальное значение
переменной <CODE>mail-default-reply-to</CODE>.  See section <A HREF="emacs_31.html#SEC341">Поля заголовка сообщения</A>.
<DT>@env{SAVEDIR}
<DD>
Имя каталога, в котором по умолчанию сохраняются статьи новостей.
Используется пакетом GNUS.
<DT>@env{SHELL}
<DD>
Имя интерпретатора, используемого для разбора и выполнения программ,
запускаемых из Emacs.
<DT>@env{TERM}
<DD>
Название терминала, на котором запущен Emacs.  Вы обязаны установить эту
переменную, если Emacs запускается не в пакетном режиме.  В MS-DOS по
умолчанию принимается значение <SAMP>`internal'</SAMP>, что означает встроенную
эмуляцию терминала, которая управляет собственным дисплеем данной
машины.
<DT>@env{TERMCAP}
<DD>
Имя файла библиотеки termcap, описывающей, каким образом можно
программировать терминал, заданный переменной @env{TERM}.  По умолчанию
это <TT>`/etc/termcap'</TT>.
<DT>@env{TMPDIR}
<DD>
Используется пакетом Emerge в качестве префикса для временных файлов.
<DT>@env{TZ}
<DD>
Задает текущий часовой пояс и, возможно, информацию о сезонном переводе
времени.  В MS-DOS значение по умолчанию основывается на коде страны;
подробности смотрите в файле <TT>`msdos.c'</TT>.
<DT>@env{USER}
<DD>
Имя пользователя.  Смотрите также @env{LOGNAME}.  В MS-DOS, значением по
умолчанию считается <SAMP>`root'</SAMP>.
<DT>@env{VERSION_CONTROL}
<DD>
Используется для первоначальной установки переменной
<CODE>version-control</CODE> (see section <A HREF="emacs_19.html#SEC113">Одиночные или нумерованные резервные файлы</A>).
</DL>



<H3><A NAME="SEC501" HREF="emacs_toc.html#TOC501">Другие различные переменные</A></H3>

<P>
Следующие переменные используются лишь в определенных конфигурациях:


<DL COMPACT>

<DT>@env{COMSPEC}
<DD>
В MS-DOS, имя используемого командного интерпретатора.  Эта переменная
задает значение по умолчанию для переменной среды @env{SHELL}.

<DT>@env{NAME}
<DD>
В MS-DOS значение этой переменной равно значению переменной @env{USER}.

<DT>@env{TEMP}
<DD>
<DT>@env{TMP}
<DD>
В MS-DOS это задает имя каталога для хранения временных файлов.

<DT>@env{EMACSTEST}
<DD>
В MS-DOS это задает файл протокола операций со внутренним эмулятором
терминала.  Это бывает полезно для составления сообщений об ошибках.

<DT>@env{EMACSCOLORS}
<DD>
Используется в системах MS-DOS для раннего установления экранных цветов,
чтобы при запуске Emacs экран не промелькивал в цветах по умолчанию.
Значением этой переменной должен быть состоящий из двух знаков код цвета
букв (первый знак) и цвета фона (второй знак) для начертания по
умолчанию.  Каждый знак должен быть шестнадцатиричным кодом желаемого
цвета на стандартном текстовом дисплее PC.

Дисплей PC обычно поддерживает только восемь цветов фона.  Однако, Emacs
переключает дисплей DOS в такой режим, где для фона можно использовать
все 16 цветов, так что на самом деле работают все четыре бита цвета
фона.

<DT>@env{WINDOW_GFX}
<DD>
Используется при инициализации оконной системы Sun.
</DL>



<H2><A NAME="SEC502" HREF="emacs_toc.html#TOC502">Указание имени дисплея</A></H2>
<P>
<A NAME="IDX2737"></A>
<A NAME="IDX2738"></A>


<P>
  Переменная среды @env{DISPLAY} сообщает всем X-клиентам, включая
Emacs, где нужно отображать их окна.  Ее значение создается
автоматически при обычных обстоятельствах, когда вы включили X-сервер и
запускаете задачи локально.  Но иногда вам может понадобиться указать
дисплей самим; например, если вы заходите на удаленную систему и хотите
запускать программы-клиенты удаленно, но с отображением на вашем
локальном экране.


<P>
  В случае с Emacs, основная причина, по которой люди изменяют дисплей
по умолчанию, состоит в том, чтобы позволить им зайти на другую систему
и запустить в ней Emacs, но отображать его окна на локальном терминале.
Ситуация, когда вам может понадобиться зайти на другую систему,
возникает, к примеру, когда там находятся файлы, которые вы собрались
редактировать, или исполняемый файл Emacs.


<P>
  Переменная среды @env{DISPLAY} имеет следующий синтаксис:
<SAMP>`<VAR>машина</VAR>:<VAR>дисплей</VAR>.<VAR>экран</VAR>'</SAMP>, где <VAR>машина</VAR> ---
это имя машины, где запущен сервер системы X Windows, <VAR>дисплей</VAR> ---
это произвольно присваиваемое число, отличающее ваш сервер (X-терминал)
от других серверов на той же машине, а <VAR>экран</VAR> -- это редко
используемое поле, позволяющее X-серверу контролировать несколько
терминальных экранов.  Точка и поле <VAR>экран</VAR> необязательны.  Если
поле <VAR>экран</VAR> включают, оно обычно равно нулю.


<P>
  Для примера, если ваша машина называется <SAMP>`glasperle'</SAMP>, и ваш
сервер -- первый (и, возможно, единственный) сервер в конфигурации, то
переменная @env{DISPLAY} равна <SAMP>`glasperle:0.0'</SAMP>.


<P>
  Вы можете указать имя дисплея явно при запуске Emacs, либо изменив
переменную @env{DISPLAY}, либо с помощью ключа <SAMP>`-d <VAR>дисплей</VAR>'</SAMP>
или <SAMP>`--display=<VAR>дисплей</VAR>'</SAMP>.  Вот пример:



<PRE>
emacs --display=glasperle:0 &#38;
</PRE>

<P>
  Вы можете подавить прямое использование X Windows с помощью ключа
<SAMP>`-nw'</SAMP>.  Это ключ запуска.  Он велит Emacs отображать, используя на
управляющем терминале обычные знаки ASCII.


<P>
  Иногда установки защиты доступа не позволяют программе с удаленной
системы выводить на ваш локальный дисплей.  В таком случае, попытка
запуска Emacs даст подобное сообщение:



<PRE>
Xlib:  connection to "glasperle:0.0" refused by server
</PRE>

<P>
Вы, вероятно, сможете справиться с этой проблемой, предоставив при
помощи команды <CODE>xhost</CODE> на вашей локальной системе разрешение на
доступ для удаленной машины.




<H2><A NAME="SEC503" HREF="emacs_toc.html#TOC503">Ключи для задания шрифта</A></H2>
<P>
<A NAME="IDX2739"></A>


<P>
  По умолчанию Emacs отображает текст шрифтом с именем <SAMP>`9x15'</SAMP>, в
котором каждый знак имеет ширину девять и высоту пятнадцать пикселей.
Вы можете указать в командной строке другой шрифт с помощью ключа
<SAMP>`-fn <VAR>имя</VAR>'</SAMP>.


<DL COMPACT>

<DT><SAMP>`-fn <VAR>имя</VAR>'</SAMP>
<DD>
Использовать в качестве шрифта по умолчанию шрифт с указанным
<VAR>именем</VAR>.

<DT><SAMP>`--font=<VAR>имя</VAR>'</SAMP>
<DD>
<SAMP>`--font'</SAMP> -- это синоним <SAMP>`-fn'</SAMP>.
</DL>

<P>
  В X Windows каждый шрифт обладает длинным именем, состоящим из
одиннадцати слов или чисел, разделенных дефисами.  У некоторых шрифтов
кроме этого есть и более короткие псевдонимы -- <SAMP>`9x15'</SAMP> один из
таких псевдонимов.  Emacs допускает оба вида имен.  Вы можете
использовать шаблоны имен шрифтов; тогда Emacs позволит X Windows выбрать
один из шрифтов, соответствующих шаблону.  Вот пример, в котором
задается шрифт, чьим псевдонимом, как оказывается, является <SAMP>`6x13'</SAMP>:



<PRE>
emacs -fn "-misc-fixed-medium-r-semicondensed--13-*-*-*-c-60-iso8859-1" &#38;
</PRE>

<P>
Вы также можете указать шрифт в вашем файле <TT>`.Xdefaults'</TT>:



<PRE>
emacs.font: -misc-fixed-medium-r-semicondensed--13-*-*-*-c-60-iso8859-1
</PRE>

<P>
  Полное имя шрифта имеет следующий формат:



<PRE>
-<VAR>производитель</VAR>-<VAR>семейство</VAR>-<VAR>насыщенность</VAR>-<VAR>наклон</VAR>-<VAR>тип_ширины</VAR>-<VAR>стиль</VAR>...
...-<VAR>пиксели</VAR>-<VAR>высота</VAR>-<VAR>гориз</VAR>-<VAR>верт</VAR>-<VAR>пропорциональность</VAR>-<VAR>ширина</VAR>-<VAR>кодировка</VAR>
</PRE>

<DL COMPACT>

<DT><VAR>семейство</VAR>
<DD>
Название семейства шрифтов -- например, <SAMP>`courier'</SAMP>.
<DT><VAR>насыщенность</VAR>
<DD>
Обычно это <SAMP>`bold'</SAMP>, <SAMP>`medium'</SAMP> или <SAMP>`light'</SAMP>.  В именах
некоторых шрифтов здесь могут появляться и другие слова.
<DT><VAR>наклон</VAR>
<DD>
Это <SAMP>`r'</SAMP> (романский), <SAMP>`i'</SAMP> (курсив), <SAMP>`o'</SAMP> (наклонный),
<SAMP>`ri'</SAMP> (обратный курсив) или <SAMP>`ot'</SAMP> (другое).
<DT><VAR>тип_ширины</VAR>
<DD>
Обычно это <SAMP>`condensed'</SAMP>, <SAMP>`extended'</SAMP>, <SAMP>`semicondensed'</SAMP> или
<SAMP>`normal'</SAMP>.  В именах некоторых шрифтов здесь могут появляться и
другие слова.
<DT><VAR>стиль</VAR>
<DD>
Это необязательное имя дополнительного стиля.  Обычно оно пусто -- в
большинстве длинных имен шрифтов на этом месте стоят два дефиса подряд.
<DT><VAR>пиксели</VAR>
<DD>
Высота шрифта в пикселях.
<DT><VAR>высота</VAR>
<DD>
Это высота шрифта на экране, измеряемая в десятых долях принтерной точки
--- приблизительно 1/720 дюйма.  Другими словами, это высота шрифта в
точках, умноженная на десять.  Для данного вертикального разрешения
<VAR>высота</VAR> и <VAR>пиксели</VAR> пропорциональны; поэтому обычно указывают
лишь одно из двух, оставляя второе как <SAMP>`*'</SAMP>.
<DT><VAR>гориз</VAR>
<DD>
Горизонтальное разрешение экрана, для которого предназначен этот шрифт,
в точках на дюйм.
<DT><VAR>верт</VAR>
<DD>
Вертикальное разрешение экрана, для которого предназначен этот шрифт, в
точках на дюйм.  Обычно разрешение шрифтов, установленных в вашей
системе соответствует разрешению вашего экрана; следовательно, как
правило, для этого поля и поля <VAR>гориз</VAR> вы пишете <SAMP>`*'</SAMP>.
<DT><VAR>пропорциональность</VAR>
<DD>
Это может быть <SAMP>`m'</SAMP> (monospace), <SAMP>`p'</SAMP> (proportional) или
<SAMP>`c'</SAMP> (character cell).  Emacs может использовать шрифты <SAMP>`m'</SAMP> и
<SAMP>`c'</SAMP>.
<DT><VAR>ширина</VAR>
<DD>
Это средняя ширина знака, в пикселях, умноженных на десять.
<DT><VAR>кодировка</VAR>
<DD>
Изображаемый этим шрифтом набор знаков.  Обычно вам нужно использовать
<SAMP>`iso8859-5'</SAMP>.
</DL>

<P>
  Используйте только равноширинные шрифты -- то есть такие, в которых
все знаки имеют одинаковую ширину; Emacs пока не умеет правильно
отображать шрифты переменной ширины.  Любой шрифт с буквой <SAMP>`m'</SAMP> или
<SAMP>`c'</SAMP> в поле длинного имени <VAR>пропорциональность</VAR> ---
равноширинный.  Вот как использовать программу @command{xlsfonts} для
получения списка всех доступных на вашей системе равноширинных шрифтов:



<PRE>
xlsfonts -fn '*x*' | egrep "^[0-9]+x[0-9]+"
xlsfonts -fn '*-*-*-*-*-*-*-*-*-*-*-m*'
xlsfonts -fn '*-*-*-*-*-*-*-*-*-*-*-c*'
</PRE>

<P>
Чтобы просмотреть, как выглядит конкретный шрифт, используйте команду
<CODE>xfd</CODE>.  Например,



<PRE>
xfd -fn 6x13
</PRE>

<P>
покажет все знаки шрифта <SAMP>`6x13'</SAMP>.


<P>
  Во время работы Emacs вы можете поменять шрифт текущего фрейма
(see section <A HREF="emacs_22.html#SEC186">Установка параметров фрейма</A>) или определенного сорта текста
(see section <A HREF="emacs_22.html#SEC189">Использование разных начертаний</A>).




<H2><A NAME="SEC504" HREF="emacs_toc.html#TOC504">Параметры для задания цветов</A></H2>
<P>
<A NAME="IDX2740"></A>


<P>
  Если у вас есть цветной дисплей, вы можете указать, какие цвета должны
использоваться для различных частей экрана Emacs.  Чтобы узнать, какие
цвета доступны в вашей системе, посмотрите файл
<TT>`/usr/lib/X11/rgb.txt'</TT>.  Если вы не указали цвета, по умолчанию фон
будет белым, а все остальное -- черным.  На монохромном дисплее, текст
будет черным, фон будет белым, а рамка -- серой, если это
поддерживается дисплеем.


<P>
  Вот список ключей для задания цветов:


<DL COMPACT>

<DT><SAMP>`-fg <VAR>цвет</VAR>'</SAMP>
<DD>
<DT><SAMP>`--foreground-color=<VAR>цвет</VAR>'</SAMP>
<DD>
Задает цвет текста.
<DT><SAMP>`-bg <VAR>цвет</VAR>'</SAMP>
<DD>
<DT><SAMP>`--background-color=<VAR>цвет</VAR>'</SAMP>
<DD>
Задает цвет фона.
<DT><SAMP>`-bd <VAR>цвет</VAR>'</SAMP>
<DD>
<DT><SAMP>`--border-color=<VAR>цвет</VAR>'</SAMP>
<DD>
Задает цвет рамки в X-окна.
<DT><SAMP>`-cr <VAR>цвет</VAR>'</SAMP>
<DD>
<DT><SAMP>`--cursor-color=<VAR>цвет</VAR>'</SAMP>
<DD>
Задает цвет курсора, показывающего положение точки.
<DT><SAMP>`-ms <VAR>цвет</VAR>'</SAMP>
<DD>
<DT><SAMP>`--mouse-color=<VAR>цвет</VAR>'</SAMP>
<DD>
Задает цвет указателя мыши, когда он находится во фрейме Emacs.
<DT><SAMP>`-r'</SAMP>
<DD>
<DT><SAMP>`--reverse-video'</SAMP>
<DD>
Инверсное изображение -- обменять цвета текста и фона.
</DL>

<P>
  Например, чтобы получить коралловый указатель мыши и синевато-серый
текстовый курсор, введите:



<PRE>
emacs -ms coral -cr 'slate blue' &#38;
</PRE>

<P>
  Вы можете инвертировать цвета текста и фона с помощью ключа <SAMP>`-r'</SAMP>
или через ресурс X Windows <SAMP>`reverseVideo'</SAMP>.




<H2><A NAME="SEC505" HREF="emacs_toc.html#TOC505">Параметры геометрии окна</A></H2>
<P>
<A NAME="IDX2741"></A>


<P>
  Ключ <SAMP>`-geometry'</SAMP> управляет положением начального фрейма Emacs.
Формат для указания геометрии окна такой:


<DL COMPACT>

<DT><SAMP>`-g <VAR>ширина</VAR>x<VAR>высота</VAR>{+-}<VAR>сдвиг-по-x</VAR>{+-}<VAR>сдвиг-по-y</VAR>'</SAMP>
<DD>
Задает размеры окна, <VAR>ширину</VAR> и <VAR>высоту</VAR> (измеряемые в знаковых
столбцах и строках), и положение <VAR>сдвиг-по-x</VAR> и <VAR>сдвиг-по-y</VAR>
(измеряемые в пикселях).

<DT><SAMP>`--geometry=<VAR>ширина</VAR>x<VAR>высота</VAR>{+-}<VAR>сдвиг-по-x</VAR>{+-}<VAR>сдвиг-по-y</VAR>'</SAMP>
<DD>
Это другой способ написать то же самое.
</DL>

<P>
<CODE>{+-}</CODE> означает плюс или минус.  Знак плюс перед
<VAR>сдвиг-по-x</VAR> говорит, что это расстояние от левого края экрана; знак
минус говорит, что это расстояние от правого края.  Знак плюс перед
<VAR>сдвиг-по-y</VAR> обозначает, что это расстояние от верхнего края экрана,
а знак минус -- что это расстояние от нижнего края.  Сами значения
<VAR>сдвиг-по-x</VAR> и <VAR>сдвиг-по-y</VAR> могут быть положительными или
отрицательными, но это не меняет их смысл, только направление.


<P>
  Emacs интерпретирует геометрию в тех же единицах, что и <CODE>xterm</CODE>.
<VAR>ширина</VAR> и <VAR>высота</VAR> измеряются в знаках, так что фрейм с крупным
шрифтом будет больше, чем фрейм с мелким шрифтом.  <VAR>Сдвиг-по-x</VAR> и
<VAR>сдвиг-по-y</VAR> измеряются в пикселях.


<P>
  Так как последние две строки фрейма занимают строка режима и
эхо-область, высота начального текстового окна на 2 меньше высоты, в
указанной вами геометрии.  В версиях Emacs, не использующих X-toolkit,
полоска меню также занимает одну строку из указанного числа.


<P>
  Вы не обязаны писать все поля при задании геометрии.


<P>
  Если вы опустите и <VAR>сдвиг-по-x</VAR>, и <VAR>сдвиг-по-y</VAR>, программа
управления окнами сама решит, где размещать фрейм Emacs, возможно,
позволяя вам поместить его с помощью мыши.  Например, <SAMP>`164x55'</SAMP>
задает окно шириной 164 столбцов, достаточной для двух расположенных
рядом окон обычной ширины, и высотой 55 строк.


<P>
  По умолчанию ширина равна 80 столбцам, а высота -- 40 строкам.  Вы
можете не задавать ширину или высоту, или и то, и другое.  Если описание
геометрии начинается целым числом, Emacs интерпретирует его как ширину.
Если вы начнете описание с <SAMP>`x'</SAMP>, за которым идет число, Emacs
воспримет это как высоту.  Таким образом, <SAMP>`81'</SAMP> задает только
ширину; <SAMP>`x45'</SAMP> задает только высоту.


<P>
  Если вы написали в начале <SAMP>`+'</SAMP> или <SAMP>`-'</SAMP>, это начинает описание
сдвига, что означает, что оба размера опущены.  Таким образом, <SAMP>`-3'</SAMP>
задает только <VAR>сдвиг-по-x</VAR>.  (Если вы задали лишь один сдвиг, это
всегда <VAR>сдвиг-по-x</VAR>.)  <SAMP>`+3-3'</SAMP> задает и <VAR>сдвиг-по-x</VAR>, и
<VAR>сдвиг-по-y</VAR>, помещая фрейм возле нижнего левого края экрана.


<P>
  Вы можете указать значения по умолчанию для любого из этих полей в
файле <TT>`.Xdefaults'</TT>, ключ <SAMP>`--geometry'</SAMP> тогда перекрывает эти
установки.




<H2><A NAME="SEC506" HREF="emacs_toc.html#TOC506">Внутренние и внешние рамки</A></H2>
<P>
<A NAME="IDX2742"></A>


<P>
  Фрейм Emacs имеет внутреннюю и внешнюю рамки.  Внутренняя рамка ---
это дополнительная полоска цвета фона по четырем сторонам фрейма.
Внутреннюю рамку добавляет сам Emacs.  Внешняя рамка добавляется
программой управления окнами за пределами внутренней рамки; она может
содержать различные кнопки, на которые вы можете щелкнуть для
перемещения или минимизирования этого окна.


<DL COMPACT>

<DT><SAMP>`-ib <VAR>ширина</VAR>'</SAMP>
<DD>
<DT><SAMP>`--internal-border=<VAR>ширина</VAR>'</SAMP>
<DD>
Задает <VAR>ширину</VAR> внутренней рамки.

<DT><SAMP>`-bw <VAR>ширина</VAR>'</SAMP>
<DD>
<DT><SAMP>`--border-width=<VAR>ширина</VAR>'</SAMP>
<DD>
Задает <VAR>ширину</VAR> внешней рамки.
</DL>

<P>
  Когда вы задаете размер фрейма, ширина рамок не учитывается.  Позиция
фрейма отсчитывается от внешней границы внешней рамки.


<P>
   Для задания внутренней рамки шириной <VAR>n</VAR> пикселей используйте
ключ <SAMP>`-ib <VAR>n</VAR>'</SAMP>.  По умолчанию это 1.  Для задания внешней рамки
шириной <VAR>n</VAR> пикселей используйте ключ <SAMP>`-bw <VAR>n</VAR>'</SAMP> (хотя
программа управления окнами может и не учесть заданное вами число).  По
умолчанию ширина внешней рамки равна двум.




<H2><A NAME="SEC507" HREF="emacs_toc.html#TOC507">Заголовки фреймов</A></H2>

<P>
  Фрейм Emacs может иметь заголовок или не иметь его.  Заголовок фрейма,
если задан, появляется в оформлении окна и пиктограммах как имя этого
фрейма.  Если заголовок фрейма Emacs не задан, по умолчанию он будет
составлен из имени исполняемой программы и имени вашей машины
(если есть только один фрейм), или им будет имя буфера в выбранном окне
(если есть несколько фреймов).


<P>
  Вы можете указать заголовок начального фрейма Emacs с помощью ключа
командной строки:


<DL COMPACT>

<DT><SAMP>`-title <VAR>заголовок</VAR>'</SAMP>
<DD>
<DT><SAMP>`--title=<VAR>заголовок</VAR>'</SAMP>
<DD>
<DT><SAMP>`-T <VAR>заголовок</VAR>'</SAMP>
<DD>
Задает <VAR>заголовок</VAR> начального фрейма Emacs.
</DL>

<P>
  Ключ <SAMP>`--name'</SAMP> (see section <A HREF="emacs_38.html#SEC509">X-ресурсы</A>) также задает заголовок
начального фрейма Emacs.




<H2><A NAME="SEC508" HREF="emacs_toc.html#TOC508">Пиктограммы</A></H2>
<P>
<A NAME="IDX2743"></A>


<P>
  Большинство программ управления окнами позволяют пользователю
"минимизировать" фрейм, убирая его из виду и оставляя на его месте
небольшое отличительное окно-"пиктограмму".  Если щелкнуть на
окне-пиктограмме, снова появится сам фрейм.  Если у вас одновременно
запущено несколько клиентов, вы можете избежать загромождения экрана,
минимизировав большинство из них.


<DL COMPACT>

<DT><SAMP>`-i'</SAMP>
<DD>
<DT><SAMP>`--icon-type'</SAMP>
<DD>
Использовать в качестве пиктограммы Emacs портрет гну.

<DT><SAMP>`-iconic'</SAMP>
<DD>
<DT><SAMP>`--iconic'</SAMP>
<DD>
Запустить Emacs в минимизированном виде.
</DL>

<P>
  Ключ <SAMP>`-i'</SAMP> или <SAMP>`--icon-type'</SAMP> говорит Emacs использовать
пиктограмму, содержащую рисунок с изображением гну GNU.  Если этот ключ
не задан, Emacs предоставляет выбор пиктограммы программе управления
окнами -- обычно это просто небольшой прямоугольник с заголовком
фрейма.


<P>
  Ключ <SAMP>`-iconic'</SAMP> велит Emacs запускаться как пиктограмма, а не
открывая фрейм обычным способом.  В таком случае пиктограмма только
показывает, что Emacs запустился; обычный текстовый фрейм не появляется,
пока вы не деминимизируете его.




<H2><A NAME="SEC509" HREF="emacs_toc.html#TOC509">X-ресурсы</A></H2>
<P>
<A NAME="IDX2744"></A>


<P>
  Запущенные в системе X Windows программы организуют свои
пользовательские параметры в иерархию классов и ресурсов.  Вы можете
задать для этих параметров значения по умолчанию в вашем файле
X-ресурсов, обычно называемом <TT>`~/.Xdefaults'</TT>.


<P>
  Каждая строка в этом файле задает значение одного параметра или набора
связанных параметров для одной или нескольких программ (возможно, даже
для всех программ).


<P>
  Программы определяют именованные ресурсы с конкретным смыслом.  Они
также определяют, как ресурсы группируются в именованные классы.
Например, ресурс <SAMP>`internalBorder'</SAMP> в Emacs контролирует ширину
внутренней рамки, а ресурс <SAMP>`borderWidth'</SAMP> -- ширину внешней рамки.
Оба этих ресурса являются частью класса <SAMP>`BorderWidth'</SAMP>.  В этих
именах важен правильный регистр букв.


<P>
  В файле <TT>`~/.Xdefaults'</TT> вы можете задать значение для одного
ресурса в каждой строке, следующим образом:



<PRE>
emacs.borderWidth: 2
</PRE>

<P>
Или вы можете использовать имя класса, чтобы задать то же значение для
всех ресурсов этого класса.  Вот пример:



<PRE>
emacs.BorderWidth: 2
</PRE>

<P>
  Если вы задали значение для класса, оно становится значением по
умолчанию для всех ресурсов этого класса.  Вы также можете указать
значения для отдельных ресурсов; для этих конкретных ресурсов они
перекроют значение, общее для класса.  Таким образом, следующий пример
задает 2 как ширину всех рамок по умолчанию, но заменяет это значение на
4 для внешней рамки:



<PRE>
emacs.Borderwidth: 2
emacs.borderwidth: 4
</PRE>

<P>
  Порядок, в котором эти строки появляются в этом файле, не играет роли.
Также, ключи командной строки всегда обладают приоритетом перед файлом
X-ресурсов.


<P>
  Строка <SAMP>`emacs'</SAMP> в примере выше также является именем ресурса.  На
самом деле, она представляет собой имя исполняемого файла, который вы
использовали для запуска Emacs.  Если Emacs установлен под другим
именем, он ищет ресурсы с этим именем, а не с <SAMP>`emacs'</SAMP>.


<DL COMPACT>

<DT><SAMP>`-name <VAR>имя</VAR>'</SAMP>
<DD>
<DT><SAMP>`--name=<VAR>имя</VAR>'</SAMP>
<DD>
Использовать <VAR>имя</VAR> в качестве имени ресурса (и заголовка) для
начального фрейма Emacs.  Этот ключ не влияет на остальные фреймы, но
программы на Лиспе могут указать при создании фрейма его имя.

Если вы не задали этот ключ, по умолчанию в качестве имени ресурса
используется имя исполняемого файла Emacs.

<DT><SAMP>`-xrm <VAR>значение-ресурса</VAR>'</SAMP>
<DD>
<DT><SAMP>`--xrm=<VAR>значение-ресурса</VAR>'</SAMP>
<DD>
Устанавливает значения X-ресурсов для данного задания Emacs (смотрите
ниже).
</DL>

<P>
  Для согласованности, <SAMP>`-name'</SAMP> также задает имя для использования
со значениями других ресурсов, не принадлежащих какому-то определенному
фрейму.


<P>
  Ресурсы, именующие любой запущенный Emacs, также образуют класс; его
имя -- <SAMP>`Emacs'</SAMP>.  Если вы напишете <SAMP>`Emacs'</SAMP> вместо
<SAMP>`emacs'</SAMP>, то такой ресурс будет относиться ко всем фреймам во всех
заданиях Emacs, вне зависимости от заголовков фреймов и имени
исполняемого файла.  Вот пример:



<PRE>
Emacs.BorderWidth: 2
Emacs.borderWidth: 4
</PRE>

<P>
  Вы можете указать строку значений дополнительных ресурсов для Emacs с
помощью ключа командной строки @option{-xrm=<VAR>ресурсы</VAR>}.  Текст
<VAR>ресурсы</VAR> должен иметь тот же формат, что вы используете в файле
X-ресурсов.  Чтобы задать спецификации нескольких ресурсов, разделите их
переводом строки, как вы сделали бы в файле.  Вы также можете
использовать <SAMP>`#include "<VAR>имя-файла</VAR>"'</SAMP> для включения файла
ресурсов.  Значения ресурсов, заданные через @option{-xrm}, имеет
приоритет перед всеми остальными спецификациями.


<P>
  Следующая таблица перечисляет имена ресурсов, обозначающих параметры
для Emacs, каждый со своим классом:


<DL COMPACT>

<DT><CODE>background</CODE> (class <CODE>Background</CODE>)
<DD>
Название цвета фона.

<DT><CODE>bitmapIcon</CODE> (class <CODE>BitmapIcon</CODE>)
<DD>
Если это <SAMP>`on'</SAMP>, использовать растровую пиктограмму (изображение
гну), если это <SAMP>`off'</SAMP>, предоставить право выбора пиктограммы
программе управления окнами.

<DT><CODE>borderColor</CODE> (class <CODE>BorderColor</CODE>)
<DD>
Название цвета внешней рамки.

<DT><CODE>borderWidth</CODE> (class <CODE>BorderWidth</CODE>)
<DD>
Ширина внешней рамки в пикселях.

<DT><CODE>cursorColor</CODE> (class <CODE>Foreground</CODE>)
<DD>
Название цвета для текстового курсора (точки).

<DT><CODE>font</CODE> (class <CODE>Font</CODE>)
<DD>
Имя шрифта для текста (или имя набора шрифтов, see section <A HREF="emacs_23.html#SEC208">Наборы шрифтов</A>).

<DT><CODE>foreground</CODE> (class <CODE>Foreground</CODE>)
<DD>
Название цвета для текста.

<DT><CODE>geometry</CODE> (class <CODE>Geometry</CODE>)
<DD>
Размер и положение окна.  Будьте осторожны, не определяйте этот ресурс
как <SAMP>`emacs*geometry'</SAMP>, потому что это может повлиять на отдельные
меню, а не только на сам фрейм Emacs.

Если этот ресурс задает положение, то оно относится только начальному
фрейму Emacs (или, в случае ресурса для определенного фрейма, только для
этого фрейма).  Однако, если здесь задан размер, то он относится ко всем
фреймам.

<DT><CODE>iconName</CODE> (class <CODE>Title</CODE>)
<DD>
Заголовок для отображения на пиктограмме.

<DT><CODE>internalBorder</CODE> (class <CODE>BorderWidth</CODE>)
<DD>
Ширина внутренней рамки в пикселях.

<DT><CODE>menuBar</CODE> (class <CODE>MenuBar</CODE>)
<DD>
Если <SAMP>`on'</SAMP>, показывать во фреймах полоски меню; если <SAMP>`off'</SAMP>, не
показывать.

<DT><CODE>minibuffer</CODE> (class <CODE>Minibuffer</CODE>)
<DD>
Если <SAMP>`none'</SAMP>, не создавать в этом фрейме минибуфер.  Вместо этого
будет использоваться отдельный фрейм минибуфера.

<DT><CODE>paneFont</CODE> (class <CODE>Font</CODE>)
<DD>
Имя шрифта для заголовков поля меню, в версиях Emacs, не использующих
библиотеку виджетов.

<DT><CODE>pointerColor</CODE> (class <CODE>Foreground</CODE>)
<DD>
Цвет указателя мыши.

<DT><CODE>reverseVideo</CODE> (class <CODE>ReverseVideo</CODE>)
<DD>
Если <SAMP>`on'</SAMP>, обменять цвета фона и текст, если <SAMP>`off'</SAMP>,
использовать цвета, как они заданы.

<DT><CODE>verticalScrollBars</CODE> (class <CODE>ScrollBars</CODE>)
<DD>
Показывать во фреймах полоски прокрутки, если это <SAMP>`on'</SAMP>; показывать,
если это <SAMP>`off'</SAMP>.

<DT><CODE>selectionFont</CODE> (class <CODE>Font</CODE>)
<DD>
Имя шрифта для пунктов всплывающих меню в версиях Emacs, не использующих
библиотеку виджетов.  (Для версий, использующих библиотеку виджетов,
смотрите section <A HREF="emacs_38.html#SEC510">X-ресурсы для меню Lucid</A>, а также section <A HREF="emacs_38.html#SEC511">X-ресурсы для меню Motif</A>.)

<DT><CODE>title</CODE> (class <CODE>Title</CODE>)
<DD>
Название для отображения в заголовке начального фрейма Emacs.
</DL>

<P>
  Это ресурсы для изменения внешнего вида определенных начертаний
(see section <A HREF="emacs_22.html#SEC189">Использование разных начертаний</A>):


<DL COMPACT>

<DT><CODE><VAR>начертание</VAR>.attributeFont</CODE>
<DD>
Шрифт для заданного <VAR>начертания</VAR>.
<DT><CODE><VAR>начертание</VAR>.attributeForeground</CODE>
<DD>
Цвет текста для заданного <VAR>начертания</VAR>.
<DT><CODE><VAR>начертание</VAR>.attributeBackground</CODE>
<DD>
Цвет фона для заданного <VAR>начертания</VAR>.
<DT><CODE><VAR>начертание</VAR>.attributeUnderline</CODE>
<DD>
Флаг подчеркивания для заданного <VAR>начертания</VAR>.  Если <SAMP>`on'</SAMP> или
<SAMP>`true'</SAMP>, то подчеркивать.
</DL>



<H2><A NAME="SEC510" HREF="emacs_toc.html#TOC510">X-ресурсы для меню Lucid</A></H2>
<P>
<A NAME="IDX2745"></A>
<A NAME="IDX2746"></A>


<P>
  Если установленный на вашей системе Emacs был собран с использованием
библиотеки с виджетами меню Lucid, то полоска меню -- это отдельный
виджет, и у него свои ресурсы.  Имена этих ресурсов содержат строку
<SAMP>`pane.menubar'</SAMP> (как всегда, после строки вызова Emacs или
<SAMP>`Emacs'</SAMP>, что обозначает любой вызов).  Задавайте их так:



<PRE>
Emacs.pane.menubar.<VAR>ресурс</VAR>:  <VAR>значение</VAR>
</PRE>

<P>
Например, чтобы задать для пунктов меню шрифт <SAMP>`8x16'</SAMP>, напишите так:



<PRE>
Emacs.pane.menubar.font: 8x16
</PRE>

<P>
Ресурсы для всплывающих меню, а не полоски меню, начинаются с
<SAMP>`menu*'</SAMP> подобным же образом.  Например, чтобы задать для пунктов
всплывающих меню шрифт <SAMP>`8x16'</SAMP>, напишите следующее:



<PRE>
Emacs.menu*.font:	8x16
</PRE>

<P>
Для диалогов вместо <SAMP>`menu'</SAMP> пишите <SAMP>`dialog'</SAMP>:



<PRE>
Emacs.dialog*.font:	8x16
</PRE>

<P>
Опыт показывает, что на некоторых системах вам может понадобиться
добавить перед <SAMP>`pane.menubar'</SAMP> или <SAMP>`menu*'</SAMP> строку
<SAMP>`shell.'</SAMP>.  На некоторых других системах вы должны не добавлять
<SAMP>`shell.'</SAMP>.


<P>
  Вот перечень ресурсов для полоски меню и всплывающих меню:


<DL COMPACT>

<DT><CODE>font</CODE>
<DD>
Шрифт текста пунктов меню.
<DT><CODE>foreground</CODE>
<DD>
Цвет текста.
<DT><CODE>background</CODE>
<DD>
Цвет фона.
<DT><CODE>buttonForeground</CODE>
<DD>
В полоске меню, цвет фона для выделенного пункта.
<DT><CODE>horizontalSpacing</CODE>
<DD>
Горизонтальный промежуток между пунктами.  По умолчанию это 3.
<DT><CODE>verticalSpacing</CODE>
<DD>
Вертикальный промежуток между пунктами.  По умолчанию это 1.
<DT><CODE>arrowSpacing</CODE>
<DD>
Горизонтальный промежуток между стрелкой (обозначающей подменю) и
связанным текстом.  По умолчанию это 10.
<DT><CODE>shadowThickness</CODE>
<DD>
Толщина линии затенения вокруг виджета.
</DL>



<H2><A NAME="SEC511" HREF="emacs_toc.html#TOC511">X-ресурсы для меню Motif</A></H2>
<P>
<A NAME="IDX2747"></A>
<A NAME="IDX2748"></A>


<P>
  Если установленный на вашей системе Emacs был собран с использованием
библиотеки виджетов Motif, то полоска меню -- это отдельный виджет, и у
него свои ресурсы.  Имена этих ресурсов содержат строку
<SAMP>`pane.menubar'</SAMP> (как всегда, после строки вызова Emacs или
<SAMP>`Emacs'</SAMP>, что обозначает любой вызов).  Задавайте их так:



<PRE>
Emacs.pane.menubar.<VAR>подвиджет</VAR>.<VAR>ресурс</VAR>:  <VAR>значение</VAR>
</PRE>

<P>
  Каждая отдельная строка в полоске меню является подвиджетом; имя
подвиджета такое же, что и текст пункта.  Например, слово <SAMP>`Files'</SAMP> в
полоске меню -- это часть подвиджета с именем
<SAMP>`emacs.pane.menubar.Files'</SAMP>.  Вероятнее всего вы захотите задать
одни и те же ресурсы для всей полоски меню.  Чтобы сделать это,
используйте <SAMP>`*'</SAMP> вместо имени конкретного подвиджета.  Например,
чтобы задать для пунктов меню шрифт <SAMP>`8x16'</SAMP>, напишите следующее:



<PRE>
Emacs.pane.menubar.*.fontList:  8x16
</PRE>

<P>
Это также задает значение этого ресурса для подменю.


<P>
  Каждый пункт в подменю полоски меню также имеет собственное имя для
X-ресурсов; например, подменю <SAMP>`Files'</SAMP> имеет пункт, называемый
<SAMP>`Save Buffer'</SAMP>.  Описание ресурса для пункта подменю выглядит так:



<PRE>
Emacs.pane.menubar.popup_*.<VAR>меню</VAR>.<VAR>пункт</VAR>.<VAR>ресурс</VAR>: <VAR>значение</VAR>
</PRE>

<P>
Например, задать шрифт для пункта <SAMP>`Save Buffer'</SAMP> можно следующим
образом:



<PRE>
Emacs.pane.menubar.popup_*.Files.Save Buffer.fontList: 8x16
</PRE>

<P>
Для пункта в подменю второго уровня, таком как <SAMP>`Check Message'</SAMP> в
подменю <SAMP>`Spell'</SAMP> в меню <SAMP>`Edit'</SAMP>, ресурс соответствует такому
шаблону:



<PRE>
Emacs.pane.menubar.popup_*.popup_*.<VAR>меню</VAR>.<VAR>ресурс</VAR>: <VAR>значение</VAR>
</PRE>

<P>
Например,



<PRE>
Emacs.pane.menubar.popup_*.popup_*.Spell.Check Message: <VAR>значение</VAR>
</PRE>

<P>
  Невозможно определить ресурс для всех пунктов полоски меню, не
определяя их также и для подменю.  Поэтому, если вы хотите, чтобы пункты
подменю выглядели не так, как сама полоска меню, вы должны попросить об
этом в два этапа.  Сначала задайте ресурс для всех их; затем
переопределите это значение только для подменю.  Вот пример:



<PRE>
Emacs.pane.menubar.*.fontList:  8x16
Emacs.pane.menubar.popup_*.fontList: 8x16
</PRE>

<P>
Для всплывающих меню используйте <SAMP>`menu*'</SAMP>, а не
<SAMP>`pane.menubar'</SAMP>.  Например, чтобы задать для пунктов всплывающих
меню шрифт <SAMP>`8x16'</SAMP>, напишите вот это:



<PRE>
Emacs.menu*.fontList:  8x16
</PRE>

<P>
  Вот перечень ресурсов для полосок меню и всплывающих меню:


<DL COMPACT>

<DT><CODE>armColor</CODE>
<DD>
Цвет для отображения кнопки со стрелкой.
<DT><CODE>fontList</CODE>
<DD>
Используемый шрифт.
<DT><CODE>marginBottom</CODE>
<DD>
<DT><CODE>marginHeight</CODE>
<DD>
<DT><CODE>marginLeft</CODE>
<DD>
<DT><CODE>marginRight</CODE>
<DD>
<DT><CODE>marginTop</CODE>
<DD>
<DT><CODE>marginWidth</CODE>
<DD>
Количество пространства, которое следует оставить вокруг пункта внутри
рамки.
<DT><CODE>borderWidth</CODE>
<DD>
Ширина рамки вокруг пункта меню с каждой стороны.
<DT><CODE>shadowThickness</CODE>
<DD>
Ширина рамки затенения.
<DT><CODE>bottomShadowColor</CODE>
<DD>
Цвет рамки затенения снизу и справа.
<DT><CODE>topShadowColor</CODE>
<DD>
Цвет рамки затенения слева и сверху.
</DL>

<P><HR><P>
Go to the <A HREF="emacs_1.html">first</A>, <A HREF="emacs_37.html">previous</A>, <A HREF="emacs_39.html">next</A>, <A HREF="emacs_46.html">last</A> section, <A HREF="emacs_toc.html">table of contents</A>.
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script><script type="text/javascript">_uacct = "UA-78697-3"; urchinTracker(); </script></body>
</HTML>
