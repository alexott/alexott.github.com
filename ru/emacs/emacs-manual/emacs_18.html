<HTML>
<HEAD>
<!-- Created by texi2html 1.56k from emacs.texi on 29 October 2002 -->

<TITLE>Руководство по GNU Emacs - Команды для исправления опечаток</TITLE>
</HEAD>
<BODY>
Go to the <A HREF="emacs_1.html">first</A>, <A HREF="emacs_17.html">previous</A>, <A HREF="emacs_19.html">next</A>, <A HREF="emacs_46.html">last</A> section, <A HREF="emacs_toc.html">table of contents</A>.
<P><HR><P>


<H1><A NAME="SEC103" HREF="emacs_toc.html#TOC103">Команды для исправления опечаток</A></H1>
<P>
<A NAME="IDX475"></A>
<A NAME="IDX476"></A>


<P>
  В этой главе мы описываем команды, которые особенно полезны в тех
случаях, когда вы обнаружили в вашем тексте ошибку сразу после того, как
вы ее допустили, или если вы изменили ваши намерения во время сочинения
текста.


<P>
  Наиболее фундаментальная команда для исправления ошибочного
редактирования -- это команда отмены, <KBD>C-x u</KBD> или <KBD>C-_</KBD>.  Эта
команда отменяет одну команду (как правило), часть команды (в случае
<CODE>query-replace</CODE>) или несколько самовставляющихся знаков подряд.
Последовательное повторение команд <KBD>C-_</KBD> или <KBD>C-x u</KBD> отменяет
все более ранние изменения до конца доступной информации отмены.
See section <A HREF="emacs_9.html#SEC28">Отмена сделанных изменений</A>, для получения дальнейших сведений.




<H2><A NAME="SEC104" HREF="emacs_toc.html#TOC104">Уничтожение ваших ошибок</A></H2>

<DL COMPACT>

<DT><KBD><KBD>DEL</KBD></KBD>
<DD>
Удалить последний знак (<CODE>delete-backward-char</CODE>).
<DT><KBD>M-<KBD>DEL</KBD></KBD>
<DD>
Уничтожить последнее слово (<CODE>backward-kill-word</CODE>).
<DT><KBD>C-x <KBD>DEL</KBD></KBD>
<DD>
Уничтожить все до начала предложения (<CODE>backward-kill-sentence</CODE>).
</DL>

<P>
  Символ <KBD>DEL</KBD> (<CODE>delete-backward-char</CODE>) -- наиболее важная
команда исправления.  Она удаляет знак перед точкой.  Когда ее
используют после самовставляющейся знаковой команды, ее можно
рассматривать как отмену этой команды.  Но избегайте ошибочной мысли,
что <KBD>DEL</KBD> -- это универсальный способ отменить команду!


<P>
  Когда ваша ошибка длиннее, чем пара знаков, то может оказаться более
удобным использовать <KBD>M-<KBD>DEL</KBD></KBD> или <KBD>C-x <KBD>DEL</KBD></KBD>.
<KBD>M-<KBD>DEL</KBD></KBD> уничтожает все знаки назад до начала последнего слова,
а <KBD>C-x <KBD>DEL</KBD></KBD> уничтожает назад до начала последнего предложения.
<KBD>C-x <KBD>DEL</KBD></KBD> особенно полезна в случае, когда вы меняете свое
мнение о формулировке текста, который вы пишите.  <KBD>M-<KBD>DEL</KBD></KBD> и
<KBD>C-x <KBD>DEL</KBD></KBD> записывают уничтоженный текст для восстановления с
помощью <KBD>C-y</KBD> и <KBD>M-y</KBD>.  See section <A HREF="emacs_14.html#SEC67">Восстановление</A>.


<P>
  <KBD>M-<KBD>DEL</KBD></KBD> часто полезна, даже когда вы набрали всего несколько
ошибочных знаков, если вы знаете, что запутались и не уверены точно, что
именно вы набрали.  В этом случае вы не можете исправлять с помощью
<KBD>DEL</KBD>, не изучая экран, чтобы увидеть, что же вы сделали.  Часто
уничтожение всего слова и его повторный набор потребует меньших
раздумий.




<H2><A NAME="SEC105" HREF="emacs_toc.html#TOC105">Перестановка текста</A></H2>

<DL COMPACT>

<DT><KBD>C-t</KBD>
<DD>
Переставить два знака (<CODE>transpose-chars</CODE>).
<DT><KBD>M-t</KBD>
<DD>
Переставить два слова (<CODE>transpose-words</CODE>).
<DT><KBD>C-M-t</KBD>
<DD>
Переставить два сбалансированных выражения (<CODE>transpose-sexps</CODE>).
<DT><KBD>C-x C-t</KBD>
<DD>
Переставить две строки (<CODE>transpose-lines</CODE>).
</DL>

<P>
<A NAME="IDX477"></A>
<A NAME="IDX478"></A>
  Распространенная ошибка перестановки двух знаков может быть
исправлена, если они являются соседними, с помощью команды <KBD>C-t</KBD>
(<CODE>transpose-chars</CODE>).  Обычно <KBD>C-t</KBD> переставляет два знака,
стоящие по обе стороны от точки.  Когда она дается в конце строки, то
вместо того, чтобы поменять местами последний знак символ и перевод
строки, что было бы бесполезно, <KBD>C-t</KBD> переставляет последние два
знака на строке.  Так, если вы отловили вашу ошибку перестановки сразу,
вы можете исправить ее просто с помощью <KBD>C-t</KBD>.  Если вы отловили ее
не так быстро, вы должны перевести курсор назад и установить его между
двумя переставленными знаками.  Если вы переставили пробел и последний
знак в слове перед ним, то команды движения по словам служат удобным
способом добраться до этого места.  Однако, обратный поиск (<KBD>C-r</KBD>)
часто бывает самым лучшим способом.  See section <A HREF="emacs_17.html#SEC89">Поиск и замена</A>.


<P>
<A NAME="IDX479"></A>
<A NAME="IDX480"></A>
<A NAME="IDX481"></A>
<A NAME="IDX482"></A>
<A NAME="IDX483"></A>
<A NAME="IDX484"></A>
  <KBD>M-t</KBD> (<CODE>transpose-words</CODE>) переставляет слово перед точкой со
словом после нее.  Она двигает точку вперед через слово, также перемещая
вперед слово, предшествующее точке или содержащее ее.  Знаки пунктуации
между словами не двигаются.  Например, <SAMP>`FOO, BAR'</SAMP> превращается
в <SAMP>`BAR, FOO'</SAMP>, а не в <SAMP>`BAR FOO,'</SAMP>.


<P>
  <KBD>C-M-t</KBD> (<CODE>transpose-sexps</CODE>) -- аналогичная команда для
перестановки двух выражений (see section <A HREF="emacs_27.html#SEC251">Списки и s-выражения</A>), а <KBD>C-x C-t</KBD>
(<CODE>transpose-lines</CODE>) меняет местами строки.  Они работают так же,
как <KBD>M-t</KBD>, за исключением определения деления текста на
синтаксические единицы.


<P>
  Числовой аргумент для команд перестановки работает как счетчик
повторений: он указывает команде перестановки передвинуть знак (слово,
строку, выражение) перед точкой или содержащий ее через несколько других
знаков (слов, строк, выражений).  Например, <KBD>C-u 3 C-t</KBD> передвигает
знак перед точкой вперед через три других знака.  Это эквивалентно
трехкратному повторению <KBD>C-t</KBD>.  <KBD>C-u - 4 M-t</KBD> двигает слово
перед точкой назад через четыре слова.  <KBD>C-u - C-M-t</KBD> отменила бы
действие простой <KBD>C-M-t</KBD>.


<P>
  Числовому аргументу, равному нулю, придается специальное значение (так
как в противном случае команды с нулевым счетчиком повторов должны были
бы ничего не делать): переставить знак (слово, выражение, строку),
оканчивающийся после точки, со знаком (словом, выражением, строкой),
оканчивающимся после метки.




<H2><A NAME="SEC106" HREF="emacs_toc.html#TOC106">Изменение регистра</A></H2>

<DL COMPACT>

<DT><KBD>M-- M-l</KBD>
<DD>
Перевести последнее слово в нижний регистр.  Отметим, что <KBD>Meta--</KBD>
означает Meta-минус.
<DT><KBD>M-- M-u</KBD>
<DD>
Перевести последнее слово в верхний регистр.
<DT><KBD>M-- M-c</KBD>
<DD>
Перевести последнее слово в нижний регистр с первой заглавной буквой.
</DL>

<P>
<A NAME="IDX485"></A>
<A NAME="IDX486"></A>
<A NAME="IDX487"></A>
  Набор слова в неправильном регистре -- очень распространенная ошибка.
Поэтому команды изменения регистра <KBD>M-l</KBD>, <KBD>M-u</KBD> и <KBD>M-c</KBD>
обладают специальным свойством, когда используются с отрицательным
аргументом: они не передвигают курсор.  Как только вы увидите, что
последнее слово набрано неправильно, вы можете просто изменить в нем
регистр и продолжать набор.  See section <A HREF="emacs_26.html#SEC227">Команды преобразования регистра</A>.




<H2><A NAME="SEC107" HREF="emacs_toc.html#TOC107">Поиск и исправление орфографических ошибок</A></H2>
<P>
<A NAME="IDX488"></A>
<A NAME="IDX489"></A>
<A NAME="IDX490"></A>
<A NAME="IDX491"></A>


<P>
  Этот раздел описывает команды для проверки правописания отдельного
слова или части буфера.  Эти команды работают с программой проверки
правописания Ispell, которая не является частью Emacs.


<DL COMPACT>

<DT><KBD>M-x flyspell-mode</KBD>
<DD>
Включает режим Flyspell, который выделяет все неправильно написанные
слова.
<DT><KBD>M-$</KBD>
<DD>
Проверяет и исправляет написание слова в точке (<CODE>ispell-word</CODE>).
<DT><KBD>M-<KBD>TAB</KBD></KBD>
<DD>
Завершает слово перед точкой, основываясь на орфографическом словаре
(<CODE>ispell-complete-word</CODE>).
<DT><KBD>M-x ispell-buffer</KBD>
<DD>
Проверяет и исправляет написание всех слов в буфере.
<DT><KBD>M-x ispell-region</KBD>
<DD>
Проверяет и исправляет написание всех слов в области.
<DT><KBD>M-x ispell-message</KBD>
<DD>
Проверяет и исправляет написание всех слов в черновике почтового
сообщения, за исключением цитируемого материала.
<DT><KBD>M-x ispell-change-dictionary <KBD>RET</KBD> <VAR>словарь</VAR> <KBD>RET</KBD></KBD>
<DD>
Перезапускает процесс Ispell, используя <VAR>словарь</VAR> в качестве
словаря.
<DT><KBD>M-x ispell-kill-ispell</KBD>
<DD>
Уничтожает подпроцесс Ispell.
</DL>

<P>
<A NAME="IDX492"></A>
<A NAME="IDX493"></A>
  Режим Flyspell предоставляет полностью автоматический способ проверить
правописание во время редактирования в Emacs.  Он работает путем
проверки слов по мере того, как вы изменяете или вставляете их.  Когда
он находит нераспознанное слово, он выделяет его.  Это не влияет на ваше
редактирование, но когда вы видите выделенное слово, вы можете
переместиться к нему и исправить.  Чтобы включить этот режим в текущем
буфере, наберите <KBD>M-x flyspell-mode</KBD>.


<P>
  Когда режим Flyspell выделяет неправильно написанное слово, вы можете
щелкнуть на этом слове <KBD>Mouse-2</KBD>, чтобы получить меню возможных
исправлений и действий.  Вы также можете исправить слово, отредактировав
его вручную любым способом, который вам нравится.


<P>
  Другие возможности Emacs по проверке правописания проверяют или ищут
слова, когда вы даете явную команду для этого.  Проверка всего или части
буфера полезна, когда у вас есть текст, который был написан не в данном
сеансе Emacs и может содержать любое число ошибок.


<P>
<A NAME="IDX494"></A>
<A NAME="IDX495"></A>
  Для проверки орфографии в слове вокруг точки или после нее и,
возможно, для его исправления, используйте команду <KBD>M-$</KBD>
(<CODE>ispell-word</CODE>).  Если слово написано неправильно, эта команда
предложит вам несколько вариантов действий.


<P>
<A NAME="IDX496"></A>
<A NAME="IDX497"></A>
  Чтобы проверить правописание во всем текущем буфере, запустите команду
<KBD>M-x ispell-buffer</KBD>.  Используйте <KBD>M-x ispell-region</KBD> для
проверки только текущей области.  Чтобы проверить орфографию в почтовом
сообщении, которое вы пишите, используйте <KBD>M-x ispell-message</KBD>; она
проверяет весь буфер, но не трогает материал, в котором сделан отступ,
или который процитирован из других сообщений.


<P>
  Каждый раз, когда эти команды встречают неправильно написанное слово,
они спрашивают вас о дальнейших действиях.  Они показывают список
вариантов, обычно включающий несколько "похожих слов" -- которые
близки по написанию с проверяемым словом.  Затем вы должны напечатать
один знак.  Вот допустимые варианты ответа:


<DL COMPACT>

<DT><KBD><KBD>SPC</KBD></KBD>
<DD>
Пропустить это слово -- продолжать считать это слово неправильным, но
не изменять его здесь.

<DT><KBD>r <VAR>новое</VAR> <KBD>RET</KBD></KBD>
<DD>
Заменить это слово (только в этом месте) на <VAR>новое</VAR>.

<DT><KBD>R <VAR>новое</VAR> <KBD>RET</KBD></KBD>
<DD>
Заменить это слово на <VAR>новое</VAR> и выполнить <CODE>query-replace</CODE>,
чтобы вы могли заменить его во всех других местах буфера, если хотите.

<DT><KBD><VAR>цифра</VAR></KBD>
<DD>
Заменить это слово (только в этом месте) на одно из показанных похожих
слов.  Каждое похожее слово перечисляется с цифрой; чтобы выбрать его,
наберите эту цифру.

<DT><KBD>a</KBD>
<DD>
Принять неправильное слово -- считать его правильным, но только в этом
сеансе редактирования.

<DT><KBD>A</KBD>
<DD>
Принять неправильное слово -- считать его правильным, но только в этом
сеансе редактирования и для этого буфера.

<DT><KBD>i</KBD>
<DD>
Вставить это слово в ваш личный файл словаря, чтобы Ispell отныне считал
его правильным даже в будущих сеансах.

<DT><KBD>u</KBD>
<DD>
Вставить это слово в нижнем регистре в ваш личный файл словаря.

<DT><KBD>m</KBD>
<DD>
Как <KBD>i</KBD>, но вы также можете указать сведения о завершении для
словаря.

<DT><KBD>l <VAR>слово</VAR> <KBD>RET</KBD></KBD>
<DD>
Поискать в словаре слова, сопоставляющиеся со <VAR>словом</VAR>.  Эти слова
становятся новым списком "похожих слов"; вы можете выбрать для замены
одно из них, набрав цифру.  Вы можете использовать в <VAR>слове</VAR> знак
<SAMP>`*'</SAMP> для описания шаблона.

<DT><KBD>C-g</KBD>
<DD>
Выйти из интерактивной проверки правописания.  Вы можете перезапустить
ее позже с помощью <KBD>C-u M-$</KBD>.

<DT><KBD>X</KBD>
<DD>
То же, что и <KBD>C-g</KBD>.

<DT><KBD>x</KBD>
<DD>
Выйти из интерактивной проверки правописания и переместить точку назад,
где она была, когда вы запустили проверку.

<DT><KBD>q</KBD>
<DD>
Выйти из интерактивной проверки правописания и уничтожить процесс
Ispell.

<DT><KBD>C-l</KBD>
<DD>
Перерисовать экран.

<DT><KBD>C-z</KBD>
<DD>
Этот ключ имеет свое обычное значение (приостановить Emacs или
минимизировать этот фрейм).
</DL>

<P>
<A NAME="IDX498"></A>
  Команда <CODE>ispell-complete-word</CODE>, которая привязана к ключу
<KBD>M-<KBD>TAB</KBD></KBD> в режиме Text и родственных с ним режимах, показывает
список завершений, основываясь на исправлении орфографии.  Вставьте
начало слова, а затем напечатайте <KBD>M-<KBD>TAB</KBD></KBD>; эта команда
отобразит окно со списком завершений.  Чтобы выбрать одно из
перечисленных завершений, щелкните на нем <KBD>Mouse-2</KBD> или переместите
к нему курсор и нажмите <KBD>RET</KBD>.  See section <A HREF="emacs_26.html#SEC228">Режим Text</A>.


<P>
<A NAME="IDX499"></A>
<A NAME="IDX500"></A>
  Однажды будучи запущенным, подпроцесс Ispell продолжает работать
(ожидать какой-либо работы), чтобы последующие команды проверки
правописания завершались быстрее.  Если вы хотите избавиться от процесса
Ispell, воспользуйтесь <KBD>M-x ispell-kill-ispell</KBD>.  Обычно это не так
необходимо, поскольку этот процесс не занимает время, когда вы не
проводите проверку правописания.


<P>
<A NAME="IDX501"></A>
  Ispell использует два словаря: стандартный и ваш личный.  Переменная
<CODE>ispell-dictionary</CODE> задает имя используемого файла стандартного
словаря.  Значение <CODE>nil</CODE> говорит, что нужно использовать словарь по
умолчанию.  Команда <KBD>M-x ispell-change-dictionary</KBD> устанавливает эту
переменную и затем перезапускает подпроцесс Ispell, чтобы он использовал
другой словарь.
<P><HR><P>
Go to the <A HREF="emacs_1.html">first</A>, <A HREF="emacs_17.html">previous</A>, <A HREF="emacs_19.html">next</A>, <A HREF="emacs_46.html">last</A> section, <A HREF="emacs_toc.html">table of contents</A>.
</BODY>
</HTML>
