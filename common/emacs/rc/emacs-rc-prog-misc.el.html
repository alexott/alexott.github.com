<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.34 in inline-css mode. -->
<html>
  <head>
    <title>emacs-rc-prog-misc.el</title>
  </head>
  <body style="color: #000000; background-color: #ebebeb;">
    <pre>
<span style="color: #666666;">;;; </span><span style="color: #666666;">emacs-rc-prog-misc.el --- 
</span>
<span style="color: #666666;">;; </span><span style="color: #666666;">Copyright (C) 2003 Alex Ott
</span><span style="color: #666666;">;;</span><span style="color: #666666;">
</span><span style="color: #666666;">;; </span><span style="color: #666666;">Author: alexott@gmail.com
</span><span style="color: #666666;">;; </span><span style="color: #666666;">Version: $Id: emacs-prog-misc.el,v 0.0 2003/11/20 11:30:47 ott Exp $
</span><span style="color: #666666;">;; </span><span style="color: #666666;">Keywords: 
</span><span style="color: #666666;">;; </span><span style="color: #666666;">Requirements: 
</span><span style="color: #666666;">;; </span><span style="color: #666666;">Status: not intended to be distributed yet
</span>
(add-to-list 'load-path <span style="color: #008b00;">"~/emacs/programming"</span>)
<span style="color: #666666;">;;; </span><span style="color: #666666;">find-func
</span>(load <span style="color: #008b00;">"find-func"</span>)
(global-set-key [(control ?c) ?f] 'find-function)
(global-set-key [(control ?c) ?4 ?f] 'find-function-other-window)
(global-set-key [(control ?c) ?5 ?f] 'find-function-other-frame)
(global-set-key [(control ?c) ?k] 'find-function-on-key)

<span style="color: #666666;">;; </span><span style="color: #666666;">VCS
</span><span style="color: #666666;">;; </span><span style="color: #666666;">(require 'vc)
</span>(<span style="color: #a020f0;">require</span> '<span style="color: #00008b;">psvn</span>)

<span style="color: #666666;">;; </span><span style="color: #666666;">compile
</span>(<span style="color: #a020f0;">require</span> '<span style="color: #00008b;">compile</span>)
(setq compilation-disable-input nil)
(setq compilation-scroll-output t)
(setq mode-compile-always-save-buffer-p t)
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">My-Compile</span> ()
  <span style="color: #666666;">"Saves all unsaved buffers, and runs 'compile'."</span>
  (interactive)
  (save-some-buffers t)
  (<span style="color: #a020f0;">let</span> ((fname (or (buffer-file-name) default-directory)))
    (<span style="color: #a020f0;">if</span> (and (stringp fname) (string-match-p <span style="color: #008b00;">"/webwasher-ng/"</span> fname))
        (<span style="color: #a020f0;">let*</span> ((dir-name (file-name-directory fname))
               (str-m (string-match <span style="color: #008b00;">"/webwasher-ng/"</span> dir-name))
               (subdir-name (substring dir-name (match-end 0))))
          (message <span style="color: #008b00;">"%s %s"</span> str-m subdir-name)
          (compile (concat 
                    <span style="color: #008b00;">"(cd ~/work/webwasher-ng/Debug/"</span> subdir-name
                    <span style="color: #008b00;">"; make -j2) &amp;&amp; (cd ~/work/webwasher-ng/Release/"</span>
                    subdir-name <span style="color: #008b00;">"; make -j2)"</span>)))
      (compile compile-command))))

<span style="color: #666666;">;; </span><span style="color: #666666;">sh mode hook
</span>(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my-sh-mode-hook</span> ()
  (local-set-key [return] 'newline-and-indent)
  (local-set-key <span style="color: #008b00;">"\C-m"</span> 'newline-and-indent)
  (local-set-key <span style="color: #008b00;">"\C-c\C-c"</span> 'comment-region)
  (local-set-key <span style="color: #008b00;">"\C-u\C-c\C-c"</span> 'comment-region)
  )
(add-hook 'sh-mode-hook 'my-sh-mode-hook)


<span style="color: #666666;">;; </span><span style="color: #666666;">Working with RPM specs
</span>(autoload 'rpm-spec-mode <span style="color: #008b00;">"rpm-spec-mode"</span> <span style="color: #666666;">"RPM spec mode."</span> t)
(add-to-list 'auto-mode-alist '(<span style="color: #008b00;">"\\.spec$"</span> . rpm-spec-mode))

(autoload 'smerge-mode <span style="color: #008b00;">"smerge-mode"</span> nil t)

(autoload 'po-mode <span style="color: #008b00;">"po-mode"</span>  <span style="color: #666666;">"Major mode for translators to edit PO files"</span> t)
(add-to-list 'auto-mode-alist '(<span style="color: #008b00;">"\\.po$</span><span style="color: #008b00; font-weight: bold;">\\</span><span style="color: #008b00; font-weight: bold;">|</span><span style="color: #008b00;">\\.po\\."</span> . po-mode))

(add-to-list 'auto-mode-alist '(<span style="color: #008b00;">"\\.log$"</span> . auto-revert-mode))

<span style="color: #666666;">;; </span><span style="color: #666666;">support for CMake
</span>(<span style="color: #a020f0;">require</span> '<span style="color: #00008b;">cmake-mode</span>)
(add-to-list 'auto-mode-alist '(<span style="color: #008b00;">"CMakeLists\\.txt\\'"</span> . cmake-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #008b00;">"\\.cmake\\'"</span> . cmake-mode))
(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my-cmake-mode-hook</span> ()
  (local-set-key [return] 'newline-and-indent)
  (local-set-key <span style="color: #008b00;">"\C-m"</span> 'newline-and-indent)
  (local-set-key <span style="color: #008b00;">"\C-c\C-c"</span> 'comment-region)
  (local-set-key <span style="color: #008b00;">"\C-u\C-c\C-c"</span> 'uncomment-region)
  )
(add-hook 'cmake-mode-hook 'my-cmake-mode-hook)

<span style="color: #666666;">;; </span><span style="color: #666666;">gdb/gud
</span>(setq gdb-many-windows t)
(setq gdb-show-main t)
(setq gud-chdir-before-run nil)
(setq gud-tooltip-mode t)

<span style="color: #666666;">;; </span><span style="color: #666666;">automatically indenting yanked text if in programming-modes
</span><span style="color: #666666;">;; </span><span style="color: #666666;">(defvar yank-indent-modes '(emacs-lisp-mode lisp-mode
</span><span style="color: #666666;">;;                             </span><span style="color: #666666;">c-mode c++-mode js2-mode
</span><span style="color: #666666;">;;                             </span><span style="color: #666666;">tcl-mode sql-mode
</span><span style="color: #666666;">;;                             </span><span style="color: #666666;">perl-mode cperl-mode
</span><span style="color: #666666;">;;                             </span><span style="color: #666666;">java-mode jde-mode
</span><span style="color: #666666;">;;                             </span><span style="color: #666666;">lisp-interaction-mode
</span><span style="color: #666666;">;;                             </span><span style="color: #666666;">LaTeX-mode TeX-mode)
</span><span style="color: #666666;">;;   </span><span style="color: #666666;">"Modes in which to indent regions that are yanked (or yank-popped)")
</span>
<span style="color: #666666;">;; </span><span style="color: #666666;">(defvar yank-advised-indent-threshold 1000
</span><span style="color: #666666;">;;   </span><span style="color: #666666;">"Threshold (# chars) over which indentation does not automatically occur.")
</span>
<span style="color: #666666;">;; </span><span style="color: #666666;">(defun yank-advised-indent-function (beg end)
</span><span style="color: #666666;">;;   </span><span style="color: #666666;">"Do indentation, as long as the region isn't too large."
</span><span style="color: #666666;">;;   </span><span style="color: #666666;">(if (&lt;= (- end beg) yank-advised-indent-threshold)
</span><span style="color: #666666;">;;       </span><span style="color: #666666;">(indent-region beg end nil)))
</span>
<span style="color: #666666;">;; </span><span style="color: #666666;">(defadvice yank (after yank-indent activate)
</span><span style="color: #666666;">;;   </span><span style="color: #666666;">"If current mode is one of 'yank-indent-modes, indent yanked text (with prefix arg don't indent)."
</span><span style="color: #666666;">;;   </span><span style="color: #666666;">(if (and (not (ad-get-arg 0))
</span><span style="color: #666666;">;;            </span><span style="color: #666666;">(member major-mode yank-indent-modes))
</span><span style="color: #666666;">;;       </span><span style="color: #666666;">(let ((transient-mark-mode nil))
</span><span style="color: #666666;">;; </span><span style="color: #666666;">       (yank-advised-indent-function (region-beginning) (region-end)))))
</span>
<span style="color: #666666;">;; </span><span style="color: #666666;">(defadvice yank-pop (after yank-pop-indent activate)
</span><span style="color: #666666;">;;   </span><span style="color: #666666;">"If current mode is one of 'yank-indent-modes, indent yanked text (with prefix arg don't indent)."
</span><span style="color: #666666;">;;   </span><span style="color: #666666;">(if (and (not (ad-get-arg 0))
</span><span style="color: #666666;">;;            </span><span style="color: #666666;">(member major-mode yank-indent-modes))
</span><span style="color: #666666;">;; </span><span style="color: #666666;">     (let ((transient-mark-mode nil))
</span><span style="color: #666666;">;; </span><span style="color: #666666;">     (yank-advised-indent-function (region-beginning) (region-end)))))
</span>
<span style="color: #666666;">;; </span><span style="color: #666666;">flymake
</span>(<span style="color: #a020f0;">require</span> '<span style="color: #00008b;">flymake</span>)
<span style="color: #666666;">;; </span><span style="color: #666666;">todo - simply clear all default rules?
</span>(setq flymake-allowed-file-name-masks (delete '(<span style="color: #008b00;">"\\.c\\'"</span> flymake-simple-make-init) flymake-allowed-file-name-masks))
(setq flymake-allowed-file-name-masks (delete '(<span style="color: #008b00;">"\\.cpp\\'"</span> flymake-simple-make-init) flymake-allowed-file-name-masks))
(setq flymake-allowed-file-name-masks (delete '(<span style="color: #008b00;">"\\.cs\\'"</span> flymake-simple-make-init) flymake-allowed-file-name-masks))
(setq flymake-allowed-file-name-masks (delete '(<span style="color: #008b00;">"\\.h\\'"</span> flymake-master-make-header-init flymake-master-cleanup) flymake-allowed-file-name-masks))
(setq flymake-allowed-file-name-masks (delete '(<span style="color: #008b00;">"\\.xml\\'"</span> flymake-xml-init) flymake-allowed-file-name-masks))
(setq flymake-allowed-file-name-masks (delete '(<span style="color: #008b00;">"\\.html?\\'"</span> flymake-xml-init) flymake-allowed-file-name-masks))
(setq flymake-allowed-file-name-masks (delete '(<span style="color: #008b00;">"\\.tex\\'"</span> flymake-simple-tex-init) flymake-allowed-file-name-masks))
(setq flymake-allowed-file-name-masks (delete '(<span style="color: #008b00;">"[0-9]+\\.tex\\'"</span> flymake-master-tex-init flymake-master-cleanup) flymake-allowed-file-name-masks))
<span style="color: #666666;">;; </span><span style="color: #666666;">(delete ' flymake-allowed-file-name-masks)
</span>(add-hook 'find-file-hook 'flymake-find-file-hook)

<span style="color: #666666;">;; </span><span style="color: #666666;">company-mode
</span>(<span style="color: #a020f0;">require</span> '<span style="color: #00008b;">company-mode</span>)
(<span style="color: #a020f0;">require</span> '<span style="color: #00008b;">company-bundled-completions</span>)
(company-install-bundled-completions-rules)

<span style="color: #666666;">;; </span><span style="color: #666666;">gtags
</span>(autoload 'gtags-mode <span style="color: #008b00;">"gtags"</span> <span style="color: #666666;">""</span> t)

<span style="color: #666666;">;;; </span><span style="color: #666666;">emacs-prog-misc.el ends here
</span></pre>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
	_uacct = "UA-78697-3";
	urchinTracker();
</script>
  </body>
</html>
