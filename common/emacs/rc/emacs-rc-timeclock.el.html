<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.34 in css mode. -->
<html>
  <head>
    <title>emacs-rc-timeclock.el</title>
    <style type="text/css">
    <!--
      body {
        color: #000000;
        background-color: #ebebeb;
      }
      .comment {
        /* font-lock-comment-face */
        color: #666666;
      }
      .comment-delimiter {
        /* font-lock-comment-delimiter-face */
        color: #666666;
      }
      .constant {
        /* font-lock-constant-face */
        color: #00008b;
      }
      .function-name {
        /* font-lock-function-name-face */
        color: #0000ff;
      }
      .keyword {
        /* font-lock-keyword-face */
        color: #a020f0;
      }
      .string {
        /* font-lock-string-face */
        color: #008b00;
      }
      .variable-name {
        /* font-lock-variable-name-face */
        color: #8b0000;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
<span class="comment-delimiter">;;; </span><span class="comment">emacs-rc-timeclock.el --- 
</span>
<span class="comment-delimiter">;; </span><span class="comment">Copyright (C) 2003 Alex Ott
</span><span class="comment-delimiter">;;</span><span class="comment">
</span><span class="comment-delimiter">;; </span><span class="comment">Author: alexott@gmail.com
</span><span class="comment-delimiter">;; </span><span class="comment">Keywords: 
</span><span class="comment-delimiter">;; </span><span class="comment">Requirements: 
</span><span class="comment-delimiter">;; </span><span class="comment">Status: not intended to be distributed yet
</span>
(<span class="keyword">require</span> '<span class="constant">timeclock</span>)
(global-set-key <span class="string">"\C-ccst"</span> 'timeclock-in)
(global-set-key <span class="string">"\C-cce"</span> 'timeclock-out)
(global-set-key <span class="string">"\C-ccr"</span> 'timeclock-reread-log)
(global-set-key <span class="string">"\C-ccu"</span> 'timeclock-update-string)
<span class="comment-delimiter">;;</span><span class="comment">(global-set-key "\C-ct" 'timeclock-when-to-leave)
</span>   
(<span class="keyword">defvar</span> <span class="variable-name">timeclock-string</span> nil)
   
(nconc global-mode-string '(timeclock-string))
   
(<span class="keyword">defun</span> <span class="function-name">timeclock-update-string</span> ()
  (interactive)
  (<span class="keyword">let*</span> ((remainder (timeclock-workday-remaining t))
   (last-in (equal (car timeclock-last-event) <span class="string">"i"</span>)))
    (setq timeclock-string
    (format <span class="string">"   %c%s%c"</span>
      (<span class="keyword">if</span> last-in ?&lt; ?[)
          remainder
          (<span class="keyword">if</span> last-in ?&gt; ?])))))

<span class="comment-delimiter">;;</span><span class="comment">(run-at-time nil 60 'timeclock-update-string)
</span>
(add-hook 'timeclock-event-hook 'timeclock-update-string)
(add-hook 'timeclock-in-hook    'timeclock-reread-log)
(add-hook 'timeclock-out-hook   'timeclock-reread-log)

<span class="comment-delimiter">;;; </span><span class="comment">emacs-rc-timeclock.el ends here
</span></pre>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
	_uacct = "UA-78697-3";
	urchinTracker();
</script>
  </body>
</html>
