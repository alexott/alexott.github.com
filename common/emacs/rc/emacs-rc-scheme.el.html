<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.34 in inline-css mode. -->
<html>
  <head>
    <title>emacs-rc-scheme.el</title>
  </head>
  <body style="color: #000000; background-color: #ebebeb;">
    <pre>
<span style="color: #666666;">;;; </span><span style="color: #666666;">emacs-rc-scheme.el --- 
</span>
<span style="color: #666666;">;; </span><span style="color: #666666;">Copyright (C) 2003 Alex Ott
</span><span style="color: #666666;">;;</span><span style="color: #666666;">
</span><span style="color: #666666;">;; </span><span style="color: #666666;">Author: alexott@gmail.com
</span><span style="color: #666666;">;; </span><span style="color: #666666;">Keywords: 
</span><span style="color: #666666;">;; </span><span style="color: #666666;">Requirements: 
</span><span style="color: #666666;">;; </span><span style="color: #666666;">Status: not intended to be distributed yet
</span>
(autoload 'run-scheme <span style="color: #008b00;">"cmuscheme"</span> <span style="color: #666666;">"Run an inferior Scheme"</span> t)
(setq scheme-program-name <span style="color: #008b00;">"mzscheme"</span>)

(<span style="color: #a020f0;">require</span> '<span style="color: #00008b;">quack</span>)
(setq quack-remap-find-file-bindings-p nil)

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">insert-balanced-comments</span> (arg)
  <span style="color: #666666;">"Insert a set of balanced comments around the s-expression 
containing the point.  If this command is invoked repeatedly
</span><span style="color: #ff0000; font-weight: bold;">(</span><span style="color: #666666;">without any other command occurring between invocations), the 
comment progressively moves outward over enclosing expressions."</span>
  (interactive <span style="color: #008b00;">"*p"</span>)
  (<span style="color: #a020f0;">save-excursion</span>
    (<span style="color: #a020f0;">when</span> (eq last-command this-command)
      (<span style="color: #a020f0;">when</span> (search-backward <span style="color: #008b00;">"#|"</span> nil t)
        (<span style="color: #a020f0;">save-excursion</span>
          (delete-char 2)
          (<span style="color: #a020f0;">while</span> (and (&lt; (point) (point-max)) (not (looking-at <span style="color: #008b00;">" *|#"</span>)))
            (forward-sexp))
          (replace-match <span style="color: #008b00;">""</span>))))
    (<span style="color: #a020f0;">while</span> (&gt; arg 0)
      (backward-char 1)
      (<span style="color: #a020f0;">cond</span> ((looking-at <span style="color: #008b00;">")"</span>) (incf arg))
            ((looking-at <span style="color: #008b00;">"("</span>) (decf arg))))
    (insert <span style="color: #008b00;">"#|"</span>)
    (forward-sexp)
    (insert <span style="color: #008b00;">"|#"</span>)))

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">remove-balanced-comments</span> ()
  <span style="color: #666666;">"Remove a set of balanced comments enclosing point."</span>
  (interactive <span style="color: #008b00;">"*"</span>)
  (<span style="color: #a020f0;">save-excursion</span>
    (<span style="color: #a020f0;">when</span> (search-backward <span style="color: #008b00;">"#|"</span> nil t)
      (delete-char 2)
      (<span style="color: #a020f0;">while</span> (and (&lt; (point) (point-max)) (not (looking-at <span style="color: #008b00;">" *|#"</span>)))
  (forward-sexp))
      (replace-match <span style="color: #008b00;">""</span>))))

(add-hook 'inferior-scheme-mode-hook
          '(<span style="color: #a020f0;">lambda</span> ()
             (split-window)))

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">r5rs-call</span> ()
  <span style="color: #666666;">"Calls r5rs info for current symbol"</span>
  (interactive)
  (<span style="color: #a020f0;">ignore-errors</span>
    (<span style="color: #a020f0;">let</span> ((symbol (thing-at-point 'symbol)))
      (info <span style="color: #008b00;">"(r5rs)"</span>)
      (Info-index symbol))))

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my-scheme-mode-hook</span> ()
  <span style="color: #666666;">"My customization of Scheme Mode"</span>
  (local-set-key [return] 'newline-and-indent)
  (local-set-key [(control c) (\;)] 'insert-balanced-comments)
  (local-set-key [(control c) (:)] 'remove-balanced-comments)
  (local-set-key <span style="color: #008b00;">"\C-c\C-c"</span> 'comment-region)
  (local-set-key [f1] 'r5rs-call)
)

(add-hook 'scheme-mode-hook 'my-scheme-mode-hook)

(add-to-list 'auto-mode-alist '(<span style="color: #008b00;">"\\.dsl$"</span> . scheme-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #008b00;">"\\.scm$"</span> . scheme-mode))

<span style="color: #666666;">;;; </span><span style="color: #666666;">emacs-rc-scheme.el ends here
</span></pre>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
	_uacct = "UA-78697-3";
	urchinTracker();
</script>
  </body>
</html>
