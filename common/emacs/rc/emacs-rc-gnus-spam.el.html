<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.34 in inline-css mode. -->
<html>
  <head>
    <title>emacs-rc-gnus-spam.el</title>
  </head>
  <body style="color: #000000; background-color: #ebebeb;">
    <pre>
<span style="color: #666666;">;; </span><span style="color: #666666;">-*- mode: lisp; -*-
</span><span style="color: #666666;">;; </span><span style="color: #666666;">spam splitting with gnus
</span><span style="color: #666666;">;; </span><span style="color: #666666;">Alex Ott &lt;<a href="mailto:alexott&#64;gmail.com">alexott&#64;gmail.com</a>&gt;
</span>
<span style="color: #666666;">;; </span><span style="color: #666666;">Split mail with catch of spam
</span>(setq spam-install-hooks t)
(setq spam-use-stat t)
(<span style="color: #a020f0;">require</span> '<span style="color: #00008b;">spam-stat</span>)
(<span style="color: #a020f0;">require</span> '<span style="color: #00008b;">spam</span>)
<span style="color: #666666;">;</span><span style="color: #666666;">(spam-install-hooks-function)
</span><span style="color: #666666;">;; </span><span style="color: #666666;">
</span>(<span style="color: #a020f0;">when</span> (file-exists-p spam-stat-file)
  (spam-stat-load))
(setq spam-stat-split-fancy-spam-group <span style="color: #008b00;">"SPAM-new"</span>)

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my-spam-stat-learn</span> ()
  <span style="color: #666666;">"Learn about my spam and non-spam"</span>
  (interactive)
  (<span style="color: #a020f0;">let</span> ((starting (current-time-string)))
    <span style="color: #666666;">;; </span><span style="color: #666666;">LEARN SPAM
</span>    (<span style="color: #a020f0;">let</span> ((spam-groups '(<span style="color: #008b00;">"SPAM-new"</span> <span style="color: #008b00;">"SPAM"</span>)))
      (mapc (<span style="color: #a020f0;">lambda</span> (x)
        (spam-stat-process-spam-directory
         (format <span style="color: #008b00;">"~/Mail/%s"</span> x)))
      spam-groups))
    
    <span style="color: #666666;">;; </span><span style="color: #666666;">LEARN HAM
</span>    (<span style="color: #a020f0;">let</span> ((ham-groups '(<span style="color: #008b00;">"inbox"</span> <span style="color: #008b00;">"openfwtk"</span> <span style="color: #008b00;">"boost-devel"</span> <span style="color: #008b00;">"dg"</span> <span style="color: #008b00;">"emacs-devel"</span> <span style="color: #008b00;">"mzscheme"</span> <span style="color: #008b00;">"dvc"</span>)))
      (mapc (<span style="color: #a020f0;">lambda</span> (x)
        (spam-stat-process-non-spam-directory
         (format <span style="color: #008b00;">"~/Mail/%s"</span> x)))
      ham-groups))

    <span style="color: #666666;">;; </span><span style="color: #666666;">TRIM DB and SAVE
</span>    (spam-stat-reduce-size)
    (spam-stat-save)

    <span style="color: #666666;">;; </span><span style="color: #666666;">PRINT MESSAGE ABOUT ELAPSED TIME
</span>    (message <span style="color: #008b00;">"my-spam-stat-learn:  started at %s, ended at %s"</span>
       starting (current-time-string))))

</pre>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
	_uacct = "UA-78697-3";
	urchinTracker();
</script>
  </body>
</html>
