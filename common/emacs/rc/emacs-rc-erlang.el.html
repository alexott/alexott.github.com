<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.34 in inline-css mode. -->
<html>
  <head>
    <title>emacs-rc-erlang.el</title>
  </head>
  <body style="color: #000000; background-color: #ebebeb;">
    <pre>
<span style="color: #666666;">;;; </span><span style="color: #666666;">emacs-rc-erlang.el --- 
</span>
<span style="color: #666666;">;; </span><span style="color: #666666;">Copyright (C) 2008 Alex Ott
</span><span style="color: #666666;">;;</span><span style="color: #666666;">
</span><span style="color: #666666;">;; </span><span style="color: #666666;">Author: alexott@gmail.com
</span>
(add-to-list 'load-path <span style="color: #008b00;">"~/emacs/erlware-mode"</span>)
(<span style="color: #a020f0;">require</span> '<span style="color: #00008b;">erlang-start</span>)

(add-to-list 'auto-mode-alist '(<span style="color: #008b00;">"\\.erl?$"</span> . erlang-mode))
(add-to-list 'auto-mode-alist '(<span style="color: #008b00;">"\\.hrl?$"</span> . erlang-mode))

(add-to-list 'load-path <span style="color: #008b00;">"~/emacs/distel/elisp"</span>)
(<span style="color: #a020f0;">require</span> '<span style="color: #00008b;">distel</span>)
(distel-setup)

<span style="color: #666666;">;; </span><span style="color: #666666;">flymake for erlang
</span>(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">flymake-erlang-init</span> ()
  (<span style="color: #a020f0;">let*</span> ((temp-file (flymake-init-create-temp-buffer-copy
                     'flymake-create-temp-inplace))
         (local-file (file-relative-name
                      temp-file
                      (file-name-directory buffer-file-name))))
    (list <span style="color: #008b00;">"~/emacs/bin/eflymake"</span> (list local-file))))

(add-to-list 'flymake-allowed-file-name-masks
             '(<span style="color: #008b00;">"\\.erl\\'"</span> flymake-erlang-init))

(<span style="color: #a020f0;">defun</span> <span style="color: #0000ff;">my-erlang-mode-hook</span> ()
  <span style="color: #666666;">;; </span><span style="color: #666666;">when starting an Erlang shell in Emacs, default in the node name
</span>  (setq inferior-erlang-machine-options '(<span style="color: #008b00;">"-sname"</span> <span style="color: #008b00;">"emacs"</span>))
  <span style="color: #666666;">;; </span><span style="color: #666666;">add Erlang functions to an imenu menu
</span>  (imenu-add-to-menubar <span style="color: #008b00;">"imenu"</span>)
  <span style="color: #666666;">;; </span><span style="color: #666666;">keys
</span>  (local-set-key [return] 'newline-and-indent)
  )
<span style="color: #666666;">;; </span><span style="color: #666666;">Some Erlang customizations
</span>(add-hook 'erlang-mode-hook 'my-erlang-mode-hook)

<span style="color: #666666;">;; </span><span style="color: #666666;">A number of the erlang-extended-mode key bindings are useful in the shell too
</span>(<span style="color: #a020f0;">defconst</span> <span style="color: #8b0000;">distel-shell-keys</span>
  '((<span style="color: #008b00;">"\C-\M-i"</span>   erl-complete)
    (<span style="color: #008b00;">"\M-?"</span>      erl-complete)  
    (<span style="color: #008b00;">"\M-."</span>      erl-find-source-under-point)
    (<span style="color: #008b00;">"\M-,"</span>      erl-find-source-unwind) 
    (<span style="color: #008b00;">"\M-*"</span>      erl-find-source-unwind) 
    )
  <span style="color: #666666;">"Additional keys to bind when in Erlang shell."</span>)

(add-hook 'erlang-shell-mode-hook
          (<span style="color: #a020f0;">lambda</span> ()
            <span style="color: #666666;">;; </span><span style="color: #666666;">add some Distel bindings to the Erlang shell
</span>            (<span style="color: #a020f0;">dolist</span> (spec distel-shell-keys)
              (define-key erlang-shell-mode-map (car spec) (cadr spec)))))

(add-to-list 'load-path <span style="color: #008b00;">"~/emacs/esense"</span>)
(<span style="color: #a020f0;">require</span> '<span style="color: #00008b;">esense-start</span>)
(setq esense-indexer-program <span style="color: #008b00;">"~/emacs/esense/esense.sh"</span>)

<span style="color: #666666;">;;; </span><span style="color: #666666;">emacs-rc-erlang.el ends here
</span></pre>
  </body>
</html>
