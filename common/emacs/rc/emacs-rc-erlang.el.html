<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.34 in css mode. -->
<html>
  <head>
    <title>emacs-rc-erlang.el</title>
    <style type="text/css">
    <!--
      body {
        color: #000000;
        background-color: #ebebeb;
      }
      .comment {
        /* font-lock-comment-face */
        color: #666666;
      }
      .comment-delimiter {
        /* font-lock-comment-delimiter-face */
        color: #666666;
      }
      .constant {
        /* font-lock-constant-face */
        color: #00008b;
      }
      .doc {
        /* font-lock-doc-face */
        color: #666666;
      }
      .function-name {
        /* font-lock-function-name-face */
        color: #0000ff;
      }
      .keyword {
        /* font-lock-keyword-face */
        color: #a020f0;
      }
      .string {
        /* font-lock-string-face */
        color: #008b00;
      }
      .variable-name {
        /* font-lock-variable-name-face */
        color: #8b0000;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
<span class="comment-delimiter">;;; </span><span class="comment">emacs-rc-erlang.el --- 
</span>
<span class="comment-delimiter">;; </span><span class="comment">Copyright (C) 2008 Alex Ott
</span><span class="comment-delimiter">;;</span><span class="comment">
</span><span class="comment-delimiter">;; </span><span class="comment">Author: alexott@gmail.com
</span>
<span class="comment-delimiter">;;; </span><span class="comment">(setq erlang-root-dir "/usr/lib/erlang")
</span><span class="comment-delimiter">;;; </span><span class="comment">(setq exec-path (cons "/usr/lib/erlang/bin" exec-path))
</span>(<span class="keyword">require</span> '<span class="constant">erlang-start</span>)

(add-to-list 'auto-mode-alist '(<span class="string">"\\.erl?$"</span> . erlang-mode))
(add-to-list 'auto-mode-alist '(<span class="string">"\\.hrl?$"</span> . erlang-mode))

(add-to-list 'load-path <span class="string">"~/emacs/distel/elisp"</span>)
(<span class="keyword">require</span> '<span class="constant">distel</span>)
(distel-setup)

<span class="comment-delimiter">;; </span><span class="comment">flymake for erlang
</span><span class="comment-delimiter">;; </span><span class="comment">doesn't work yet
</span>(<span class="keyword">defun</span> <span class="function-name">flymake-erlang-init</span> ()
  (<span class="keyword">let*</span> ((temp-file (flymake-init-create-temp-buffer-copy
                     'flymake-create-temp-inplace))
         (local-file (file-relative-name
                      temp-file
                      (file-name-directory buffer-file-name))))
    (list <span class="string">"~/emacs/bin/eflymake"</span> (list local-file))))

(add-to-list 'flymake-allowed-file-name-masks
             '(<span class="string">"\\.erl\\'"</span> flymake-erlang-init))

(<span class="keyword">defun</span> <span class="function-name">my-erlang-mode-hook</span> ()
  <span class="comment-delimiter">;; </span><span class="comment">when starting an Erlang shell in Emacs, default in the node name
</span>  (setq inferior-erlang-machine-options '(<span class="string">"-sname"</span> <span class="string">"emacs"</span>))
  <span class="comment-delimiter">;; </span><span class="comment">enable flymake
</span>  <span class="comment-delimiter">;;</span><span class="comment">(flymake-mode 1)
</span>  <span class="comment-delimiter">;; </span><span class="comment">add Erlang functions to an imenu menu
</span>  (imenu-add-to-menubar <span class="string">"imenu"</span>))

<span class="comment-delimiter">;; </span><span class="comment">Some Erlang customizations
</span>(add-hook 'erlang-mode-hook 'my-erlang-mode-hook)

<span class="comment-delimiter">;; </span><span class="comment">A number of the erlang-extended-mode key bindings are useful in the shell too
</span>(<span class="keyword">defconst</span> <span class="variable-name">distel-shell-keys</span>
  '((<span class="string">"\C-\M-i"</span>   erl-complete)
    (<span class="string">"\M-?"</span>      erl-complete)  
    (<span class="string">"\M-."</span>      erl-find-source-under-point)
    (<span class="string">"\M-,"</span>      erl-find-source-unwind) 
    (<span class="string">"\M-*"</span>      erl-find-source-unwind) 
    )
  <span class="doc">"Additional keys to bind when in Erlang shell."</span>)

(add-hook 'erlang-shell-mode-hook
          (<span class="keyword">lambda</span> ()
            <span class="comment-delimiter">;; </span><span class="comment">add some Distel bindings to the Erlang shell
</span>            (<span class="keyword">dolist</span> (spec distel-shell-keys)
              (define-key erlang-shell-mode-map (car spec) (cadr spec)))))

<span class="comment-delimiter">;;; </span><span class="comment">emacs-rc-erlang.el ends here
</span></pre>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
	_uacct = "UA-78697-3";
	urchinTracker();
</script>
  </body>
</html>
